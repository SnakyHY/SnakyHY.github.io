window.__require=function e(t,i,n){function o(a,r){if(!i[a]){if(!t[a]){var l=a.split("/");if(l=l[l.length-1],!t[l]){var c="function"==typeof __require&&__require;if(!r&&c)return c(l,!0);if(s)return s(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){return o(t[a][1][e]||e)},u,u.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<n.length;a++)o(n[a]);return o}({BulletConfig:[function(e,t,i){"use strict";cc._RF.push(t,"ecb6dxiwThLnZ2zQmIAeHA0","BulletConfig"),Object.defineProperty(i,"__esModule",{value:!0}),i.BulletConfig=void 0;var n={key_1:["1","\u4f60\u597d",100,100,100],key_2:["2","bullet",120,100,100],key_3:["3","bullet",140,100,100],key_4:["4","bullet",160,100,100],key_5:["5","bullet",170,100,100],key_6:["6","bullet",180,100,100],key_7:["7","bullet",190,100,100],key_8:["8","bullet",200,100,100],key_9:["9","bullet",210,100,100],key_10:["10","bullet",220,100,100],key_11:["11","bullet",230,100,100],key_12:["12","bullet",240,100,100],key_13:["13","bullet",250,100,100],key_14:["14","bullet",260,100,100],key_15:["15","bullet",270,100,100],key_16:["16","bullet",280,100,100],key_17:["17","bullet",290,100,100],key_18:["18","bullet",300,100,100],key_19:["19","bullet",310,100,100],key_20:["20","bullet",320,100,100],total_count:20},o={filed_data_array:n,get_record:function(e){var t=n["key_"+e];return t?{id:t[0],bulletName:t[1],killValue:t[2],speed:t[3],coinCost:t[4]}:null}};i.BulletConfig=o,cc._RF.pop()},{}],ChooseFishData:[function(e,t,i){"use strict";cc._RF.push(t,"f530cxijTlCtK2ANJaTR5pz","ChooseFishData"),Object.defineProperty(i,"__esModule",{value:!0}),i.ChooseFishData=void 0;var n={key_1:["1","cheqiyu",2,0,0,0,1e3,5e3,15e3,0,0,0,1],key_2:["2","dinianyu",3,1,0,0,1e3,5e3,15e3,0,0,0,1],key_3:["3","fangyu",4,0,0,0,1e3,5e3,15e3,0,0,0,1],key_4:["4","haigui",6,1,0,0,900,5e3,15e3,0,0,0,1],key_5:["5","hetun",7,0,0,0,1e3,5e3,15e3,0,0,0,1],key_6:["6","jinqiangyu",8,1,0,0,1e3,5e3,15e3,0,0,0,1],key_7:["7","shiziyu",9,0,0,0,1e3,5e3,15e3,0,0,0,1],key_8:["8","tianshiyu",10,1,0,0,900,5e3,15e3,0,0,0,1],total_count:8},o={filed_data_array:n,get_record:function(e){var t=n["key_"+e];return t?{id:t[0],fishName:t[1],roadIndex:t[2],isRevert:t[3],genTime:t[4],isRandom:t[5],scale:t[6],min_speed:t[7],max_speed:t[8],hp:t[9],coinValue:t[10],expValue:t[11],use_AI:t[12]}:null}};i.ChooseFishData=o,cc._RF.pop()},{}],ClockCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"fa8d440WORFxoEy2/rKA5aH","ClockCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gui=null,t.bar=null,t.label=null,t.clockWise=!1,t.reverse=!1,t.playOnLoad=!1,t.nowTime=0,t.isRuning=!1,t.endFunc=null,t.actionTime=10,t}return __extends(t,e),t.prototype.onLoad=function(){this.label.node.active=!1,this.bar.active=!1,this.sprite=this.bar.getComponent(cc.Sprite),this.playOnLoad&&this.startClockAction(this.actionTime,this.endFunc)},t.prototype.startClockAction=function(e,t){e<=0||(this.gui.getComponent(cc.Button).interactable=!1,this.endFunc=t,this.bar.active=!0,this.label.node.active=!0,this.actionTime=e,this.nowTime=0,this.isRuning=!0)},t.prototype.stopClockAction=function(){this.bar.active=!1,this.isRuning=!1,this.gui.getComponent(cc.Button).interactable=!0},t.prototype.update=function(e){if(this.isRuning){this.nowTime+=e;var t=this.nowTime/this.actionTime;this.label.string=Math.floor((1-t)*this.actionTime+1).toString(),t>=1&&(t=1,this.bar.active=!1,this.isRuning=!1,this.label.node.active=!1,this.gui.getComponent(cc.Button).interactable=!0,this.endFunc&&this.endFunc()),this.reverse&&(t=1-t),this.clockWise&&(t=-t),this.sprite.fillRange=t}},__decorate([s({type:cc.Node,tooltip:"\u6280\u80fdui"})],t.prototype,"gui",void 0),__decorate([s({type:cc.Node,tooltip:"\u51b7\u5374\u65f6\u95f4\u900f\u660e"})],t.prototype,"bar",void 0),__decorate([s({type:cc.Label,tooltip:"\u5012\u8ba1\u65f6\u6587\u5b57"})],t.prototype,"label",void 0),__decorate([s({tooltip:"\u662f\u5426\u9006\u65f6\u9488"})],t.prototype,"clockWise",void 0),__decorate([s({tooltip:"\u8ba1\u65f6\u65b9\u5411"})],t.prototype,"reverse",void 0),__decorate([s({tooltip:"\u662f\u5426\u5728\u52a0\u8f7d\u7684\u65f6\u5019\u5c31\u5f00\u59cb\u8ba1\u65f6"})],t.prototype,"playOnLoad",void 0),__decorate([o],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],Collision_Ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"25fd4ZPw8hFiotE+ZavoNjn","Collision_Ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=(n.property,e("../../../Managers/EventMgr")),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.play_ph=5,t.isInvincible=!1,t.start_hp=0,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){var e=this;this.start_hp=this.play_ph,this.node.getComponent("lq_collide").on_collide=function(t){switch(t.node.group){case"box":s.default.Instance.dispatch_event("GetSupply",t.node);break;case"enemy":e.vibrate("medium"),e.isInvincible||(e.play_ph-=1);break;case"enemy_bullet":if(!e.isInvincible){e.vibrate("light");var i=t.getComponent("enemyCollision_Ctrl").bulletPower;e.play_ph-=i||1}break;case"treatment":e.box_treatment(.1)}s.default.Instance.dispatch_event("playHpR",e.play_ph/e.start_hp),e.play_ph<=0&&e.die()}},t.prototype.box_treatment=function(e){if(this.play_ph<this.start_hp){var t=this.start_hp*e;this.play_ph+t>=this.start_hp?this.play_ph=this.start_hp:this.play_ph+=t}},t.prototype.nodeDestroy=function(){s.default.Instance.dispatch_event("gemeOver",null)},t.prototype.die=function(){var e=this.node.getComponent("FrameAnim");e&&e.playOnce(this.nodeDestroy,this)},t.prototype.vibrate=function(e){cc.sys.platform===cc.sys.WECHAT_GAME?wx.vibrateShort({type:e}):window.tt&&tt.vibrateShort({success:function(){},fail:function(){}})},t.prototype.update=function(){},__decorate([o],t)}(cc.Component);i.default=a,cc._RF.pop()},{"../../../Managers/EventMgr":"EventMgr"}],Collision_bullet:[function(e,t,i){"use strict";cc._RF.push(t,"3026enysp9CsrGDb8zSzDMY","Collision_bullet"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=e("../../UserData"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletPower=1,t.selfSprite=null,t.selfScale=1,t.sprite=null,t.amin_ts=null,t}return __extends(t,e),t.prototype.start=function(){var e=this;this.amin_ts=this.node.getComponent("FrameAnim"),this.bulletPower+=a.default.Instance.userData.power,this.selfScale=this.node.scale,this.sprite=this.node.getComponent(cc.Sprite),this.sprite&&(this.selfSprite=this.sprite.spriteFrame);var t=this.node.getComponent("lq_collide");t.on_collide=function(){if(t.disable_collide(),e.amin_ts)e.amin_ts.playOnce(e.endPlay,e);else{var i=e.node.getComponent("lq_bullet");i?i.destroy_bullet():e.node.destroy()}}},t.prototype.destroyBullet=function(){var e=this.node.getComponent("lq_bullet");e?e.destroy_bullet():this.node.destroy()},t.prototype.endPlay=function(){this.sprite.spriteFrame=this.selfSprite,this.node.scale=this.selfScale,this.destroyBullet()},t.prototype.update=function(){this.node.x>420||this.node.x<-420?this.node.destroy():(this.node.y>700||this.node.y<-700)&&this.node.destroy()},__decorate([s({tooltip:"\u5b50\u5f39\u4f24\u5bb3"})],t.prototype,"bulletPower",void 0),__decorate([o],t)}(cc.Component);i.default=r,cc._RF.pop()},{"../../UserData":"UserData"}],EnableCollision:[function(e,t,i){"use strict";cc._RF.push(t,"e398607KnZJNqv2BPlxjMrn","EnableCollision"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isEnable=!0,t.isDebug=!0,t}return __extends(t,e),t.prototype.onLoad=function(){this.isEnable&&(this.manager=cc.director.getCollisionManager(),cc.director.getPhysicsManager().enabled=!0,this.manager.enabled=this.isEnable,this.isDebug&&(this.manager.enabledDebugDraw=!0))},__decorate([s({tooltip:"\u662f\u5426\u5f00\u542f\u78b0\u649e\u68c0\u6d4b\u7cfb\u7edf"})],t.prototype,"isEnable",void 0),__decorate([s({tooltip:"\u662f\u5426\u5f00\u542f\u78b0\u649e\u68c0\u6d4b\u7cfb\u7edf"})],t.prototype,"isDebug",void 0),__decorate([o],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],EquippedData:[function(e,t,i){"use strict";cc._RF.push(t,"226f9i6p/VKnL0dtULAIRTR","EquippedData"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userDataStr="mEquippedDataPlane_A",t.equippedData={},t.equippedData_first={},t}var i;return __extends(t,e),i=t,t.prototype.onLoad=function(){null===i.Instance?(i.Instance=this,this.equippedData_first={planeName:[{id:0,name:"\u72d0\u72f81\u53f7",url:"player1",title:"\u5c0f\u8bd5\u725b\u5200\u7684\u6218\u673a",hp:5,attack:1,price:0,emitter:"player1_emitter",emitterStr:"\u91cd\u673a\u67aa",isBuy:!0,isChoice:!0},{id:1,name:"\u84dd\u80d6\u5b50",url:"player2",title:"\u6211\u662f\u5927\u5757\u5934",hp:10,attack:2,price:1200,emitter:"player2_emitter",emitterStr:"\u53cc\u52a0\u7279\u6797",isBuy:!1,isChoice:!1},{id:2,name:"\u5929\u738b\u5de8\u661f",url:"player3",title:"\u6211\u7eda\u4e3d\u65e0\u6bd4",hp:12,attack:5,price:2900,emitter:"player3_emitter",emitterStr:"\u706b\u7130\u5f39",isBuy:!1,isChoice:!1},{id:3,name:"\u6536\u5272\u80051\u53f7",url:"player4",title:"\u6536\u5272\u6536\u5272\u8fd8\u662f\u6536\u5272",hp:18,attack:8,price:4500,emitter:"player4_emitter",emitterStr:"\u4e09\u6392\u52a0\u5f3a\u706b\u70ae",isBuy:!1,isChoice:!1},{id:4,name:"\u541e\u566c\u8005",url:"player5",title:"\u6bc1\u706d\u4f60\uff0c\u4e0e\u4f60\u4f55\u5e72",hp:20,attack:10,price:6200,emitter:"player5_emitter",emitterStr:"\u7c92\u5b50\u70ae",isBuy:!1,isChoice:!1}],equippedName:[{id:1,name:"\u666e\u901a\u5bfc\u5f39",url:"skill_1",title:"\u4e00\u9897\u4e00\u9897\u53d1\u5c04",price:180},{id:2,name:"\u5bd2\u51b0\u5bfc\u5f39",url:"skill_2",title:"\u96c6\u7fa4\u53d1\u5c04\uff0c\u5e76\u4e14\u8ddf\u8e2a\u76ee\u6807",price:380},{id:3,name:"\u9632\u62a4\u94a2\u677f",url:"shield",title:"\u9632\u62a4\u529b+3",price:800},{id:4,name:"\u7a7f\u7532\u5f39\u6280\u672f",url:"power",title:"\u653b\u51fb\u529b+1",price:1200},{id:5,name:"\u6838\u5f39",url:"hedan",title:"\u5bf9\u6240\u6709\u654c\u4eba\u9020\u6210\u6bc1\u706d\u6027\u4f24\u5bb3",price:260}],petName:[{id:0,name:"\u5b8c\u7f8e\u53f7",url:"pet_1",title:"\u62e5\u6709\u4e24\u67b6\u50da\u673a\uff0c\u8f85\u52a9\u4f60\u6d88\u706d\u654c\u4eba",isBuy:!1,isChoice:!1,price:500},{id:1,name:"\u62a4\u536b\u8005\u53f7",url:"pet_2",title:"\u5411\u524d\u65b9\u548c\u4e24\u7ffc\u53d1\u5c04\u5f39\u4e38",isBuy:!1,isChoice:!1,price:680},{id:2,name:"H/PJ\u9632\u5fa1\u673a\u70ae",url:"pet_3",title:"\u88c5\u5907\u667a\u80fd\u52a0\u7279\u6797\u706b\u70ae\uff0c\u81ea\u52a8\u9501\u5b9a\u76ee\u6807",isBuy:!1,isChoice:!1,price:950},{id:3,name:"\u9ed1\u5929\u4f7f",url:"pet_4",title:"\u5bf9\u654c\u4eba\u53d1\u5c04\u8ddf\u8e2a\u6697\u5f71\u5bfc\u5f39\uff0c\u5e76\u53d1\u5c04\u6cbb\u7597\u6ce2\u6bcf\u79d2\u6062\u590d\u73a9\u5bb610%\u751f\u547d",isBuy:!1,isChoice:!1,price:1280}]},this.getUserData()):this.destroy()},t.prototype.getUserData=function(){cc.sys.localStorage.getItem(this.userDataStr)?this.equippedData=JSON.parse(cc.sys.localStorage.getItem(this.userDataStr)):(this.equippedData=this.equippedData_first,this.saveUserData())},t.prototype.saveUserData=function(){cc.sys.localStorage.setItem(this.userDataStr,JSON.stringify(this.equippedData))},t.Instance=null,i=__decorate([o],t)}(cc.Component));i.default=s,cc._RF.pop()},{}],EquippedPkg:[function(e,t,i){"use strict";cc._RF.push(t,"0606d99TRlGTpyIfqfKyHo9","EquippedPkg"),Object.defineProperty(i,"__esModule",{value:!0});var n={Sounds:{assetType:cc.AudioClip,urls:[]},ui_prefabs:{assetType:cc.Prefab,urls:["Equipped_UI"]},Gui:{assetType:cc.Prefab,urls:["other/playerItem","other/equippedItem","other/petItem","other/skill_1","other/skill_2","other/shield","other/power","other/hedan","player/player1","player/player2","player/player3","player/player4","player/player5","pet/pet_1","pet/pet_2","pet/pet_3","pet/pet_4"]}};i.default=n,cc._RF.pop()},{}],Equipped_UI_Ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"567f4sN1r5ChZ98/eWe7RVH","Equipped_UI_Ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=(n.property,e("../GameApp")),a=e("./../../Managers/UIMgr"),r=e("../EquippedData"),l=e("../../Managers/ResMgr"),c=e("../UserData"),u=e("../../Managers/WxMgr"),h=e("../../Managers/TtMgr"),_=e("../../Managers/EventMgr"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.planeScrollView=null,t.equippedScrollView=null,t.petScrollView=null,t.pageView=null,t.playerPageBtnBg=null,t.eqPageBtnBg=null,t.petPageBtnBg=null,t.game_gold=null,t.game_medal=null,t.bg=null,t.Content=null,t.shared_type="game_gold",t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),_.default.Instance.add_event_listenner("addJiangli",this,this.getJiangLI2),this.Content=this.view.Content,this.pageView=this.view.PageView.getComponent(cc.PageView),this.planeScrollView=this.view["PageView/view/content/page_1/planeScrollView"].getComponent(cc.ScrollView),this.equippedScrollView=this.view["PageView/view/content/page_2/equippedScrollView"].getComponent(cc.ScrollView),this.petScrollView=this.view["PageView/view/content/page_3/petScrollView"].getComponent(cc.ScrollView),this.game_gold=this.view.game_gold.getComponent(cc.Label),this.game_medal=this.view.game_medal.getComponent(cc.Label),this.playerPageBtnBg=this.view.playerPageBtn.getChildByName("Background"),this.eqPageBtnBg=this.view.eqPageBtn.getChildByName("Background"),this.petPageBtnBg=this.view.petPageBtn.getChildByName("Background"),this.bg=this.view.bg,this.add_button_listen("backHomeBtn",this,this.backHomeOnClick),this.add_button_listen("startGameBtn",this,this.startGameOnClick),this.add_button_listen("playerPageBtn",this,this.goPage1),this.add_button_listen("eqPageBtn",this,this.goPage2),this.add_button_listen("petPageBtn",this,this.goPage3),this.add_button_listen("Content/info/back",this,this.hidDialog),window.tt||window.wx?this.add_button_listen("Content/info/jingliBtn",this,this.Shared):cc.sys.os==cc.sys.OS_ANDROID?this.add_button_listen("Content/info/jingliBtn",this,this.Shared):(this.view["Content/info/jingliBtn/Background/pic"].active=!1,this.add_button_listen("Content/info/jingliBtn",this,this.hidDialog),this.view["Content/info/jingliBtn/Background/Label"].setPosition(0,0),console.log("\u6211\u662fpc")),this.game_gold.string=c.default.Instance.userData.game_gold,this.game_medal.string=c.default.Instance.userData.game_medal,this.goPage1();var t=new cc.Component.EventHandler;t.target=this.node,t.component="Equipped_UI_Ctrl",t.handler="viewcallBack",t.customEventData="",this.pageView.pageEvents.push(t)},t.prototype.upGame_gold=function(e){this.game_gold.string=e.toString()},t.prototype.upGame_medal=function(e){this.game_medal.string=e.toString()},t.prototype.getPageViewPageIndex=function(){var e=this.pageView.getCurrentPageIndex();return console.log("\u5f53\u524d\u7ffb\u9875\u5bb9\u5668\u7684\u9875\u7801 == ",e),e},t.prototype.viewcallBack=function(){var e=this.getPageViewPageIndex();0==e?(this.playerPageBtnBg.color=new cc.Color(255,178,178),this.eqPageBtnBg.color=new cc.Color(255,255,255),this.petPageBtnBg.color=new cc.Color(255,255,255)):1==e?(this.playerPageBtnBg.color=new cc.Color(255,255,255),this.petPageBtnBg.color=new cc.Color(255,255,255),this.eqPageBtnBg.color=new cc.Color(255,178,178)):3==e&&(this.playerPageBtnBg.color=new cc.Color(255,255,255),this.petPageBtnBg.color=new cc.Color(255,178,178),this.eqPageBtnBg.color=new cc.Color(255,255,255))},t.prototype.goPage1=function(){this.init(),this.pageView.scrollToPage(0,.2),this.playerPageBtnBg.color=new cc.Color(255,178,178),this.eqPageBtnBg.color=new cc.Color(255,255,255),this.petPageBtnBg.color=new cc.Color(255,255,255),console.log("\u5f53\u524d\u662f\uff1a"+this.getPageViewPageIndex())},t.prototype.goPage2=function(){this.init2(),this.pageView.scrollToPage(1,.5),this.playerPageBtnBg.color=new cc.Color(255,255,255),this.petPageBtnBg.color=new cc.Color(255,255,255),this.eqPageBtnBg.color=new cc.Color(255,178,178),console.log("\u5f53\u524d\u662f\uff1a"+this.getPageViewPageIndex())},t.prototype.goPage3=function(){this.init3(),this.pageView.scrollToPage(2,.5),this.playerPageBtnBg.color=new cc.Color(255,255,255),this.eqPageBtnBg.color=new cc.Color(255,255,255),this.petPageBtnBg.color=new cc.Color(255,178,178),console.log("\u5f53\u524d\u662f\uff1a"+this.getPageViewPageIndex())},t.prototype.start=function(){this.resetSize(this.node.getParent()),console.log("\u753b\u5e03\u540d\u5b57\uff1a"+this.node.getParent().name),this.goPage1()},t.prototype.resetSize=function(e){var t=cc.view.getFrameSize(),i=cc.view.getDesignResolutionSize();console.log(" frameSize :"+t.height+"/"+t.width),console.log(" designSize :"+i.height+"/"+i.width),t.width/t.height>i.width/i.height?(e.width=i.height*t.width/t.height,e.height=i.height,e.getComponent(cc.Canvas).designResolution=cc.size(e.width,e.height)):(e.width=i.width,e.height=i.width*t.height/t.width,e.getComponent(cc.Canvas).designResolution=cc.size(e.width,e.height)),this.fitScreen(e,i)},t.prototype.fitScreen=function(e,t){var i=e.width/t.width,n=e.height/t.height,o=this.bg,s=e.height/o.height;o.width*=s,o.height*=s,i>n&&(s=e.width/o.width,o.width*=s,o.height*=s)},t.prototype.init3=function(){if(this.petScrollView){this.petScrollView.content.removeAllChildren();var e=0;console.log("\u6eda\u52a8\u6761\uff1a",this.petScrollView);var t=r.default.Instance.equippedData.petName;console.log("\u8bfb\u53d6arr\uff1a",r.default.Instance.equippedData.petName);for(var i=t.length,n=0;n<i;n++){var o=l.default.Instance.getAsset("Gui","other/petItem"),s=l.default.Instance.getAsset("Gui","pet/"+t[n].url);console.log("pet:"+t[n].url);var a=cc.instantiate(o),c=cc.instantiate(s);console.log(t[n].url),a.getChildByName("price").getComponent(cc.Label).string="\u4ef7\u683c\uff1a"+t[n].price,a.getChildByName("name").getComponent(cc.Label).string=""+t[n].name,a.getChildByName("title").getComponent(cc.Label).string=""+t[n].title,t[n].isChoice?a.getChildByName("bg").color=new cc.Color(255,0,0):a.getChildByName("bg").color=new cc.Color(159,159,159),this.petScrollView.content.addChild(a),a.getChildByName("planePic").getChildByName("mask1").addChild(c),c.removeComponent("pet_agent"),c.removeComponent("pet_AI");for(var u=c.children,h=u.length,_=0;_<h;_++)"pao1"==u[_].name&&(u[_].removeComponent("pet_arms_Ctrl"),u[_].getChildByName("w1").destroy()),"emitter"==u[_].name&&u[_].destroy();var d=a.getChildByName("btn"),p=a.getChildByName("buyBtn");if(t[n].isBuy){d.active=!0,p.active=!1;var f=new cc.Component.EventHandler;f.target=this.node,f.component="Equipped_UI_Ctrl",f.handler="choicePet",f.customEventData=n.toString(),d.getComponent(cc.Button).clickEvents.push(f)}else{d.active=!1,p.active=!0;var g=new cc.Component.EventHandler;g.target=this.node,g.component="Equipped_UI_Ctrl",g.handler="buyPet",g.customEventData=JSON.stringify(t[n]),p.getComponent(cc.Button).clickEvents.push(g)}e+=a.height}this.petScrollView.content.height=e,console.log("\u6eda\u52a8\u6761\u7684\u9ad8\u5ea6\uff1a"+e,this.petScrollView.content)}else console.log("\u5ba0\u7269\u83b7\u53d6\u6eda\u52a8\u6761\u5931\u8d25\uff01"+e)},t.prototype.Shared=function(){if(console.log("\u6211\u8981\u83b7\u53d6\u5956\u52b1\u7c7b\u578b\uff1a",this.shared_type),window.tt)h.default.Instance.showVideoAd(this.shared_type,this.getJiangLI,this);else if(window.wx)u.default.Instance.showVideoAd(this.shared_type,this.getJiangLI,this);else{if(cc.sys.os!=cc.sys.OS_ANDROID)return;console.log("\u6211\u662f\u5b89\u5353\u7cfb\u7edf"),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","creatorShowAD","(Ljava/lang/String;)V","addjiangli")}},t.prototype.getJiangLI=function(e,t){console.log("\u6536\u5230\u7684data\uff1a"+t,"\u6536\u5230\u7684type",e),"game_medal"==e?(c.default.Instance.userData[e]+=t,c.default.Instance.saveUserData(),this.upGame_medal(c.default.Instance.userData[e])):"game_gold"==e&&(c.default.Instance.userData[e]+=t,c.default.Instance.saveUserData(),this.upGame_gold(c.default.Instance.userData[e])),this.hidDialog()},t.prototype.getJiangLI2=function(){"game_medal"==this.shared_type?(c.default.Instance.userData[this.shared_type]+=80,c.default.Instance.saveUserData(),this.upGame_medal(c.default.Instance.userData[this.shared_type])):"game_gold"==this.shared_type&&(c.default.Instance.userData[this.shared_type]+=300,c.default.Instance.saveUserData(),this.upGame_gold(c.default.Instance.userData[this.shared_type])),this.hidDialog()},t.prototype.hidDialog=function(){cc.director.resume(),this.Content.getComponent("PopDialogCtrl").hideDialog()},t.prototype.showDialog=function(e){switch(this.shared_type=e,this.Content.getComponent("PopDialogCtrl").showDialog(),this.view["Content/info/jingliBtn/Background/Label/jb"].active=!1,this.view["Content/info/jingliBtn/Background/Label/xz"].active=!1,this.shared_type){case"game_medal":window.wx||window.tt?(this.view["Content/info/jingliBtn/Background/Label/xz"].active=!0,this.view["Content/info/title"].getComponent(cc.Label).string="\u52cb\u7ae0\u4e0d\u8db3\uff0c\u89c2\u770b\u89c6\u9891\u53ef\u7acb\u523b\u83b7\u5f9780\u52cb\u7ae0",this.view["Content/info/jingliBtn/Background/Label"].getComponent(cc.Label).string="+80\u52cb\u7ae0"):cc.sys.os==cc.sys.OS_ANDROID?(this.view["Content/info/jingliBtn/Background/Label/xz"].active=!0,this.view["Content/info/title"].getComponent(cc.Label).string="\u52cb\u7ae0\u4e0d\u8db3\uff0c\u89c2\u770b\u89c6\u9891\u53ef\u7acb\u523b\u83b7\u5f9780\u52cb\u7ae0",this.view["Content/info/jingliBtn/Background/Label"].getComponent(cc.Label).string="+80\u52cb\u7ae0"):(this.view["Content/info/title"].getComponent(cc.Label).string="\u52cb\u7ae0\u4e0d\u8db3",this.view["Content/info/jingliBtn/Background/Label"].getComponent(cc.Label).string="\u5173\u95ed");break;case"game_gold":window.wx||window.tt?(this.view["Content/info/jingliBtn/Background/Label/jb"].active=!0,this.view["Content/info/title"].getComponent(cc.Label).string="\u91d1\u5e01\u4e0d\u8db3\uff0c\u89c2\u770b\u89c6\u9891\u53ef\u7acb\u523b\u83b7\u5f97300\u91d1\u5e01",this.view["Content/info/jingliBtn/Background/Label"].getComponent(cc.Label).string="+300\u91d1\u5e01"):cc.sys.os==cc.sys.OS_ANDROID?(this.view["Content/info/jingliBtn/Background/Label/jb"].active=!0,this.view["Content/info/jingliBtn/Background/Label"].getComponent(cc.Label).string="+300\u91d1\u5e01",this.view["Content/info/title"].getComponent(cc.Label).string="\u91d1\u5e01\u4e0d\u8db3\uff0c\u89c2\u770b\u89c6\u9891\u53ef\u7acb\u523b\u83b7\u5f97300\u91d1\u5e01"):(this.view["Content/info/title"].getComponent(cc.Label).string="\u91d1\u5e01\u4e0d\u8db3",this.view["Content/info/jingliBtn/Background/Label"].getComponent(cc.Label).string="\u5173\u95ed")}},t.prototype.buyPet=function(e,t){var i=JSON.parse(t);console.log(i),c.default.Instance.userData.game_medal<i.price?(console.log("\u52cb\u7ae0\u4e0d\u591f"+c.default.Instance.userData.game_medal),this.showDialog("game_medal")):(r.default.Instance.equippedData.petName[i.id].isBuy=!0,r.default.Instance.saveUserData(),c.default.Instance.userData.game_medal-=i.price,c.default.Instance.saveUserData(),this.upGame_medal(c.default.Instance.userData.game_medal),this.choicePet(null,i.id),this.init3())},t.prototype.choicePet=function(e,t){var i=r.default.Instance.equippedData.petName;c.default.Instance.userData.pet=i[t].url,c.default.Instance.saveUserData();for(var n=0;n<i.length;n++)i[n].isChoice=n==t,r.default.Instance.saveUserData();this.init3()},t.prototype.init=function(){if(this.planeScrollView){this.planeScrollView.content.removeAllChildren();var e=0;console.log("\u6eda\u52a8\u6761\uff1a",this.planeScrollView);var t=r.default.Instance.equippedData.planeName;console.log("\u8bfb\u53d6arr\uff1a",r.default.Instance.equippedData.planeName);for(var i=t.length,n=0;n<i;n++){var o=l.default.Instance.getAsset("Gui","other/playerItem"),s=l.default.Instance.getAsset("Gui","player/"+t[n].url);console.log("player:"+t[n].url);var a=cc.instantiate(o),u=cc.instantiate(s);console.log(t[n].url),a.getChildByName("price").getComponent(cc.Label).string="\u4ef7\u683c\uff1a"+t[n].price,a.getChildByName("emitter").getComponent(cc.Label).string="\u88c5\u5907\u6b66\u5668\uff1a"+t[n].emitterStr,a.getChildByName("shield").getComponent(cc.Label).string="\u9632\u5fa1\u529b\uff1a"+(t[n].hp+c.default.Instance.userData.shield),a.getChildByName("power").getComponent(cc.Label).string="\u653b\u51fb\u529b\uff1a"+(t[n].attack+c.default.Instance.userData.power),a.getChildByName("name").getComponent(cc.Label).string=""+t[n].name,a.getChildByName("title").getComponent(cc.Label).string=""+t[n].title,t[n].isChoice?a.getChildByName("bg").color=new cc.Color(255,0,0):a.getChildByName("bg").color=new cc.Color(159,159,159),this.planeScrollView.content.addChild(a),a.getChildByName("planePic").getChildByName("mask1").addChild(u);var h=a.getChildByName("btn"),_=a.getChildByName("buyBtn");if(t[n].isBuy){h.active=!0,_.active=!1;var d=new cc.Component.EventHandler;d.target=this.node,d.component="Equipped_UI_Ctrl",d.handler="choicePlane",d.customEventData=n.toString(),h.getComponent(cc.Button).clickEvents.push(d)}else{h.active=!1,_.active=!0;var p=new cc.Component.EventHandler;p.target=this.node,p.component="Equipped_UI_Ctrl",p.handler="byPlane",p.customEventData=JSON.stringify(t[n]),_.getComponent(cc.Button).clickEvents.push(p)}e+=a.height}this.planeScrollView.content.height=e}else console.log("\u98de\u673a\u83b7\u53d6\u6eda\u52a8\u6761\u5931\u8d25\uff01")},t.prototype.choicePlane=function(e,t){var i=r.default.Instance.equippedData.planeName;c.default.Instance.userData.plane.player_name=i[t].url,c.default.Instance.userData.plane.hp=i[t].hp,c.default.Instance.userData.plane.emitter=i[t].emitter,c.default.Instance.saveUserData();for(var n=0;n<i.length;n++)i[n].isChoice=n==t,r.default.Instance.saveUserData();this.init()},t.prototype.byPlane=function(e,t){var i=JSON.parse(t);c.default.Instance.userData.game_gold<i.price?(console.log("\u91d1\u5e01\u4e0d\u591f"+c.default.Instance.userData.game_gold),this.showDialog("game_gold")):(r.default.Instance.equippedData.planeName[i.id].isBuy=!0,r.default.Instance.saveUserData(),console.log("\u8d2d\u4e70\u540e\u72b6\u6001\uff1a"+r.default.Instance.equippedData.planeName[i.id].isBuy),c.default.Instance.userData.game_gold-=i.price,c.default.Instance.saveUserData(),this.choicePlane(null,i.id),this.upGame_gold(c.default.Instance.userData.game_gold),this.init())},t.prototype.init2=function(){if(this.equippedScrollView){var e=0;this.equippedScrollView.content.removeAllChildren();var t=r.default.Instance.equippedData.equippedName;console.log("\u83b7\u5f97\u88c5\u5907\u6570\u7ec4\uff1a",t);for(var i=t.length,n=0;n<i;n++){var o=l.default.Instance.getAsset("Gui","other/equippedItem"),s=l.default.Instance.getAsset("Gui","other/"+t[n].url),a=cc.instantiate(o),u=cc.instantiate(s);a.getChildByName("price").getComponent(cc.Label).string="\u4ef7\u683c\uff1a"+t[n].price,a.getChildByName("name").getComponent(cc.Label).string=""+t[n].name,a.getChildByName("title").getComponent(cc.Label).string=""+t[n].title,"shield"==t[n].url||"power"==t[n].url?a.getChildByName("myNum").getComponent(cc.Label).string="\u7b49\u7ea7\uff1a"+c.default.Instance.userData[t[n].url]:a.getChildByName("myNum").getComponent(cc.Label).string="X"+c.default.Instance.userData[t[n].url],this.equippedScrollView.content.addChild(a),a.getChildByName("planePic").addChild(u);var h=a.getChildByName("buyBtn"),_=new cc.Component.EventHandler;_.target=this.node,_.component="Equipped_UI_Ctrl",_.handler="buyEquipped",_.customEventData=JSON.stringify(t[n]),h.getComponent(cc.Button).clickEvents.push(_),e+=a.height,console.log("item\u9ad8\u5ea6\uff1a"+a.height)}this.equippedScrollView.content.height=e}else console.log("\u88c5\u5907\u83b7\u53d6\u6eda\u52a8\u6761\u5931\u8d25\uff01")},t.prototype.buyEquipped=function(e,t){var i=JSON.parse(t);c.default.Instance.userData.game_gold<i.price?this.showDialog("game_gold"):(1==i.id?c.default.Instance.userData[i.url]++:2==i.id?c.default.Instance.userData[i.url]++:3==i.id?c.default.Instance.userData[i.url]+=3:4==i.id?c.default.Instance.userData[i.url]++:5==i.id&&c.default.Instance.userData[i.url]++,c.default.Instance.userData.game_gold-=i.price,c.default.Instance.saveUserData(),console.log(c.default.Instance.userData),this.upGame_gold(c.default.Instance.userData.game_gold),this.init2())},t.prototype.onDestroy=function(){_.default.Instance.remove_event_listenner("addJiangli",this,this.getJiangLI2)},t.prototype.backHomeOnClick=function(){s.default.Instance.enterLoginScene()},t.prototype.startGameOnClick=function(){s.default.Instance.enterGameScene()},t.addJiangli=function(){_.default.Instance.dispatch_event("addJiangli",0)},__decorate([o],t)}(a.UICtrl);i.default=d,cc._RF.pop()},{"../../Managers/EventMgr":"EventMgr","../../Managers/ResMgr":"ResMgr","../../Managers/TtMgr":"TtMgr","../../Managers/WxMgr":"WxMgr","../EquippedData":"EquippedData","../GameApp":"GameApp","../UserData":"UserData","./../../Managers/UIMgr":"UIMgr"}],EventMgr:[function(e,t,i){"use strict";cc._RF.push(t,"894b78TzxVCLYl5Cx61MdQ0","EventMgr"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.events_map={},t}var i;return __extends(t,e),i=t,t.prototype.onLoad=function(){null===i.Instance?i.Instance=this:this.destroy()},t.prototype.add_event_listenner=function(e,t,i){this.events_map[e]||(this.events_map[e]=[]),this.events_map[e].push({caller:t,func:i})},t.prototype.remove_event_listenner=function(e,t,i){if(this.events_map[e]){for(var n=this.events_map[e],o=0;o<n.length;o++){var s=n[o];if(s.caller==t&&s.func==i){n.splice(o,1);break}}n.length<=0&&(this.events_map[e]=null)}},t.prototype.dispatch_event=function(e,t){if(this.events_map[e])for(var i=this.events_map[e],n=0;n<i.length;n++){var o=i[n];o.func.call(o.caller,e,t)}},t.Instance=null,i=__decorate([o],t)}(cc.Component));i.default=s,cc._RF.pop()},{}],FishGenData:[function(e,t,i){"use strict";cc._RF.push(t,"cbc954SindMzb7oM1RSz1cZ","FishGenData"),Object.defineProperty(i,"__esModule",{value:!0}),i.FishGenData=void 0;var n={key_1:["1","cheqiyu",0,0,0,0,600,5e3,15e3,300,500,100,1],key_2:["2","dinianyu",1,1,0,0,700,5e3,15e3,300,500,100,1],key_3:["3","fangyu",2,0,0,0,800,5e3,15e3,300,500,100,1],key_4:["4","haigui",3,1,0,0,900,5e3,15e3,300,500,100,1],key_5:["5","hetun",4,0,0,0,600,5e3,15e3,300,500,100,1],key_6:["6","jinqiangyu",5,1,0,0,700,5e3,15e3,300,500,100,1],key_7:["7","shiziyu",6,0,0,0,800,5e3,15e3,300,500,100,1],key_8:["8","tianshiyu",7,1,0,0,900,5e3,15e3,300,500,100,1],key_9:["9","xiaochouyu",8,0,0,0,600,5e3,15e3,300,500,100,1],key_10:["10","xiaohuangyu",9,1,0,0,700,5e3,15e3,300,500,100,1],key_11:["11","cheqiyu",10,0,0,0,800,5e3,15e3,300,500,100,1],key_12:["12","dinianyu",11,1,0,0,900,5e3,15e3,300,500,100,1],key_13:["13","fangyu",12,0,0,0,600,5e3,15e3,300,500,100,1],key_14:["14","haigui",13,1,0,0,700,5e3,15e3,300,500,100,1],key_15:["15","hetun",14,0,0,0,800,5e3,15e3,300,500,100,1],key_16:["16","jinqiangyu",15,1,0,0,900,5e3,15e3,300,500,100,1],key_17:["17","shiziyu",16,0,0,0,600,5e3,15e3,300,500,100,1],key_18:["18","tianshiyu",17,1,0,0,700,5e3,15e3,300,500,100,1],key_19:["19","xiaochouyu",18,0,0,0,800,5e3,15e3,300,500,100,1],key_20:["20","xiaohuangyu",19,1,0,0,900,5e3,15e3,300,500,100,1],key_21:["21","cheqiyu",20,0,0,0,600,5e3,15e3,300,500,100,1],key_22:["22","dinianyu",21,1,0,0,700,5e3,15e3,300,500,100,1],key_23:["23","fangyu",22,0,0,0,800,5e3,15e3,300,500,100,1],key_24:["24","haigui",23,1,0,0,900,5e3,15e3,300,500,100,1],key_25:["25","hetun",24,0,0,0,600,5e3,15e3,300,500,100,1],key_26:["26","jinqiangyu",25,1,0,0,700,5e3,15e3,300,500,100,1],key_27:["27","shiziyu",26,0,0,0,800,5e3,15e3,300,500,100,1],key_28:["28","tianshiyu",27,1,0,1,900,5e3,15e3,300,500,100,1],key_29:["29","xiaochouyu",28,0,0,1,600,5e3,15e3,300,500,100,1],key_30:["30","xiaohuangyu",29,1,0,1,700,5e3,15e3,300,500,100,1],key_31:["31","cheqiyu",30,0,0,1,800,5e3,15e3,300,500,100,1],key_32:["32","dinianyu",31,1,0,1,900,5e3,15e3,300,500,100,1],key_33:["33","fangyu",32,0,0,1,600,5e3,15e3,300,500,100,1],key_34:["34","haigui",33,1,0,1,700,5e3,15e3,300,500,100,1],key_35:["35","hetun",34,0,0,1,800,5e3,15e3,300,500,100,1],key_36:["36","jinqiangyu",35,1,0,1,900,5e3,15e3,300,500,100,1],key_37:["37","shiziyu",36,0,0,1,600,5e3,15e3,300,500,100,1],key_38:["38","tianshiyu",37,1,0,1,700,5e3,15e3,300,500,100,1],key_39:["39","xiaochouyu",38,0,0,1,800,5e3,15e3,300,500,100,1],key_40:["40","xiaohuangyu",39,1,0,1,900,5e3,15e3,300,500,100,1],key_41:["41","shayu",40,1,0,1,800,5e3,5e3,3e3,5e3,1e3,1],key_42:["42","shayu2",41,1,5e4,1,1e3,5e3,5e3,3e3,5e3,1e3,1],total_count:42},o={filed_data_array:n,get_record:function(e){var t=n["key_"+e];return t?{id:t[0],fishName:t[1],roadIndex:t[2],isRevert:t[3],genTime:t[4],isRandom:t[5],scale:t[6],min_speed:t[7],max_speed:t[8],hp:t[9],coinValue:t[10],expValue:t[11],use_AI:t[12]}:null}};i.FishGenData=o,cc._RF.pop()},{}],FrameAnim:[function(e,t,i){"use strict";cc._RF.push(t,"fff9bqLmFFGOY0yWNU1rBNI","FrameAnim"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteFrames=[],t.duration=.1,t.node_scale=1,t.loop=!1,t.playOnload=!1,t.endFunc=null,t.isPlaying=!1,t.playTime=0,t.caller=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.sprite=this.node.getComponent(cc.Sprite),this.sprite||(this.sprite=this.node.addComponent(cc.Sprite)),this.playOnload&&(this.loop?this.playLoop():this.playOnce(this.caller,null))},t.prototype.playLoop=function(){this.initFrame(!0,null)},t.prototype.playOnce=function(e,t){this.caller=t,this.initFrame(!1,e)},t.prototype.initFrame=function(e,t){this.spriteFrames.length<=0||(this.isPlaying=!0,this.playTime=0,this.sprite.spriteFrame=this.spriteFrames[0],this.loop=e,this.endFunc=t)},t.prototype.start=function(){},t.prototype.update=function(e){if(this.isPlaying){this.playTime+=e;var t=Math.floor(this.playTime/this.duration);this.node.scale=this.node_scale,this.loop?(t>=this.spriteFrames.length&&(t-=this.spriteFrames.length,this.playTime-=this.duration*this.spriteFrames.length),this.sprite.spriteFrame=this.spriteFrames[t]):t>=this.spriteFrames.length?(this.isPlaying=!1,this.endFunc&&this.endFunc.call(this.caller)):this.sprite.spriteFrame=this.spriteFrames[t]}},__decorate([s({type:[cc.SpriteFrame],tooltip:"\u5e27\u52a8\u753b\u56fe\u7247\u6570\u7ec4"})],t.prototype,"spriteFrames",void 0),__decorate([s({tooltip:"\u6bcf\u4e00\u5e27\u7684\u65f6\u957f"})],t.prototype,"duration",void 0),__decorate([s({tooltip:"\u52a8\u753b\u7f29\u653e\u6bd4\u4f8b"})],t.prototype,"node_scale",void 0),__decorate([s({tooltip:"\u662f\u5426\u5faa\u73af\u64ad\u653e"})],t.prototype,"loop",void 0),__decorate([s({tooltip:"\u662f\u5426\u5728\u52a0\u8f7d\u7684\u65f6\u5019\u5c31\u5f00\u59cb\u64ad\u653e"})],t.prototype,"playOnload",void 0),__decorate([o],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],GameApp:[function(e,t,i){"use strict";cc._RF.push(t,"e0219AphpFNxrPsduqh9UWN","GameApp"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=(n.property,e("../Managers/ResMgr")),a=e("../Managers/UIMgr"),r=e("../Managers/EventMgr"),l=e("./GameResPkg"),c=e("./LoginResPkg"),u=e("./ResLoadingPkg"),h=e("./LevelsPkg"),_=e("./EquippedPkg"),d=e("./LevelData"),p=e("./UserData"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resLoading=null,t}var i;return __extends(t,e),i=t,t.prototype.onLoad=function(){null===i.Instance?i.Instance=this:this.destroy()},t.prototype.onResLoadProgress=function(e,t){var i=e/t;i=(i=i<0?0:i)>1?1:i,r.default.Instance.dispatch_event("ResLoadProgress",i)},t.prototype.EnterGame=function(){console.log("EnterGame"),s.default.Instance.preloadResPackage(u.default,this.onResLoadProgress.bind(this),function(){this.resLoading=a.default.Instance.show_ui("ResLoading"),this.enterLoginScene()}.bind(this))},t.prototype.enterLoginScene=function(){console.log("\u6e38\u620f\u5e26\u6309\u94ae\u7684\u9875\u9762"),null===this.resLoading&&(this.resLoading=a.default.Instance.show_ui("ResLoading")),s.default.Instance.preloadResPackage(c.default,this.onResLoadProgress.bind(this),function(){this.scheduleOnce(function(){s.default.Instance.releaseResPackage(h.default),s.default.Instance.releaseResPackage(l.default),a.default.Instance.clearAll(),this.resLoading=null,a.default.Instance.show_ui("LoginUI")},.5)}.bind(this))},t.prototype.enterGameScene=function(){s.default.Instance.releaseResPackage(l.default);for(var e=p.default.Instance.userData.nowLevel,t=d.default[e].enemy,i=d.default[e].boss,n=d.default[e].box,o=d.default[e].maps,r=0;r<i.length;r++)console.log("boss:"+i[r]+"\u5173\u5361"+e),l.default.Gui.urls.push("boss/"+i[r]);for(r=0;r<n.length;r++)console.log("box:"+n[r]+"\u5173\u5361"+e),l.default.Gui.urls.push("box/"+n[r]);for(r=0;r<t.length;r++)console.log("enemy:"+t[r]+"\u5173\u5361"+e),l.default.Gui.urls.push("enemy/"+t[r]);l.default.Maps.urls.push(o),null===this.resLoading&&(this.resLoading=a.default.Instance.show_ui("ResLoading")),s.default.Instance.preloadResPackage(l.default,this.onResLoadProgress.bind(this),function(){this.scheduleOnce(function(){s.default.Instance.releaseResPackage(c.default),s.default.Instance.releaseResPackage(h.default),a.default.Instance.clearAll(),this.resLoading=null,a.default.Instance.show_ui("GameUI")},.5)}.bind(this))},t.prototype.gameOver=function(){a.default.Instance.show_ui("Over_UI")},t.prototype.levelsPage=function(){null===this.resLoading&&(this.resLoading=a.default.Instance.show_ui("ResLoading")),s.default.Instance.preloadResPackage(h.default,this.onResLoadProgress.bind(this),function(){this.scheduleOnce(function(){s.default.Instance.releaseResPackage(c.default),s.default.Instance.releaseResPackage(l.default),a.default.Instance.clearAll(),this.resLoading=null,a.default.Instance.show_ui("Levels_UI")},.5)}.bind(this))},t.prototype.equippedPage=function(){null===this.resLoading&&(this.resLoading=a.default.Instance.show_ui("ResLoading")),s.default.Instance.preloadResPackage(_.default,this.onResLoadProgress.bind(this),function(){this.scheduleOnce(function(){s.default.Instance.releaseResPackage(c.default),s.default.Instance.releaseResPackage(l.default),a.default.Instance.clearAll(),this.resLoading=null,a.default.Instance.show_ui("Equipped_UI")},.5)}.bind(this))},t.prototype.victory=function(){a.default.Instance.show_ui("Victory_UI")},t.Instance=null,i=__decorate([o],t)}(cc.Component);i.default=f,cc._RF.pop()},{"../Managers/EventMgr":"EventMgr","../Managers/ResMgr":"ResMgr","../Managers/UIMgr":"UIMgr","./EquippedPkg":"EquippedPkg","./GameResPkg":"GameResPkg","./LevelData":"LevelData","./LevelsPkg":"LevelsPkg","./LoginResPkg":"LoginResPkg","./ResLoadingPkg":"ResLoadingPkg","./UserData":"UserData"}],GameLanch:[function(e,t,i){"use strict";cc._RF.push(t,"2b8d8NFNKdGr7LzuGheHQGA","GameLanch"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("./Game/GameApp"),o=e("./Managers/ResMgr"),s=e("./Managers/EventMgr"),a=e("./Managers/SoundMgr"),r=e("./Managers/Net/NetMgr"),l=e("./Managers/UIMgr"),c=e("./Managers/WxMgr"),u=e("./Managers/TtMgr"),h=e("./Game/UserData"),_=e("./Game/EquippedData"),d=e("../lq_collide_system/lq_collide_system"),p=e("../lq_bullet_system/lq_bullet_system"),f=e("./Game/UI_Controllers/Victory_UI_Ctrl"),g=e("./Game/UI_Controllers/Over_UI_Ctrl"),m=e("./Game/UI_Controllers/Equipped_UI_Ctrl"),y=e("./Game/UI_Controllers/LoginUI_Ctrl"),v=cc._decorator,b=v.ccclass,w=v.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isUsingWebSocket=!1,t.Sub_num=0,t.Subpackage=[],t}var i;return __extends(t,e),i=t,t.prototype.onLoad=function(){console.log("onLoad"),null===i.Instance?(i.Instance=this,this.Subpackage=["Gui","Maps","Sounds","ui_prefabs"],cc.Victory_UI_Ctrl=f.default,cc.Over_UI_Ctrl=g.default,cc.Equipped_UI_Ctrl=m.default,cc.LoginUI_Ctrl=y.default,d.LQCollideSystem.is_enable=!0,p.LQBulletSystem.is_bullet_enable=!0,p.LQBulletSystem.is_emitter_enable=!0,this.node.addComponent(o.default),this.node.addComponent(s.default),this.node.addComponent(a.default),this.node.addComponent(l.default),this.node.addComponent(c.default),this.node.addComponent(u.default),this.node.addComponent(h.default),this.node.addComponent(_.default),!0===this.isUsingWebSocket&&this.node.addComponent(r.default),this.node.addComponent(n.default),h.default.Instance.getUserData(),_.default.Instance.getUserData(),n.default.Instance.EnterGame()):this.destroy()},t.prototype.loadSubpackages=function(e){var t=this;tt.loadSubpackage({name:e,success:function(i){t.Sub_num++,console.log("\u52a0\u8f7d\u6210\u529f"+i.errMsg+" name:"+e+" \u7f16\u53f7\uff1a"+t.Sub_num),4===t.Sub_num?(n.default.Instance.EnterGame(),console.log("\u5df2\u7ecf\u52a0\u8f7d\u5168\u90e8\u5206\u5305")):t.loadSubpackages(t.Subpackage[t.Sub_num])},fail:function(i){console.log("\u52a0\u8f7d\u5931\u8d25"+i.errMsg+" \u5206\u5305\uff1a"+e),t.loadSubpackages(t.Subpackage[t.Sub_num])}})},t.Instance=null,__decorate([w],t.prototype,"isUsingWebSocket",void 0),i=__decorate([b],t)}(cc.Component);i.default=C,cc._RF.pop()},{"../lq_bullet_system/lq_bullet_system":"lq_bullet_system","../lq_collide_system/lq_collide_system":"lq_collide_system","./Game/EquippedData":"EquippedData","./Game/GameApp":"GameApp","./Game/UI_Controllers/Equipped_UI_Ctrl":"Equipped_UI_Ctrl","./Game/UI_Controllers/LoginUI_Ctrl":"LoginUI_Ctrl","./Game/UI_Controllers/Over_UI_Ctrl":"Over_UI_Ctrl","./Game/UI_Controllers/Victory_UI_Ctrl":"Victory_UI_Ctrl","./Game/UserData":"UserData","./Managers/EventMgr":"EventMgr","./Managers/Net/NetMgr":"NetMgr","./Managers/ResMgr":"ResMgr","./Managers/SoundMgr":"SoundMgr","./Managers/TtMgr":"TtMgr","./Managers/UIMgr":"UIMgr","./Managers/WxMgr":"WxMgr"}],GameResPkg:[function(e,t,i){"use strict";cc._RF.push(t,"c03f9EmCPNNiZQ3UgmNo5md","GameResPkg"),Object.defineProperty(i,"__esModule",{value:!0});var n={Sounds:{assetType:cc.AudioClip,urls:["enemy_blowup","gun_fire","bossComing","gameOver","victory","dun","hedan","emitter2","fire3","bgm","pop","cuantianhou","daodan1","addHP","enemy_b1","enemy_b2"]},ui_prefabs:{assetType:cc.Prefab,urls:["GameUI","Over_UI","Victory_UI"]},Gui:{assetType:cc.Prefab,urls:["emitter/emitter1","emitter/emitter2","emitter/emitter3","emitter/emitter4","emitter/emitter5","emitter/emitter6","emitter/emitter10","emitter/player1_emitter","emitter/player2_emitter","emitter/player3_emitter","emitter/player4_emitter","emitter/player5_emitter","player/play_shield","player/player1","player/player2","player/player3","player/player4","player/player5","pet/pet_1","pet/pet_2","pet/pet_3","pet/pet_4","other/itemLevel","other/hedanBomb"]},Maps:{assetType:cc.SpriteFrame,urls:[]}};i.default=n,cc._RF.pop()},{}],GameUI_Ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"15741Qt5QVMZJhNo654BHGb","GameUI_Ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=(n.property,e("./../../Managers/UIMgr")),a=e("../GameApp"),r=e("../../Managers/ResMgr"),l=e("../../Managers/EventMgr"),c=e("../UserData"),u=e("../../Managers/SoundMgr"),h=e("../LevelData"),_=e("../../Managers/TtMgr"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.top=null,t.bgMove=!1,t.isBoss=!1,t.isStopUpPlane=!1,t.isBossUp=!1,t.isPassLevel=!1,t.isBack=!1,t.data={},t.skill_1_cdTime=null,t.skill_2_cdTime=null,t.hedan_cdTime=null,t.shield_cdTime=null,t.LevelScore=null,t.LevelLength=null,t.play_hpR=null,t.playerName=null,t.game_gold=null,t.game_medal=null,t.defaultEmitter=null,t.playHp=null,t.Level=null,t.pet=null,t.hero=null,t.emitter=null,t.emitter_pos=0,t.player_root=null,t.emitter_root=null,t.enemy_root=null,t.box_root=null,t.boss_root=null,t.shidld_root=null,t.ship_root=null,t.gold_root=null,t.pet_root=null,t.hedan_root=null,t.boss_warn_node=null,t.enemyTimeDelayed=null,t.boxTimeDelayed=null,t.enemyNum=null,t.boxNum=null,t.enemyRandomNUm=[],t.boxRandomNUm=[],t.enenyType=[],t.boxType=[],t.bossType=[],t.passScore=null,t.map=null,t.bg_1=null,t.bg_2=null,t.yun1=null,t.yun2=null,t.play_Score=0,t.enemy_pools={},t.box_pools={},t.skill_1Num=0,t.skill_2Num=0,t.hedan_num=0,t.skill_1Label=null,t.skill_2Label=null,t.hedanLabel=null,t.gold_label=null,t.medal_label=null,t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),l.default.Instance.add_event_listenner("gemeOver",this,this.gameOver),l.default.Instance.add_event_listenner("GetSupply",this,this.GetSupply),l.default.Instance.add_event_listenner("getScore",this,this.getScore),l.default.Instance.add_event_listenner("destroyEmemy",this,this.destroyEmemy),l.default.Instance.add_event_listenner("destroyBox",this,this.destroyBox),l.default.Instance.add_event_listenner("destroyBoss",this,this.destroyBoss),l.default.Instance.add_event_listenner("revive",this,this.revive),l.default.Instance.add_event_listenner("nextLevel",this,this.nextLevel),l.default.Instance.add_event_listenner("playHpR",this,this.playHpR),l.default.Instance.add_event_listenner("createEnemyGold",this,this.createEnemyGold),l.default.Instance.add_event_listenner("replay",this,this.replay),l.default.Instance.add_event_listenner("qianghua",this,this.qianghua),l.default.Instance.add_event_listenner("stopUpPlane",this,this.stopUpPlane),this.add_button_listen("bottom/buttleBack",this,this.emitter6),this.add_button_listen("bottom/backHome",this,this.onBackToLoginScene),this.add_button_listen("bottom/skill_1",this,this.skill_1),this.add_button_listen("bottom/skill_2",this,this.skill_2),this.add_button_listen("bottom/hedan",this,this.hedan),this.add_button_listen("bottom/shield",this,this.get_shield),window.tt&&_.default.Instance.startRecorder()},t.prototype.start=function(){this.init()},t.prototype.init=function(){cc.director.resume,this.LevelScore=0,this.isBoss=!1,this.isStopUpPlane=!1,this.skill_2_cdTime=5,this.skill_1_cdTime=6,this.hedan_cdTime=3,this.shield_cdTime=20,this.data=c.default.Instance.userData,this.game_gold=this.data.game_gold,this.game_medal=this.data.game_medal,console.log("\u73a9\u5bb6\u91d1\u5e01=====",this.data.game_gold),this.playerName=this.data.plane.player_name,this.defaultEmitter=this.data.plane.emitter,this.playHp=this.data.plane.hp+this.data.shield,console.log("\u73a9\u5bb6\u751f\u547d\u503c",this.playHp),this.pet=this.data.pet,this.play_Score=this.data.score,this.view["top/play_Score"].getComponent(cc.Label).string="\u5f97\u5206\uff1a"+this.play_Score,this.LevelLength=h.default.length-1,this.data.Level>this.LevelLength&&(this.data.Level=this.LevelLength),this.Level=this.data.nowLevel,this.skill_1Num=this.data.skill_1,this.skill_2Num=this.data.skill_2,this.hedan_num=this.data.hedan,this.enemyTimeDelayed=h.default[this.Level].enemyTimeDelayed,this.boxTimeDelayed=h.default[this.Level].boxTimeDelayed,this.enemyNum=h.default[this.Level].enemyNum,this.boxNum=h.default[this.Level].boxNum,this.enemyRandomNUm=h.default[this.Level].enemyRandomNUm,this.boxRandomNUm=h.default[this.Level].boxRandomNUm,this.enenyType=h.default[this.Level].enemy,this.boxType=h.default[this.Level].box,this.bossType=h.default[this.Level].boss,this.passScore=h.default[this.Level].passScore,this.map=h.default[this.Level].maps,this.view["top/Level"].getComponent(cc.Label).string="\u7b2c"+this.Level+"\u5173",this.isPassLevel=!1,this.player_root=this.view.player_root,this.emitter_root=this.view["player_root/emitter_root"],this.enemy_root=this.view.enemy_root,this.box_root=this.view.box_root,this.boss_root=this.view.boss_root,this.shidld_root=this.view["player_root/shidld_root"],this.ship_root=this.view.ship_root,this.gold_root=this.view.gold_root,this.pet_root=this.view.pet_root,this.hedan_root=this.view.hedan_root,this.boss_warn_node=this.view.boss_warn,this.play_hpR=this.view["top/hp/mask/hpR"],this.top=this.view.top,this.bg_1=this.view.bg1,this.bg_1.getComponent(cc.Sprite).spriteFrame.setTexture(r.default.Instance.getAsset("Maps",this.map)),console.log("bg1\u7684\u5c5e\u6027\uff1a",this.bg_1),this.bg_2=this.view.bg2,this.bg_2.getComponent(cc.Sprite).spriteFrame.setTexture(r.default.Instance.getAsset("Maps",this.map)),this.yun1=this.view.yun1,this.yun2=this.view.yun2,this.yun1.y=0,this.yun2.y=this.yun1.y+this.yun1.height,this.resetSize(this.node.getParent()),this.boss_warn_node.active=!1,this.scheduleOnce(function(){this.showLevelName()},.65),this.bg_1.y=0,this.bg_2.y=this.bg_1.y+this.bg_1.height,this.createPlay_plane(this.player_root),this.buttleBack(),this.createPet(),u.default.Instance.play_music("bgm",!0),u.default.Instance.set_music_volume(1),u.default.Instance.set_effect_volume(1),this.isPassLevel=!1,this.scheduleOnce(function(){this.upEnemy()},3),this.isInvincible(!1),this.playerFullHP(this.hero),this.skill_1Label=this.view["bottom/skill_1/skill_num/skillLabel"].getComponent(cc.Label),this.skill_2Label=this.view["bottom/skill_2/skill_num/skillLabel"].getComponent(cc.Label),this.hedanLabel=this.view["bottom/hedan/skill_num/skillLabel"].getComponent(cc.Label),this.gold_label=this.view["top/gold_label"].getComponent(cc.Label),this.medal_label=this.view["top/medal_label"].getComponent(cc.Label),this.upSkillNum(this.skill_1Label,this.skill_1Num),this.upSkillNum(this.skill_2Label,this.skill_2Num),this.upSkillNum(this.hedanLabel,this.hedan_num),this.gold_label.string=this.game_gold.toString(),this.medal_label.string=this.game_medal.toString();for(var e=h.default[this.Level].enemy,t=0;t<e.length;t++){console.log("\u654c\u673a\u5bf9\u8c61\u6c60\uff1a",e[t]);var i=new cc.NodePool;null==this.enemy_pools[e[t]]&&(this.enemy_pools[e[t]]=i)}var n=h.default[this.Level].box;for(t=0;t<n.length;t++){var o=new cc.NodePool;null==this.box_pools[n[t]]&&(this.box_pools[n[t]]=o)}this.buttleBack(),this.player_root.setPosition(cc.v2(0,-350)),this.bgMove=!0,this.setTouch()},t.prototype.addgold=function(e){this.game_gold+=e,this.gold_label.string=this.game_gold.toString(),c.default.Instance.userData.game_gold=this.game_gold,c.default.Instance.saveUserData()},t.prototype.addmedal=function(e){this.game_medal+=e,this.medal_label.string=this.game_medal.toString(),c.default.Instance.userData.game_medal=this.game_medal,c.default.Instance.saveUserData()},t.prototype.resetSize=function(e){var t=cc.view.getFrameSize(),i=cc.view.getDesignResolutionSize();console.log(" frameSize :"+t.height+"/"+t.width),console.log(" designSize :"+i.height+"/"+i.width),t.width/t.height>i.width/i.height?(e.width=i.height*t.width/t.height,e.height=i.height,e.getComponent(cc.Canvas).designResolution=cc.size(e.width,e.height)):(e.width=i.width,e.height=i.width*t.height/t.width,e.getComponent(cc.Canvas).designResolution=cc.size(e.width,e.height)),this.fitScreen(e,i,this.bg_1),this.fitScreen(e,i,this.bg_2),this.fitScreen(e,i,this.view.bottom),this.fitScreen(e,i,this.view.top),this.fitScreen(e,i,this.boss_warn_node)},t.prototype.fitScreen=function(e,t,i){var n=e.width/t.width,o=e.height/t.height,s=e.height/i.height;i.width*=s,i.height*=s,n>o&&(s=e.width/i.width,i.width*=s,i.height*=s)},t.prototype.showLevelName=function(){var e=this.view.level_name;e.x=-500,e.y=150,e.getChildByName("num").getComponent(cc.Label).string=this.Level;var t=cc.moveTo(.2,cc.v2(100,e.y)),i=cc.fadeIn(.2),n=cc.spawn(t,i),o=cc.moveTo(.2,cc.v2(0,e.y)),s=cc.delayTime(1.6),a=cc.sequence(o,s),r=cc.fadeOut(.2),l=cc.moveTo(.2,cc.v2(500,e.y)),c=cc.spawn(r,l),u=cc.callFunc(function(){e.active=!1}.bind(this)),h=cc.sequence(n,a,c,u);e.runAction(h)},t.prototype.boss_warn=function(){u.default.Instance.play_effect("bossComing"),this.boss_warn_node.active=!0;var e=this.boss_warn_node.getChildByName("bg"),t=this.boss_warn_node.getChildByName("warn"),i=cc.fadeIn(1);t.runAction(i);var n=cc.fadeIn(.2),o=cc.fadeOut(.2),s=cc.callFunc(function(){var e=cc.fadeOut(.5),i=cc.moveBy(.5,cc.v2(0,50)),n=cc.callFunc(function(){this.boss_warn_node.active=!1}.bind(this)),o=cc.spawn(e,i),s=cc.sequence(o,n);t.runAction(s)}.bind(this)),a=cc.sequence(n,o,n,o,n,o,n,o,n,o,n,o,n,o,s);e.runAction(a)},t.prototype.onDestroy=function(){console.log("\u9875\u9762\u88ab\u9500\u6bc1\u4e86",this.node.name)},t.prototype.createPet=function(){if(null!=this.pet){var e=this.player_root.getPosition(),t=this.instantiateObj("Gui","pet/"+this.pet,this.pet_root,cc.v2(-e.x,e.y)).getComponent("pet_AI");if(t&&t.isTow){var i=this.instantiateObj("Gui","pet/"+this.pet,this.pet_root,cc.v2(e.x,e.y)).getComponent("pet_AI");i&&(i.isRight=!0,i.fire_RorL&&(i.bullet_angle=!0))}}else console.log("\u73a9\u5bb6\u6ca1\u6709\u9009\u62e9\u5ba0\u7269")},t.prototype.delPet_allNode=function(){var e=this.pet_root.children,t=e.length;if(0!=t)for(var i=0;i<t;i++)e[i].destroyAllChildren()},t.prototype.playHpR=function(e,t){this.play_hpR.scaleX=t},t.prototype.instantiateObj=function(e,t,i,n){var o=cc.instantiate(r.default.Instance.getAsset(e,t));return o.setPosition(n),o.parent=i,null==o?null:o},t.prototype.isInvincible=function(e){var t=this.hero.getComponent("Collision_Ctrl");t&&(t.isInvincible=null!=e&&e)},t.prototype.get_shield=function(){if(!this.isGetSkill(this.shidld_root,"play_shield")){this.view["bottom/shield"].getComponent("ClockCtrl").startClockAction(this.shield_cdTime);var e=this.hero.getComponent("Collision_Ctrl");e&&(e.isInvincible=!0),this.instantiateObj("Gui","player/play_shield",this.shidld_root,cc.v2(0,0)),u.default.Instance.play_effect("dun"),this.stopSkill(8,"play_shield",this.shidld_root,this.isInvincible.bind(this))}},t.prototype.buttleBack=function(){console.log("\u9ed8\u8ba4\u5b50\u5f39"),this.createEmitter(this.defaultEmitter,this.emitter_root,!0,!1),console.log("\u6211\u7684\u9ed8\u8ba4\u5b50\u5f39\uff1a"+this.defaultEmitter)},t.prototype.emitter6=function(){this.createEmitter("emitter6",this.emitter_root,!0,!1),this.stopSkill(10,"emitter6",this.emitter_root,this.buttleBack.bind(this))},t.prototype.onBackToLoginScene=function(){this.isBack||(this.isBack=!0,this.outGame())},t.prototype.removeEvent=function(){l.default.Instance.remove_event_listenner("gemeOver",this,this.gameOver),l.default.Instance.remove_event_listenner("GetSupply",this,this.GetSupply),l.default.Instance.remove_event_listenner("getScore",this,this.getScore),l.default.Instance.remove_event_listenner("destroyEmemy",this,this.destroyEmemy),l.default.Instance.remove_event_listenner("revive",this,this.revive),l.default.Instance.remove_event_listenner("nextLevel",this,this.nextLevel),l.default.Instance.remove_event_listenner("destroyBoss",this,this.destroyBoss),l.default.Instance.remove_event_listenner("playHpR",this,this.playHpR),l.default.Instance.remove_event_listenner("destroyBox",this,this.destroyBox),l.default.Instance.remove_event_listenner("createEnemyGold",this,this.createEnemyGold),l.default.Instance.remove_event_listenner("replay",this,this.replay),l.default.Instance.remove_event_listenner("qianghua",this,this.qianghua),l.default.Instance.remove_event_listenner("stopUpPlane",this,this.stopUpPlane),this.node.off("touchmove",this.onTouch,this)},t.prototype.outGame=function(){window.tt&&_.default.Instance.stopRecorder(),this.removeEvent(),this.play_Score=0,c.default.Instance.userData.score=0,c.default.Instance.saveUserData(),this.delPet_allNode(),u.default.Instance.stop_music(),a.default.Instance.enterLoginScene()},t.prototype.qianghua=function(e,t){t&&(this.play_Score=0,c.default.Instance.userData.score=0,c.default.Instance.saveUserData()),console.log("\u6211\u9000\u5230\u5f3a\u5316\u6218\u673a\u9875\u9762",e),this.removeEvent(),u.default.Instance.stop_music(),a.default.Instance.equippedPage()},t.prototype.gameOver=function(){u.default.Instance.stop_music(),this.hero.destroy();for(var e=this.emitter_root.children,t=0;t<e.length;t++)e[t].destroy();c.default.Instance.userData.score=this.play_Score;var i=this.data.Level;this.Level>i&&(c.default.Instance.userData.Level=this.Level),c.default.Instance.saveUserData(),window.tt&&_.default.Instance.stopRecorder(),a.default.Instance.gameOver()},t.prototype.victoryShowUI=function(){this.Level>=this.LevelLength?console.log("\u606d\u559c\u4f60\u6253\u7ffb\u7248\u4e86"):this.Level>=c.default.Instance.userData.Level?(this.Level++,c.default.Instance.userData.Level=this.Level,c.default.Instance.userData.nowLevel=this.Level,c.default.Instance.saveUserData()):(this.Level++,c.default.Instance.userData.nowLevel=this.Level,c.default.Instance.saveUserData()),c.default.Instance.userData.score=this.play_Score,c.default.Instance.saveUserData(),u.default.Instance.stop_music(),window.tt&&_.default.Instance.stopRecorder(),a.default.Instance.victory()},t.prototype.replay=function(){this.play_Score=0,c.default.Instance.userData.score=0,c.default.Instance.saveUserData(),this.removeEvent(),s.default.Instance.clearAll(),a.default.Instance.enterGameScene(),this.delPet_allNode()},t.prototype.nextLevel=function(){console.log("\u4e0b\u4e00\u5173"),this.removeEvent(),s.default.Instance.clearAll(),a.default.Instance.enterGameScene(),this.delPet_allNode()},t.prototype.revive=function(){this.isPassLevel?this.movePlane():window.tt&&_.default.Instance.startRecorder(),u.default.Instance.play_music("bgm",!0),this.createPlay_plane(this.player_root),this.get_shield(),this.playerFullHP(this.hero),this.buttleBack()},t.prototype.getScore=function(e,t){this.play_Score+=t,this.LevelScore+=t,this.view["top/play_Score"].getComponent(cc.Label).string="\u5f97\u5206\uff1a"+this.play_Score},t.prototype.upSkillNum=function(e,t){e.string=t.toString()},t.prototype.subSkill=function(e,t){1==e?(t?this.skill_1Num++:this.skill_1Num--,this.upSkillNum(this.skill_1Label,this.skill_1Num),c.default.Instance.userData.skill_1=this.skill_1Num,c.default.Instance.saveUserData()):2==e?(t?this.skill_2Num++:this.skill_2Num--,this.upSkillNum(this.skill_2Label,this.skill_2Num),c.default.Instance.userData.skill_2=this.skill_2Num,c.default.Instance.saveUserData()):3==e&&(t?this.hedan_num++:this.hedan_num--,this.upSkillNum(this.hedanLabel,this.hedan_num),c.default.Instance.userData.hedan=this.hedan_num,c.default.Instance.saveUserData(),console.log("\u6838\u5f39\u4f7f\u7528\u540e\u7684\u8bb0\u5f55\uff1a"+c.default.Instance.userData.hedan))},t.prototype.skill_1=function(){this.skill_1Num<=0||this.isGetSkill(this.emitter_root,"emitter5")||(u.default.Instance.play_effect("daodan1"),this.view["bottom/skill_1"].getComponent("ClockCtrl").startClockAction(this.skill_1_cdTime),this.createEmitter("emitter5",this.emitter_root,!1,!1),this.stopSkill(this.skill_1_cdTime,"emitter5",this.emitter_root),this.subSkill(1,!1))},t.prototype.skill_2=function(){this.skill_2Num<=0||this.isGetSkill(this.emitter_root,"emitter4")||(u.default.Instance.play_effect("daodan1"),this.view["bottom/skill_2"].getComponent("ClockCtrl").startClockAction(this.skill_2_cdTime),this.createEmitter("emitter4",this.emitter_root,!1,!1),this.stopSkill(this.skill_2_cdTime,"emitter4",this.emitter_root),this.subSkill(2,!1))},t.prototype.hedan2=function(){if(!(this.hedan_root.children.length>0)){this.view["bottom/hedan"].getComponent("ClockCtrl").startClockAction(this.hedan_cdTime),this.hedan_bomb();for(var e=this.enemy_root.children.length,t=0;t<e;t++){var i=this.enemy_root.children[t].getComponent("enemy1_Ctrl");i&&i.hit(150)}var n=this.ship_root.children.length;for(t=0;t<n;t++){var o=this.ship_root.children[t].getComponent("enemy1_Ctrl");o&&o.hit(150)}var s=this.boss_root.children.length;for(t=0;t<s;t++){var a=this.boss_root.children[t].getComponent("boss1_Ctrl");a&&(console.log("\u6838\u5f39\u70b8\u5230boss"),a.hit(300))}}},t.prototype.hedan=function(){if(!(this.hedan_num<=0||this.hedan_root.children.length>0)){this.view["bottom/hedan"].getComponent("ClockCtrl").startClockAction(this.hedan_cdTime),this.hedan_bomb();for(var e=this.enemy_root.children.length,t=0;t<e;t++){var i=this.enemy_root.children[t].getComponent("enemy1_Ctrl");i&&i.hit(150)}var n=this.ship_root.children.length;for(t=0;t<n;t++){var o=this.ship_root.children[t].getComponent("enemy1_Ctrl");o&&o.hit(150)}var s=this.boss_root.children.length;for(t=0;t<s;t++){var a=this.boss_root.children[t].getComponent("boss1_Ctrl");a&&(console.log("\u6838\u5f39\u70b8\u5230boss"),a.hit(300))}this.subSkill(3,!1)}},t.prototype.hedan_bomb=function(){this.instantiateObj("Gui","other/hedanBomb",this.hedan_root,cc.v2(0,0));for(var e=this.node.getChildByName("buttle_root").children,t=e.length,i=0;i<t;i++)"enemy_bullet"==e[i].group&&e[i].destroy();u.default.Instance.play_effect("hedan")},t.prototype.stopAllSkill=function(e){for(var t=e.children,i=0;i<t.length;i++)t[i].destroy()},t.prototype.stopSkill=function(e,t,i,n){this.scheduleOnce(function(){for(var e=i.children,o=0;o<e.length;o++)e[o].name==t&&(console.log("\u6211\u88ab\u9500\u6bc1\u4e86+"+t),e[o].destroy());n&&(n=n())},e)},t.prototype.isGetSkill=function(e,t){for(var i=e.children,n=0;n<i.length;n++)if(i[n].name==t)return console.log("\u7ec4\u4ef6\u91cd\u590d\u66ff\u6362\uff1a"+n,i[n]),!0;return!1},t.prototype.setYun=function(){this.yun1.y-=3,this.yun2.y-=3,this.yun1.y<=-this.yun1.height&&(this.yun1.y=this.yun2.y+this.yun1.height),this.yun2.y<=-this.yun1.height&&(this.yun2.y=this.yun1.y+this.yun1.height)},t.prototype.setBg=function(){this.bg_1.y=this.bg_1.y-2,this.bg_2.y=this.bg_2.y-2,this.bg_1.y<=-this.bg_1.height&&(this.bg_1.y=this.bg_2.y+this.bg_1.height),this.bg_2.y<=-this.bg_1.height&&(this.bg_2.y=this.bg_1.y+this.bg_1.height)},t.prototype.destroyEmemy=function(e,t){var i=t;this.enemy_pools[t.name].put(i)},t.prototype.destroyBox=function(e,t){var i=t;this.box_pools[t.name].put(i)},t.prototype.GetSupply=function(e,t){switch(t.name){case"box1":this.createEmitter("emitter2",this.emitter_root,!1,!1),u.default.Instance.play_effect("emitter2"),this.stopSkill(6,"emitter2",this.emitter_root);break;case"box2":this.createEmitter("emitter3",this.emitter_root,!1,!1),u.default.Instance.play_effect("cuantianhou"),this.stopSkill(8,"emitter3",this.emitter_root);break;case"box3":this.createEmitter("emitter6",this.emitter_root,!1,!1),u.default.Instance.play_effect("gun_fire"),this.stopSkill(4,"emitter6",this.emitter_root);break;case"skill_1award":u.default.Instance.play_effect("pop"),this.subSkill(1,!0);break;case"skill_2award":u.default.Instance.play_effect("pop"),this.subSkill(2,!0);break;case"game_gold":u.default.Instance.play_effect("pop"),this.addgold(6);break;case"game_medal":this.addmedal(3),u.default.Instance.play_effect("pop");break;case"hedan_award":this.hedan2();break;case"box4":u.default.Instance.play_effect("addHP"),this.zhiliao(.35)}},t.prototype.zhiliao=function(e){var t=this.hero.getComponent("Collision_Ctrl");t&&t.box_treatment(e)},t.prototype.movePlane=function(){this.scheduleOnce(function(){var e=cc.moveTo(.5,cc.v2(0,-350)),t=cc.moveTo(1,cc.v2(0,1e3)),i=cc.callFunc(function(){this.victoryShowUI()}.bind(this)),n=cc.sequence(e,t,i);this.player_root.runAction(n)},1)},t.prototype.destroyBoss=function(e,t){t.destroy(),this.boss_root.children.length<=1&&(this.isPassLevel=!0,this.stopAllSkill(this.emitter_root),this.stopAllSkill(this.shidld_root),this.isInvincible(!0),this.movePlane())},t.prototype.createEmitter=function(e,t,i,n){var o=r.default.Instance.getAsset("Gui","emitter/"+e);if(o)switch(i){case!0:if(n)t.destroyAllChildren();else{if(this.isGetSkill(this.emitter_root,o.name))return;null!=this.emitter&&this.emitter.destroy()}this.emitter=cc.instantiate(o),this.emitter.parent=t;break;case!1:if(this.isGetSkill(this.emitter_root,o.name))return;var s=cc.instantiate(o);s.parent=t,s.setPosition(cc.v2(0,0))}},t.prototype.playerFullHP=function(){var e=this.hero.getComponent("Collision_Ctrl");e&&(e.play_ph=this.playHp,console.log("\u73a9\u5bb6\u7684\u8840\u91cf"+e.play_ph)),this.play_hpR.scaleX=1},t.prototype.createPlay_plane=function(e){var t=this.playerName,i=r.default.Instance.getAsset("Gui","player/"+t);if(i){this.hero=cc.instantiate(i),this.hero.parent=e,this.hero.setPosition(cc.v2(0,0)),this.hero.addComponent("Collision_Ctrl"),this.emitter_pos=this.hero.height/2;var n=this.hero.getComponent("Collision_Ctrl");n&&(n.play_ph=this.playHp)}},t.prototype.upBox=function(){this.schedule(function(){if(!this.isBoss)for(var e=Math.floor(Math.random()*this.boxNum)+1,t=0;t<e;t++)for(var i=0;i<this.boxRandomNUm.length;i++)if(100*Math.random()<this.boxRandomNUm[i]&&null!=this.boxType[i]){this.createEnemy_box(this.box_root,this.boxType[i]);break}},this.boxTimeDelayed)},t.prototype.createEnemy_box=function(e,t){var i,n=null,o=null,s=cc.v2(0,0);i=r.default.Instance.getAsset("Gui","box/"+t),o=this.box_pools[t],i&&(o.size()>0?n=o.get():((n=cc.instantiate(i)).parent=e,s.x=420*Math.random()-200,s.y=600+200*Math.random(),n.setPosition(s)))},t.prototype.createEnemyGold=function(e,t){for(var i=null,n=100*Math.random(),o=0;o<this.boxRandomNUm.length;o++)if(n<this.boxRandomNUm[o]&&null!=this.boxType[o]){i=this.boxType[o];break}var s=null,a=r.default.Instance.getAsset("Gui","box/"+i),l=this.box_pools[i];a&&(l.size()>0?((s=l.get()).setPosition(t),s.parent=this.box_root):((s=cc.instantiate(a)).setPosition(t),s.parent=this.box_root))},t.prototype.createEnemy_plane=function(e,t){var i,n=null,o=null;if(i=r.default.Instance.getAsset("Gui","enemy/"+t),o=this.enemy_pools[t],i)if(o.size()>0)n=o.get();else{var s=(n=cc.instantiate(i)).getComponent("enemy1_Ctrl");s&&(s.isShip?n.parent=this.ship_root:n.parent=this.enemy_root),this.setPlaneFeatures(n)}},t.prototype.stopUpPlane=function(e,t){this.isStopUpPlane=!!t},t.prototype.setPlaneFeatures=function(e){var t=e.getComponent("enemy1_Ctrl");if(t){var i=e.name,n=1;if(t.isOnlyONe)return n=1,void l.default.Instance.dispatch_event("stopUpPlane",!0);if(n=t.amount,n+=Math.floor(this.Level/5),t.isShip){if(this.allowed_band(this.ship_root,i,n+1))return void t.destroy_node()}else if(this.allowed_band(this.enemy_root,i,n+1))return void t.destroy_node()}},t.prototype.allowed_band=function(e,t,i){for(var n=0,o=e.children,s=0;s<o.length;s++)o[s].name==t&&n++;return n>=i},t.prototype.setTouch=function(){this.node.on("touchmove",this.onTouch,this)},t.prototype.onTouch=function(e){if(!this.isPassLevel){var t=e.getDelta(),i=this.player_root.getPosition().add(t);i.x<-290?i.x=-290:i.x>290&&(i.x=290),i.y<-530?i.y=-530:i.y>530&&(i.y=530),this.player_root.setPosition(i)}},t.prototype.upEnemy=function(){this.schedule(function(){if(!this.isBoss&&!this.isStopUpPlane)for(var e=Math.floor(Math.random()*this.enemyNum)+1,t=0;t<e;t++)for(var i=0;i<this.enemyRandomNUm.length;i++)if(100*Math.random()<this.enemyRandomNUm[i]&&null!=this.enenyType[i]){this.createEnemy_plane(this.enemy_root,this.enenyType[i]);break}},this.enemyTimeDelayed)},t.prototype.boss=function(){this.scheduleOnce(function(){for(var e=0;e<this.bossType.length;e++)if(null!=this.bossType[e]){this.instantiateObj("Gui","boss/"+this.bossType[e],this.boss_root,cc.v2(0,600));break}},3)},t.prototype.update=function(){this.setYun(),this.bgMove&&this.setBg(),0==this.isBoss?this.LevelScore>=this.passScore&&(this.LevelScore=0,this.passScore=0,this.isBoss=!0,this.isBossUp=!0):this.enemy_root.children.length<=0&&this.ship_root.children.length<=0&&this.isBossUp&&(this.isBossUp=!1,this.boss_warn(),this.boss())},__decorate([o],t)}(s.UICtrl);i.default=d,cc._RF.pop()},{"../../Managers/EventMgr":"EventMgr","../../Managers/ResMgr":"ResMgr","../../Managers/SoundMgr":"SoundMgr","../../Managers/TtMgr":"TtMgr","../GameApp":"GameApp","../LevelData":"LevelData","../UserData":"UserData","./../../Managers/UIMgr":"UIMgr"}],LevelConfig:[function(e,t,i){"use strict";cc._RF.push(t,"9610b+JopBCmojyBW70eFyx","LevelConfig"),Object.defineProperty(i,"__esModule",{value:!0}),i.LevelConfig=void 0;var n={key_1:["1","photo_hetun",0,"icon_weapon_1","blake"],key_2:["2","photo_hetun",200,"icon_weapon_5","blake"],key_3:["3","photo_hetun",1e3,"icon_weapon_10","blake"],key_4:["4","photo_hetun",2e3,"icon_weapon_15","blake"],key_5:["5","photo_douyu",3e3,"icon_weapon_30","blake"],key_6:["6","photo_douyu",4e3,"icon_weapon_40","blake"],key_7:["7","photo_douyu",5e3,"icon_weapon_50","blake"],key_8:["8","photo_douyu",6e3,"icon_weapon_60_1","blake"],key_9:["9","photo_dianman",7e3,"icon_weapon_70","blake"],key_10:["10","photo_dianman",8e3,"icon_weapon_70","blake"],total_count:10},o={filed_data_array:n,get_record:function(e){var t=n["key_"+e];return t?{id:t[0],headName:t[1],exp:t[2],cannonIconName:t[3],bycw:t[4]}:null}};i.LevelConfig=o,cc._RF.pop()},{}],LevelData:[function(e,t,i){"use strict";cc._RF.push(t,"79ff2JgkVJLEZCIKw4q12ly","LevelData"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=[{},{enemyTimeDelayed:.3,enemyNum:1,passScore:125,boss:["boss2"],enemy:["enemy2","enemy5","enemy1"],enemyRandomNUm:[10,22,100],box:["hedan_award","skill_1award","skill_2award","box3","box2","box1","box4","game_medal","game_gold"],boxRandomNUm:[2,2.7,3.4,4.8,6.5,9.2,11.5,20,50],boxTimeDelayed:10,boxNum:1,maps:"gameBg1"},{enemyTimeDelayed:.3,enemyNum:1,passScore:350,boss:["boss1"],enemy:["enemy3","enemy2","enemy4","enemy5","enemy1"],enemyRandomNUm:[2,4,9,22,100],box:["hedan_award","skill_1award","skill_2award","box3","box2","box1","box4","game_medal","game_gold"],boxRandomNUm:[2,2.7,3.4,4.8,6.5,9.2,11.5,20,50],boxTimeDelayed:10,boxNum:1,maps:"gameBg2"},{enemyTimeDelayed:.3,enemyNum:1,passScore:400,boss:["boss3"],enemy:["enemy3","enemy6","enemy2","enemy4","enemy5","enemy1"],enemyRandomNUm:[2,3,4,9,22,100],box:["hedan_award","skill_1award","skill_2award","box3","box2","box1","box4","game_medal","game_gold"],boxRandomNUm:[2,2.7,3.4,4.8,6.5,9.2,11.5,20,50],boxTimeDelayed:10,boxNum:1,maps:"gameBg3"},{enemyTimeDelayed:.4,enemyNum:2,passScore:500,boss:["boss4"],enemy:["enemy3","enemy6","enemy2","enemy4","enemy5","enemy1"],enemyRandomNUm:[2,3,4,9,22,100],box:["hedan_award","skill_1award","skill_2award","box3","box2","box1","box4","game_medal","game_gold"],boxRandomNUm:[2,2.7,3.4,4.8,6.5,9.2,11.5,20,50],boxTimeDelayed:10,boxNum:1,maps:"gameBg4"},{enemyTimeDelayed:.6,enemyNum:3,passScore:500,boss:["boss5"],enemy:["enemy3","enemy6","enemy2","enemy4","enemy5","enemy1"],enemyRandomNUm:[2,3,4,9,22,100],box:["hedan_award","skill_1award","skill_2award","box3","box2","box1","box4","game_medal","game_gold"],boxRandomNUm:[2,2.7,3.4,4.8,6.5,9.2,11.5,15,30],boxTimeDelayed:10,boxNum:1,maps:"gameBg5"},{enemyTimeDelayed:.5,enemyNum:3,passScore:600,boss:["boss6"],enemy:["enemy3","enemy6","enemy2","enemy4","enemy5","enemy1"],enemyRandomNUm:[2,3,4,9,22,100],box:["hedan_award","skill_1award","skill_2award","box3","box2","box1","box4","game_medal","game_gold"],boxRandomNUm:[.2,.4,.5,.79,.85,1,2,15,30],boxTimeDelayed:10,boxNum:1,maps:"gameBg6"},{enemyTimeDelayed:.2,enemyNum:2,passScore:800,boss:["boss7"],enemy:["enemy3","enemy6","enemy2","enemy4","enemy5","enemy1"],enemyRandomNUm:[2,3,4,9,10,45],box:["hedan_award","skill_1award","skill_2award","box3","box2","box1","box4","game_medal","game_gold"],boxRandomNUm:[.2,.4,.5,.79,.85,1,2,15,30],boxTimeDelayed:10,boxNum:1,maps:"gameBg1"},{enemyTimeDelayed:.3,enemyNum:4,passScore:800,boss:["boss8"],enemy:["enemy3","enemy6","enemy2","enemy4","enemy5","enemy1"],enemyRandomNUm:[2,3,4,9,22,100],box:["hedan_award","skill_1award","skill_2award","box3","box2","box1","box4","game_medal","game_gold"],boxRandomNUm:[.2,.4,.5,.79,.85,1,2,15,30],boxTimeDelayed:10,boxNum:1,maps:"gameBg2"},{enemyTimeDelayed:.5,enemyNum:6,passScore:500,boss:["boss9"],enemy:["enemy9","enemy6","enemy10","enemy8","enemy11","enemy7"],enemyRandomNUm:[2,4,10,16,22,100],box:["hedan_award","skill_1award","skill_2award","box3","box2","box1","box4","game_medal","game_gold"],boxRandomNUm:[.2,.4,.5,.79,.85,1,2,10,20],boxTimeDelayed:10,boxNum:1,maps:"gameBg2"}],cc._RF.pop()},{}],LevelsPkg:[function(e,t,i){"use strict";cc._RF.push(t,"8eaaf1NhsNC34JiOBcNnaLF","LevelsPkg"),Object.defineProperty(i,"__esModule",{value:!0});var n={Sounds:{assetType:cc.AudioClip,urls:[]},ui_prefabs:{assetType:cc.Prefab,urls:["Levels_UI"]},Gui:{assetType:cc.Prefab,urls:["other/itemLevel"]}};i.default=n,cc._RF.pop()},{}],Levels_UI_Ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"4d1e2EfzihD1aY3Nz5nKm00","Levels_UI_Ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=(n.property,e("./../../Managers/UIMgr")),a=e("../UserData"),r=e("../LevelData"),l=e("../GameApp"),c=e("../../Managers/ResMgr"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.numLevelBest=null,t.bg=null,t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.numLevelBest=a.default.Instance.userData.Level,this.bg=this.view.bg,this.resetSize(this.node.getParent()),this.add_button_listen("backButton",this,this.back);var t=r.default.length-1;console.log("\u5171\u8ba1\uff1a"+t),console.log("\u5171\u8ba1\u6570\u7ec4\uff1a"+r.default.length),a.default.Instance.userData.Level>t&&(a.default.Instance.userData.Level=t),this.addLevels(),this.shuaXinLevels()},t.prototype.back=function(){l.default.Instance.enterLoginScene()},t.prototype.resetSize=function(e){var t=cc.view.getFrameSize(),i=cc.view.getDesignResolutionSize();t.width/t.height>i.width/i.height?(e.width=i.height*t.width/t.height,e.height=i.height,e.getComponent(cc.Canvas).designResolution=cc.size(e.width,e.height)):(e.width=i.width,e.height=i.width*t.height/t.width,e.getComponent(cc.Canvas).designResolution=cc.size(e.width,e.height)),this.fitScreen(e,i,this.bg)},t.prototype.fitScreen=function(e,t,i){var n=e.width/t.width,o=e.height/t.height,s=e.height/i.height;i.width*=s,i.height*=s,n>o&&(s=e.width/i.width,i.width*=s,i.height*=s)},t.prototype.addLevels=function(){for(var e=this.view["pageView/view/content"].children,t=0,i=0;i<e.length;i++)for(var n=0;n<6;n++)for(var o=0;o<4;o++){t++;var s=cc.instantiate(c.default.Instance.getAsset("Gui","other/itemLevel"));s.parent=e[i],s.setPosition(cc.v2(154*o-231,350-150*n)),s.getComponent("itemLevel").init(t)}},t.prototype.shuaXinLevels=function(){for(var e=this.view["pageView/view/content"].children,t=0;t<e.length;t++)for(var i=e[t].children,n=0;n<i.length;n++){var o=i[n].getComponent("itemLevel");o.num_level<=this.numLevelBest?o.canPlay(!0):o.canPlay(!1)}},__decorate([o],t)}(s.UICtrl);i.default=u,cc._RF.pop()},{"../../Managers/ResMgr":"ResMgr","../GameApp":"GameApp","../LevelData":"LevelData","../UserData":"UserData","./../../Managers/UIMgr":"UIMgr"}],LoginResPkg:[function(e,t,i){"use strict";cc._RF.push(t,"c6fbe9J9/hPV5QtzR4t1JvX","LoginResPkg"),Object.defineProperty(i,"__esModule",{value:!0});var n={Sounds:{assetType:cc.AudioClip,urls:[]},ui_prefabs:{assetType:cc.Prefab,urls:["LoginUI"]}};i.default=n,cc._RF.pop()},{}],LoginUI_Ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"70b7511+D5EOYR11z+O9UsL","LoginUI_Ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=(n.property,e("./../../Managers/UIMgr")),a=e("../GameApp"),r=e("../../Managers/TtMgr"),l=e("../../Managers/EventMgr"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameStart=!1,t.bg=null,t.isAgree_data={},t.localStorage_isAgree="m_localStorage_isAgree",t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.isAgree_data={isAgree:!1},cc.sys.localStorage.getItem(this.localStorage_isAgree)?this.isAgree_data=JSON.parse(cc.sys.localStorage.getItem(this.localStorage_isAgree)):(cc.sys.localStorage.setItem(this.localStorage_isAgree,JSON.stringify(this.isAgree_data)),this.isAgree_data=JSON.parse(cc.sys.localStorage.getItem(this.localStorage_isAgree))),this.bg=this.view.bg,this.resetSize(this.node.getParent()),this.view.isLogin_UI.active=!1,this.view.login_btn.active=!1,window.tt?this.get_login():this.login(!0),l.default.Instance.add_event_listenner("startGame_android",this,this.startIsOK)},t.prototype.start=function(){window.tt||window.wx?(console.log("\u975e\u5b89\u5353\u5e73\u53f0\u4e0d\u7528\u5f39\u51fa\u9690\u79c1\u653f\u7b56"),this.view.yinsiBtn_index.active=!1):(this.add_button_listen("yinsi/yinsiBtn",this,this.yinsiActivity),this.add_button_listen("yinsiBtn_index",this,this.yinsiActivity),this.isAgree_data.isAgree?(console.log("\u540c\u610f\u9690\u79c1\u653f\u7b56"),cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","YSDKinit","()V")):(this.view.yinsi.getComponent("PopDialogCtrl").showDialog(),this.add_button_listen("yinsi/agree",this,this.agree),this.add_button_listen("yinsi/reject",this,this.reject)))},t.CocosFun=function(e){console.log("\u6211\u662f\u6765\u81eacocos\u7684\u56de\u8c03\uff1a"+e)},t.prototype.yinsiActivity=function(){console.log("\u70b9\u51fb\u4e86\u9690\u79c1\u6309\u94ae"),window.tt||window.wx||cc.sys.os==cc.sys.OS_ANDROID&&this.initYinsi()},t.prototype.agree=function(){this.isAgree_data.isAgree=!0,cc.sys.localStorage.setItem(this.localStorage_isAgree,JSON.stringify(this.isAgree_data)),this.view.yinsi.getComponent("PopDialogCtrl").hideDialog(),cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","YSDKinit","()V")},t.prototype.reject=function(){this.view.yinsi.getComponent("PopDialogCtrl").hideDialog(),window.tt||window.wx||cc.sys.os==cc.sys.OS_ANDROID&&this.exitGame()},t.prototype.get_login2=function(){r.default.Instance.login_app(!0,this.login,this)},t.prototype.get_login=function(){r.default.Instance.login_app(!1,this.login,this)},t.prototype.login=function(e){e?(this.view.login_btn.active=!1,this.view.isLogin_UI.active=!0,console.log("\u6211\u4e0d\u662f\u5b89\u53530"),window.tt||window.wx?(this.view.isLogin_UI.y-=90,console.log("\u6211\u4e0d\u662f\u5b89\u53531"),this.view["isLogin_UI/exitBtn"].active=!1,this.add_button_listen("isLogin_UI/startGame",this,this.onGameStartClick),this.add_button_listen("isLogin_UI/levelBtn",this,this.onlevelsClick),this.add_button_listen("isLogin_UI/equippedBtn",this,this.onEquippedClick)):cc.sys.os==cc.sys.OS_ANDROID?(console.log("\u6211\u4e0d\u662f\u5b89\u53532"),this.view["isLogin_UI/exitBtn"].active=!0,this.add_button_listen("isLogin_UI/exitBtn",this,this.exitGame),this.gameStart&&(this.add_button_listen("isLogin_UI/startGame",this,this.onGameStartClick),this.add_button_listen("isLogin_UI/levelBtn",this,this.onlevelsClick),this.add_button_listen("isLogin_UI/equippedBtn",this,this.onEquippedClick))):(console.log("\u6211\u4e0d\u662f\u5b89\u53533"),this.add_button_listen("isLogin_UI/startGame",this,this.onGameStartClick),this.add_button_listen("isLogin_UI/levelBtn",this,this.onlevelsClick),this.add_button_listen("isLogin_UI/equippedBtn",this,this.onEquippedClick))):(this.view.login_btn.active=!0,this.view.isLogin_UI.active=!0,this.add_button_listen("isLogin_UI/startGame",this,this.onGameStartClick),this.add_button_listen("isLogin_UI/levelBtn",this,this.onlevelsClick),this.add_button_listen("isLogin_UI/equippedBtn",this,this.onEquippedClick),this.add_button_listen("login_btn",this,this.get_login2))},t.prototype.exitGame=function(){cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","exitGame","()V")},t.prototype.initYinsi=function(){console.log("\u8fdb\u5165\u5b89\u5353\u9690\u79c1\u653f\u7b56"),cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","yinsi","()V")},t.prototype.onGameStartClick=function(){cc.director.resume(),s.default.Instance.remove_ui(this.node.name),a.default.Instance.enterGameScene()},t.prototype.onlevelsClick=function(){cc.director.resume(),s.default.Instance.remove_ui(this.node.name),a.default.Instance.levelsPage()},t.prototype.onEquippedClick=function(){cc.director.resume(),s.default.Instance.remove_ui(this.node.name),a.default.Instance.equippedPage()},t.prototype.resetSize=function(e){var t=cc.view.getFrameSize(),i=cc.view.getDesignResolutionSize();t.width/t.height>i.width/i.height?(e.width=i.height*t.width/t.height,e.height=i.height,e.getComponent(cc.Canvas).designResolution=cc.size(e.width,e.height)):(e.width=i.width,e.height=i.width*t.height/t.width,e.getComponent(cc.Canvas).designResolution=cc.size(e.width,e.height)),this.fitScreen(e,i,this.bg)},t.prototype.fitScreen=function(e,t,i){var n=e.width/t.width,o=e.height/t.height,s=e.height/i.height;i.width*=s,i.height*=s,n>o&&(s=e.width/i.width,i.width*=s,i.height*=s)},t.startGame_android=function(e){l.default.Instance.dispatch_event("startGame_android",e)},t.prototype.startIsOK=function(e,t){console.log("\u5df2\u7ecf\u5b9e\u540d\u8ba4\u8bc1\u53ef\u4ee5\u5f00\u59cb\u6e38\u620f\u4e86\uff01\uff01\uff01"+t),this.gameStart=t,this.login(!0)},t.prototype.onDestroy=function(){l.default.Instance.remove_event_listenner("startGame_android",this,this.startIsOK)},__decorate([o],t)}(s.UICtrl);i.default=c,cc._RF.pop()},{"../../Managers/EventMgr":"EventMgr","../../Managers/TtMgr":"TtMgr","../GameApp":"GameApp","./../../Managers/UIMgr":"UIMgr"}],MultiFishGen:[function(e,t,i){"use strict";cc._RF.push(t,"a8d3f9q5glAr5emDmHaVqCg","MultiFishGen"),Object.defineProperty(i,"__esModule",{value:!0}),i.MultiFishGen=void 0;var n={key_1:["1","tianshiyu",0,0,0,0,600,1e4,1e4,300,500,100,0],key_2:["2","tianshiyu",1,0,500,0,700,1e4,1e4,300,500,100,0],key_3:["3","tianshiyu",2,0,500,0,800,1e4,1e4,300,500,100,0],key_4:["4","cheqiyu",3,0,0,0,1e3,1e4,1e4,300,500,100,0],key_5:["5","cheqiyu",3,0,500,0,900,1e4,1e4,300,500,100,0],key_6:["6","cheqiyu",3,0,1e3,0,800,1e4,1e4,300,500,100,0],key_7:["7","cheqiyu",3,0,1500,0,700,1e4,1e4,300,500,100,0],total_count:7},o={filed_data_array:n,get_record:function(e){var t=n["key_"+e];return t?{id:t[0],fishName:t[1],roadIndex:t[2],isRevert:t[3],genTime:t[4],isRandom:t[5],scale:t[6],min_speed:t[7],max_speed:t[8],hp:t[9],coinValue:t[10],expValue:t[11],use_AI:t[12]}:null}};i.MultiFishGen=o,cc._RF.pop()},{}],NetMgr:[function(e,t,i){"use strict";cc._RF.push(t,"ca6dcBBP+9JbZD7KoLjwFLj","NetMgr"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("../EventMgr"),o=cc._decorator,s=o.ccclass,a=(o.property,{Disconnected:0,Connecting:1,Connected:2}),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.url="ws://127.0.0.1:6081/ws",t.state=a.Disconnected,t.sock=null,t}var i;return __extends(t,e),i=t,t.prototype.onLoad=function(){null===i.Instance?(i.Instance=this,this.state=a.Disconnected):this.destroy()},t.prototype._on_opened=function(){this.state=a.Connected,cc.log("connect to server: "+this.url+" sucess!"),n.default.Instance.dispatch_event("net_connect",null)},t.prototype._on_recv_data=function(e){n.default.Instance.dispatch_event("net_message",e.data)},t.prototype.close_socket=function(){this.state===a.Connected&&null!==this.sock&&(this.sock.close(),this.sock=null),n.default.Instance.dispatch_event("net_disconnect",null),this.state=a.Disconnected},t.prototype._on_socket_close=function(){this.close_socket()},t.prototype._on_socket_err=function(){this.close_socket()},t.prototype.connect_to_server=function(){this.state===a.Disconnected&&(n.default.Instance.dispatch_event("net_connecting",null),this.state=a.Connecting,this.sock=new WebSocket(this.url),this.sock.binaryType="arraybuffer",this.sock.onopen=this._on_opened.bind(this),this.sock.onmessage=this._on_recv_data.bind(this),this.sock.onclose=this._on_socket_close.bind(this),this.sock.onerror=this._on_socket_err.bind(this))},t.prototype.send_data=function(e){this.state===a.Connected&&this.sock&&this.sock.send(e)},t.prototype.update=function(){this.state===a.Disconnected&&this.connect_to_server()},t.Instance=null,i=__decorate([s],t)}(cc.Component);i.default=r,cc._RF.pop()},{"../EventMgr":"EventMgr"}],Over_UI_Ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"b57e25AAktDbpTkzvdgsvYk","Over_UI_Ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=(n.property,e("./../../Managers/UIMgr")),a=e("../../Managers/EventMgr"),r=e("../UserData"),l=e("../../Managers/SoundMgr"),c=e("../../Managers/TtMgr"),u=e("../../Managers/WxMgr"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.score=null,t.game_score_lishi=null,t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),window.tt?(this.add_button_listen("Content/info/colse_btn",this,this.fuhuo),this.add_button_listen("Content/info/luping",this,this.luping)):cc.sys.platform===cc.sys.WECHAT_GAME?(this.add_button_listen("Content/info/colse_btn",this,this.fuhuo),this.view["Content/info/luping"].active=!1,this.view["Content/info/qianghua"].setPosition(0,-66),this.view["Content/info/rpaly_btn"].setPosition(0,-220)):cc.sys.os==cc.sys.OS_ANDROID?(this.add_button_listen("Content/info/colse_btn",this,this.fuhuo),this.view["Content/info/luping"].active=!1,this.view["Content/info/qianghua"].setPosition(0,-66),this.view["Content/info/rpaly_btn"].setPosition(0,-220)):(this.add_button_listen("Content/info/colse_btn",this,this.fuhuo),this.add_button_listen("Content/info/luping",this,this.luping)),this.add_button_listen("Content/info/qianghua",this,this.qianghua),this.add_button_listen("Content/info/rpaly_btn",this,this.replay),this.score=r.default.Instance.userData.score,this.game_score_lishi=r.default.Instance.userData.game_score_lishi},t.prototype.start=function(){l.default.Instance.play_effect("gameOver"),this.view["Content/info/score"].getComponent(cc.Label).string=this.score,this.view["Content/info/game_score_lishi"].getComponent(cc.Label).string=this.game_score_lishi,this.score>=this.game_score_lishi&&(r.default.Instance.userData.game_score_lishi=this.score,r.default.Instance.saveUserData(),console.log("\u6211\u6253\u7834\u4e86\u5386\u53f2\u8bb0\u5f55"))},t.prototype.luping=function(){c.default.Instance.shareVideo(this.colse,this)},t.prototype.fuhuo=function(){window.tt&&c.default.Instance.showVideoAd("fuhuo",this.colse,this),cc.sys.platform===cc.sys.WECHAT_GAME?(console.log("\u52a0\u8f7d\u5fae\u4fe1\u89c6\u9891"),u.default.Instance.showVideoAd("fuhuo",this.colse,this)):cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","creatorShowAD","(Ljava/lang/String;)V","fuhuo"):this.colse()},t.prototype.qianghua=function(){cc.director.resume(),console.log("\u6211\u7684ui\u5e94\u8be5\u88ab\u5220\u9664"+this.node.name),s.default.Instance.remove_ui(this.node.name),a.default.Instance.dispatch_event("qianghua",!0)},t.prototype.replay=function(){cc.director.resume(),this.node.getComponent("PopDialogCtrl").hideDialog(),s.default.Instance.remove_ui(this.node.name),a.default.Instance.dispatch_event("replay",null)},t.prototype.colse=function(){console.log("\u590d\u6d3b\u6210\u529f"),cc.director.resume(),this.node.getComponent("PopDialogCtrl").hideDialog(),s.default.Instance.remove_ui(this.node.name),a.default.Instance.dispatch_event("revive",null)},t.colse_android=function(){cc.director.resume(),a.default.Instance.dispatch_event("revive",null),s.default.Instance.remove_ui("Over_UI")},__decorate([o],t)}(s.UICtrl);i.default=h,cc._RF.pop()},{"../../Managers/EventMgr":"EventMgr","../../Managers/SoundMgr":"SoundMgr","../../Managers/TtMgr":"TtMgr","../../Managers/WxMgr":"WxMgr","../UserData":"UserData","./../../Managers/UIMgr":"UIMgr"}],PoolManager:[function(e,t,i){"use strict";cc._RF.push(t,"57099GOZ5FJZKQdU10ra1y/","PoolManager"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allPrefab=[],t.allPrefabMap=null,t.poolMap=null,t}var i;return __extends(t,e),i=t,t.prototype.onLoad=function(){null!=i.Instance&&i.Instance.destroy(),i.Instance=this,this.allPrefabMap=new Map,this.poolMap=new Map;for(var e=0;e<this.allPrefab.length;e++){this.allPrefabMap.set(this.allPrefab[e].name,this.allPrefab[e]),cc.log(this.allPrefab[e].name);var t=new cc.NodePool;this.poolMap.set(this.allPrefab[e].name,t)}this.allPrefabMap.forEach(function(e,t){console.log("value\uff1a",e,"key:",t)}),this.poolMap.forEach(function(e,t){console.log("value\uff1a",e,"key:",t)})},t.Spawn=function(e,t){if(void 0===t&&(t=null),!i.Instance.poolMap.has(e))return cc.warn("no prefab named "+e),null;var n=i.Instance.poolMap.get(e);if(n.size()>0){var o=n.get();console.log("\u6211\u62ff\u4e86\u4e00\u4e2a"),null!=t&&(o.parent=t);var s=cc.v2(0,0);return s.x=420*Math.random()-200,s.y=600+200*Math.random(),o.setPosition(s),o}var a=cc.instantiate(i.Instance.allPrefabMap.get(e));console.log("\u6211\u65b0\u521b\u5efa\u4e86\u4e00\u4e2a"),null!=t&&(a.parent=t);var r=cc.v2(0,0);return r.x=420*Math.random()-200,r.y=600+200*Math.random(),a.setPosition(r),a},t.Despawn=function(e,t){if(!i.Instance.poolMap.has(e))return cc.log("\u56de\u6536\u5931\u8d25,\u8282\u70b9\u540d : "+e),null;i.Instance.poolMap.get(e).put(t),cc.log("\u56de\u6536\u6210\u529f,\u8282\u70b9\u540d : ",t,"\u8282\u70b9\u6c60\uff1a",i.Instance.poolMap.get(e))},t.GetPrefab=function(e){return i.Instance.allPrefabMap.has(e)?i.Instance.allPrefabMap.get(e):null},t.Preload=function(e,t){if(!i.Instance.poolMap.has(e))return null;for(var n=i.Instance.poolMap.get(e),o=0;o<t;o++){var s=cc.instantiate(i.Instance.allPrefabMap.get(e));n.put(s)}},t.Instance=null,__decorate([s([cc.Prefab])],t.prototype,"allPrefab",void 0),i=__decorate([o],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],PopDialogCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"1e801S1fGlAvb0UAPiRnnbY","PopDialogCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mask=null,t.content=null,t.maskOpacity=200,t.isShow=!0,t.isPause=!1,t.endFunc=null,t.caller=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.content.active=!1,this.mask.active=!1,this.mask.opacity=this.maskOpacity,this.isShow&&this.showDialog()},t.prototype.start=function(){},t.prototype.showDialog=function(e,t){this.content.active=!0,this.mask.active=!0,null!=e&&null!=t&&(this.endFunc=e,this.caller=t),this.mask.opacity=0;var i=cc.fadeTo(.1,this.maskOpacity);this.mask.runAction(i),this.content.setScale(0,0);var n=cc.scaleTo(.2,1,1).easing(cc.easeBackOut());this.content.runAction(n),this.scheduleOnce(function(){console.log("\u5f39\u51fa\u7a97\u53e3"),null!=e&&null!=t&&this.endFunc.call(t),cc.director.pause()}.bind(this),.4)},t.prototype.hideDialog=function(){this.node.active=!1,this.mask.active=!1},__decorate([s({type:cc.Node,tooltip:"\u5f39\u51fa\u5f0f\u5bf9\u8bdd\u6846\u7684\u906e\u7f69\u8282\u70b9"})],t.prototype,"mask",void 0),__decorate([s({type:cc.Node,tooltip:"\u5f39\u51fa\u5f0f\u5bf9\u8bdd\u6846\u7684\u4e3b\u4f53\u5185\u5bb9\u8282\u70b9"})],t.prototype,"content",void 0),__decorate([s({tooltip:"\u5f39\u51fa\u5f0f\u5bf9\u8bdd\u6846\u521d\u59cb\u5316\u65f6\u7684\u900f\u660e\u5ea6"})],t.prototype,"maskOpacity",void 0),__decorate([s({tooltip:"\u662f\u5426\u76f4\u63a5\u5f39\u51fa"})],t.prototype,"isShow",void 0),__decorate([o],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],PrefabPool:[function(e,t,i){"use strict";cc._RF.push(t,"cbcbaROChdIaaY6TkEhT4PR","PrefabPool"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("./ResMgr"),o=cc._decorator,s=o.ccclass,a=(o.property,function(){function e(){}return e.get=function(e,t){void 0===t&&(t=null),null==this.poolList[e]&&(this.poolList[e]=[]);var i,o=this.poolList[e];0==o.length?(i=cc.instantiate(n.default.Instance.getAsset("GUI",e))).poolKey=e:i=o.pop();var s=t?i.getComponent(t):null;return s&&s.reuse&&s.reuse.apply(s,arguments),i},e.put=function(e,t){void 0===t&&(t=null);var i=this.poolList[e.poolKey];if(i&&-1==i.indexOf(e)){console.log("\u6211\u79fb\u9664\u4e86"),e.removeFromParent(!1);var n=t?e.getComponent(t):null;n&&n.unuse&&n.unuse(),console.log("\u6211put\u4e86"),i.push(e)}},e.clear=function(e){var t=this.poolList[e];if(t){for(var i=0,n=t.length;i<n;i++)t[i].destroy();t.length=0}},e.clearAll=function(){for(var e in this.poolList)this.clear(e)},e.size=function(e){var t=this.poolList[e];return t?t.length:0},e.poolList={},__decorate([s],e)}());i.default=a,cc._RF.pop()},{"./ResMgr":"ResMgr"}],RankPanel:[function(e,t,i){"use strict";cc._RF.push(t,"5ec69uMSdZFX57EMsd4yjkp","RankPanel"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.main=null,t.closeBtnNode=null,t.openBtnNode=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.main.active=!1,this.main.active=!1,this.closeBtnNode.on("touchend",this.hide,this),this.openBtnNode.on("touchend",this.show,this)},t.prototype.onDestroy=function(){this.closeBtnNode.off("touchend",this.hide,this)},t.prototype.show=function(){cc.director.resume(),this.main.active=!0,this.getRank()},t.prototype.hide=function(){this.main.active=!1,cc.director.pause()},t.prototype.setScore=function(e){console.log("\u4e0a\u4f20\u5206\u6570\uff1a"+e),wx.postMessage({event:"setScore",score:e})},t.prototype.upScore=function(e){console.log("\u6211\u4e0a\u4f20\u4e86\u5206\u6570\u662f\uff1a\uff1a\uff1a\uff1a"+e),wx.postMessage({event:"update",score:e})},t.prototype.getRank=function(){wx.postMessage({event:"getRank"})},__decorate([s(cc.Node)],t.prototype,"main",void 0),__decorate([s(cc.Node)],t.prototype,"closeBtnNode",void 0),__decorate([s(cc.Node)],t.prototype,"openBtnNode",void 0),__decorate([o],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],ResLoadingPkg:[function(e,t,i){"use strict";cc._RF.push(t,"94cce6xPANM0p9JILRgCP2E","ResLoadingPkg"),Object.defineProperty(i,"__esModule",{value:!0});var n={Sounds:{assetType:cc.AudioClip,urls:[]},ui_prefabs:{assetType:cc.Prefab,urls:["ResLoading"]}};i.default=n,cc._RF.pop()},{}],ResLoading_Ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"58c72leytpP7KVFKcyD9nce","ResLoading_Ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=(n.property,e("./../../Managers/UIMgr")),a=e("../../Managers/EventMgr"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progressBar=null,t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.progressBar=this.view["UIProgress/value"].getComponent(cc.Sprite),this.progressBar.fillRange=0,a.default.Instance.add_event_listenner("ResLoadProgress",this,this.onProgress)},t.prototype.onProgress=function(e,t){var i=t;this.progressBar.fillRange=i},t.prototype.onDestroy=function(){a.default.Instance.remove_event_listenner("ResLoadProgress",this,this.onProgress)},__decorate([o],t)}(s.UICtrl);i.default=r,cc._RF.pop()},{"../../Managers/EventMgr":"EventMgr","./../../Managers/UIMgr":"UIMgr"}],ResMgr:[function(e,t,i){"use strict";cc._RF.push(t,"f8583YU/v9IxpBQmOdxPiFN","ResMgr"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abBunds={},t.total=0,t.now=0,t.progressFunc=null,t.endFunc=null,t.nowAb=0,t.totalAb=0,t}var i;return __extends(t,e),i=t,t.prototype.loadAssetsBundle=function(e,t){var i=this;cc.assetManager.loadBundle(e,function(n,o){null!==n?(console.log("[ResMgr]:Load AssetsBundle Error: "+e),i.abBunds[e]=null):(console.log("[ResMgr]:Load AssetsBundle Success: "+e),i.abBunds[e]=o),t&&t()})},t.prototype.onLoad=function(){null===i.Instance?i.Instance=this:this.destroy()},t.prototype.loadRes=function(e,t,i){var n=this;e.load(t,i,function(e){n.now++,e?console.log("load Res "+t+" error: "+e):console.log("load Res "+t+" success!"),n.progressFunc&&n.progressFunc(n.now,n.total),console.log(n.now,n.total),n.now>=n.total&&null!==n.endFunc&&n.endFunc()})},t.prototype.getAsset=function(e,t){var i=cc.assetManager.getBundle(e);return null===i?(console.log("[error]: "+e+" AssetsBundle not loaded !!!"),null):i.get(t)},t.prototype.getBundle=function(e){var t=cc.assetManager.getBundle(e);return null===t?(console.log("[error]: "+e+" AssetsBundle not loaded !!!"),null):t},t.prototype.releaseResPackage=function(e){for(var t in e)for(var i=e[t].urls,n=0;n<i.length;n++)cc.assetManager.releaseAsset(i[n])},t.prototype.loadAssetsInAssetsBundle=function(e){for(var t in e)for(var i=e[t].urls,n=e[t].assetType,o=0;o<i.length;o++)this.loadRes(this.abBunds[t],i[o],n)},t.prototype.preloadResPackage=function(e,t,i){var n=this;for(var o in this.total=0,this.now=0,this.totalAb=0,this.nowAb=0,this.progressFunc=t,this.endFunc=i,e)this.totalAb++,this.total+=e[o].urls.length;for(var o in e)this.loadAssetsBundle(o,function(){n.nowAb++,n.nowAb===n.totalAb&&n.loadAssetsInAssetsBundle(e)})},t.Instance=null,i=__decorate([o],t)}(cc.Component));i.default=s,cc._RF.pop()},{}],SoundMgr:[function(e,t,i){"use strict";cc._RF.push(t,"e56b0Tore9O6pTEg3DgnLQC","SoundMgr"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("./ResMgr"),o=cc._decorator,s=o.ccclass,a=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.music_mute=0,t.effect_mute=0,t.effect_volume=1,t.music_volume=1,t.music_as=null,t.effect_as=[],t.cur_as=0,t}var i;return __extends(t,e),i=t,t.prototype.onLoad=function(){if(null===i.Instance){i.Instance=this,this.music_as=this.node.addComponent(cc.AudioSource),this.music_as.volume=this.music_volume,1===this.music_mute&&(this.music_as.volume=0);for(var e=0;e<8;e++){var t=this.node.addComponent(cc.AudioSource);this.effect_as.push(t),t.volume=this.effect_volume,1===this.effect_mute&&(t.volume=0)}this.cur_as=0}else this.destroy()},t.prototype.get_music_volume=function(){return this.music_volume},t.prototype.set_music_volume=function(e){this.music_volume=e,this.music_as.volume=e,cc.sys.localStorage.setItem("music_volume",e)},t.prototype.get_music_mute=function(){return this.music_mute},t.prototype.set_music_mute=function(e){var t=e?1:0;this.music_mute!=t&&(this.music_mute=t,1===this.music_mute?this.music_as.volume=0:this.music_as.volume=this.music_volume,cc.sys.localStorage.setItem("music_mute",t))},t.prototype.get_effect_volume=function(){return this.effect_volume},t.prototype.set_effect_volume=function(e){for(var t=0;t<this.effect_as.length;t++)this.effect_as[t].volume=e;this.effect_volume=e,cc.sys.localStorage.setItem("effect_volume",e)},t.prototype.get_effect_mute=function(){return this.effect_mute},t.prototype.set_effect_mute=function(e){var t=e?1:0;if(this.effect_mute!=t){for(var i=0;i<this.effect_as.length;i++)1===this.effect_mute?this.effect_as[i].volume=0:this.effect_as[i].volume=this.effect_volume;this.effect_mute=t,cc.sys.localStorage.setItem("effect_mute",t)}},t.prototype.play_music=function(e,t){t=!!t,this.music_as.loop=t,this.music_as.clip=n.default.Instance.getAsset("Sounds",e),this.music_as.clip?this.music_as.play():cc.error("music audio clip null: ",e)},t.prototype.stop_music=function(){this.music_as.stop()},t.prototype.play_effect=function(e){var t=this.effect_as[this.cur_as];this.cur_as++,this.cur_as>=8&&(this.cur_as=0),t.clip=n.default.Instance.getAsset("Sounds",e),t.clip?t.play():cc.error("effect audio clip null: ",e)},t.Instance=null,i=__decorate([s],t)}(cc.Component));i.default=a,cc._RF.pop()},{"./ResMgr":"ResMgr"}],TtMgr:[function(e,t,i){"use strict";cc._RF.push(t,"6fa822kty9Gg7AizRBUp5e1","TtMgr"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.text="\u8fd9\u6b3e\u7a7a\u6218\u6e38\u620f,\u6211\u6700\u591a\u6253\u5230\u7b2c6\u5173",t.endFunc=null,t.caller=null,t.recorder=null,t.videoPath=null,t.videoAd=null,t.bannerAd=null,t.windowWidth=null,t.windowHeight=null,t.interstitialAd=null,t.keyTag=null,t}var i;return __extends(t,e),i=t,t.prototype.onLoad=function(){null===i.Instance?(i.Instance=this,window.tt&&this.initGame()):this.destroy()},t.prototype.start=function(){},t.prototype.initGame=function(){this.initVideoAd(),this.InterstitialAd()},t.prototype.onLoad_video=function(){var e=this;console.log("\u5e7f\u544a\u7ec4\u4ef6\u52a0\u8f7d\u6210\u529f"),this.videoAd.load().then(function(){return e.videoAd.show()}).catch(function(e){return console.log(e.errMsg)})},t.prototype.offLoad_vodeo=function(){this.videoAd.offLoad(function(){console.log("load \u76d1\u542c\u5668\u5378\u8f7d\u6210\u529f")})},t.prototype.InterstitialAd=function(){var e=this;this.interstitialAd=tt.createInterstitialAd({adUnitId:"\u586b\u5199\u4f60\u81ea\u5df1\u7684id"}),this.interstitialAd.onClose(function(){e.interstitialAd.load()})},t.prototype.showInterstitialAd=function(){var e=this;this.interstitialAd.load().then(function(){e.interstitialAd.show().then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f")})}).catch(function(e){console.log(e)})},t.prototype.initBannerAd=function(){var e=this,t=tt.getSystemInfoSync(),i=t.windowWidth,n=t.windowHeight;e.bannerAd=tt.createBannerAd({adUnitId:"\u586b\u5199\u4f60\u81ea\u5df1\u7684id",style:{width:200,top:n-112.5}}),e.bannerAd.style.left=(i-200)/2,e.bannerAd.onResize(function(t){console.log(t.width,t.height),e.bannerAd.style.top=n-t.height,e.bannerAd.style.left=(i-t.width)/2}),e.bannerAd.onLoad(function(){e.bannerAd.show().then(function(){console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(e){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",e)})})},t.prototype.initVideoAd=function(){var e=this;this.videoAd=tt.createRewardedVideoAd({adUnitId:"\u586b\u5199\u4f60\u81ea\u5df1\u7684id"}),this.videoAd.onError(function(e){console.log("\u6fc0\u52b1\u89c6\u9891\u5c55\u793a\u5931\u8d25"),console.log(e)}),this.videoAd.onClose(function(t){if(t&&t.isEnded||void 0===t){switch(e.keyTag){case"fuhuo":e.endFunc.call(e.caller);break;case"game_medal":e.endFunc.call(e.caller,e.keyTag,80);break;case"game_gold":e.endFunc.call(e.caller,e.keyTag,300);break;case"keys_shuangbei":e.endFunc.call(e.caller)}console.log("\u5956\u52b1\u5df2\u7ecf\u53d1\u653e"),e.endFunc=null,e.caller=null,e.keyTag=null}else console.log("\u56e0\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u6240\u4ee5\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1");cc.audioEngine.pauseMusic(),cc.audioEngine.resumeMusic()})},t.prototype.stopRecorder=function(){console.log("\u505c\u6b62\u5f55\u5c4f\u4e86\uff01\uff1a"+this.videoPath),this.recorder.stop()},t.prototype.startRecorder=function(){var e=this;tt.getSystemInfo({success:function(t){var i=t.screenWidth,n=t.screenHeight;e.recorder=tt.getGameRecorderManager();var o=e.recorder.getMark(),s=(i-o.markWidth)/2,a=(n-o.markHeight)/2;e.recorder.onStart(function(){console.log("\u5f55\u5c4f\u5f00\u59cb")}),e.recorder.onStop(function(t){console.log("\u5730\u5740\uff1a"+t.videoPath),e.videoPath=t.videoPath}),e.recorder.start({duration:300,isMarkOpen:!0,locLeft:s,locTop:a})}})},t.prototype.shareVideo=function(e,t){var i=this;null!=e&&null!=t&&(this.caller=t,this.endFunc=e),tt.shareAppMessage({title:"\u8fd9\u6b3e\u7a7a\u6218\u6e38\u620f\uff0c\u592a\u597d\u73a9\u4e86\u3002",channel:"video",desc:"\u8fd9\u4e2a\u7a7a\u6218\u6e38\u620f\u6709\u96be\u5ea6\uff0c\u591a\u6570\u4eba\u5361\u5728\u4e86\u7b2c\u4e09\u5173\u3002",extra:{videoPath:i.videoPath,videoTopics:["\u89e3\u538b\u5c0f\u6e38\u620f","\u4f11\u95f2\u6e38\u620f","\u70e7\u8111\u6311\u6218\u5927\u6e38\u620f","\u6000\u65e7\u6e38\u620f","\u624b\u6e38","\u6218\u6597","\u98de\u673a\u5927\u6218"]},success:function(){i.endFunc.call(i.caller),i.videoPath=null,i.caller=null,i.endFunc=null},fail:function(){tt.showModal({title:"\u5206\u4eab\u5931\u8d25",content:"\u89c6\u9891\u5206\u4eab\u5931\u8d25"})}})},t.prototype.shareAppMessage=function(){},t.prototype.showVideoAd=function(e,t,i){var n=this;this.videoAd&&(this.keyTag=e,null!=t&&null!=i&&(this.caller=i,this.endFunc=t),this.videoAd.show().catch(function(){n.videoAd.load().then(function(){return n.videoAd.show()}).catch(function(e){console.log(e),console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25")})}))},t.prototype.login_app=function(e,t,i){var n=this;null!=t&&null!=i&&(n.caller=i,n.endFunc=t),console.log("\u767b\u5f55\u64cd\u4f5c"),tt.login({force:e,success:function(e){console.log("login \u8c03\u7528\u6210\u529f"),n.endFunc.call(n.caller,e.isLogin),n.caller=null,n.endFunc=null},fail:function(e){n.endFunc.call(n.caller,!1),n.caller=null,n.endFunc=null,console.log("login \u8c03\u7528\u5931\u8d25"+e.errMsg)},complete:function(){console.log("login complete")}})},t.prototype.realNameAuth=function(){tt.authenticateRealName({success:function(){console.log("\u7528\u6237\u5b9e\u540d\u8ba4\u8bc1\u6210\u529f")},fail:function(e){console.log("\u7528\u6237\u5b9e\u540d\u8ba4\u8bc1\u5931\u8d25",e.errMsg)}})},t.Instance=null,i=__decorate([o],t)}(cc.Component));i.default=s,cc._RF.pop()},{}],UIMgr:[function(e,t,i){"use strict";cc._RF.push(t,"98c22AOEztEc7gkdzvbGRrU","UIMgr"),Object.defineProperty(i,"__esModule",{value:!0}),i.UICtrl=void 0;var n=e("./ResMgr"),o=cc._decorator,s=(o.ccclass,o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.view={},t}return __extends(t,e),t.prototype.load_all_object=function(e,t){for(var i=0;i<e.childrenCount;i++)this.view[t+e.children[i].name]=e.children[i],this.load_all_object(e.children[i],t+e.children[i].name+"/")},t.prototype.onLoad=function(){this.view={},this.load_all_object(this.node,"")},t.prototype.add_button_listen=function(e,t,i){var n=this.view[e];n&&n.getComponent(cc.Button)&&n.on("click",i,t)},t}(cc.Component));i.UICtrl=s;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Canvas=null,t.uiMap={},t}return __extends(t,e),t.prototype.onLoad=function(){null===t.Instance?(t.Instance=this,this.Canvas=this.node.parent):this.destroy()},t.prototype.show_ui=function(e,t){t||(t=this.Canvas);var i=n.default.Instance.getAsset("ui_prefabs",e),o=null;return i&&(o=cc.instantiate(i),t.addChild(o),o.addComponent(e+"_Ctrl")),this.uiMap[e]=o,console.log("\u573a\u666f\u8282\u70b9",t.children),o},t.prototype.remove_ui=function(e){this.uiMap[e]&&(this.uiMap[e].destroy(),this.uiMap[e]=null)},t.prototype.clearAll=function(){for(var e in this.uiMap)this.uiMap[e]&&(this.uiMap[e].destroy(),this.uiMap[e]=null)},t.Instance=null,t}(cc.Component);i.default=a,cc._RF.pop()},{"./ResMgr":"ResMgr"}],UserData:[function(e,t,i){"use strict";cc._RF.push(t,"e2cecxe9BlCHYESxbvnHydC","UserData"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userDataStr="mUserDataStrPlane_A",t.userData={},t.userData_first={},t}var i;return __extends(t,e),i=t,t.prototype.onLoad=function(){if(console.log("\u83b7\u53d6\u7528\u6237\u6570\u636e"),null!==i.Instance)return console.log("\u9500\u6bc1\u4e00\u4e2a\u5355\u4f8b"),void this.destroy();i.Instance=this,this.userData_first={game_score_lishi:0,game_gold:200,game_medal:40,score:0,Level:1,nowLevel:1,skill_1:3,skill_2:4,hedan:3,shield:1,power:1,pet:null,plane:{player_name:"player1",emitter:"player1_emitter",hp:5}},this.getUserData()},t.prototype.getUserData=function(){cc.sys.localStorage.getItem(this.userDataStr)?(this.userData=JSON.parse(cc.sys.localStorage.getItem(this.userDataStr)),console.log("\u7528\u6237\u8868\uff1a",this.userData)):(this.userData=this.userData_first,this.saveUserData())},t.prototype.saveUserData=function(){cc.sys.localStorage.setItem(this.userDataStr,JSON.stringify(this.userData))},t.Instance=null,i=__decorate([o],t)}(cc.Component));i.default=s,cc._RF.pop()},{}],Victory_UI_Ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"df575W8Xy9OMq3QDqFc036z","Victory_UI_Ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=(n.property,e("./../../Managers/UIMgr")),a=e("../../Managers/EventMgr"),r=e("../UserData"),l=e("../../Managers/SoundMgr"),c=e("../../Managers/TtMgr"),u=e("../../Managers/WxMgr"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.level=null,t.get_medal=null,t.game_score_lishi=null,t.score=null,t.get_gold=null,t.get_jiangli_node=null,t.RankPanel=null,t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},t.prototype.onDestroy=function(){a.default.Instance.remove_event_listenner("lingqu",this,this.lingqu)},t.prototype.luping=function(){window.tt&&c.default.Instance.shareVideo(this.lingqu2,this)},t.prototype.start=function(){a.default.Instance.add_event_listenner("lingqu",this,this.lingqu),window.tt?(console.log("\u80dc\u5229\u4e86\u5f39\u63d2\u5c4f\u5e7f\u544att"),c.default.Instance.showInterstitialAd()):cc.sys.platform===cc.sys.WECHAT_GAME?(console.log("\u80dc\u5229\u4e86\u5f39\u63d2\u5c4f\u5e7f\u544awx"),u.default.Instance.showInterstitialAd()):cc.sys.os==cc.sys.OS_ANDROID&&(console.log("\u80dc\u5229\u4e86\u5f39\u63d2\u5c4f\u5e7f\u544aandroid"),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","openChaPing","(Ljava/lang/String;)V","\u80dc\u5229\u5e7f\u544a")),console.log("\u5f39\u51fa\u80dc\u5229ui"+this.node.name),this.add_button_listen("Content/info/luping",this,this.luping),this.add_button_listen("Content/info/next",this,this.colse),this.add_button_listen("Content/info/back",this,this.qinghau),this.add_button_listen("Content1/shaungbei_btn",this,this.getShuangbei),this.add_button_listen("Content1/fangqi_btn",this,this.getFangqi),window.tt?(this.view["Content/info/openRank"].active=!1,this.view["Content/info/back"].y-=45):cc.sys.platform===cc.sys.WECHAT_GAME?(this.RankPanel=this.node.getComponent("RankPanel"),this.add_button_listen("RankPanel/info/rank_share_btn",this,this.rank_share),this.view["Content/info/luping"].active=!1):cc.sys.os==cc.sys.OS_ANDROID&&(this.view["Content/info/luping"].active=!1,this.view["Content/info/openRank"].active=!1,this.view["Content/info/next"].y-=90,this.view["Content/info/back"].y-=90),this.level=r.default.Instance.userData.nowLevel-1,this.game_score_lishi=r.default.Instance.userData.game_score_lishi,this.score=r.default.Instance.userData.score,cc.sys.platform===cc.sys.WECHAT_GAME&&(console.log("setScore+="+this.score),this.RankPanel.setScore(this.score)),this.get_jiangli_node=this.view.Content1,this.get_jiangli_node.active=!1,l.default.Instance.play_effect("victory"),this.get_medal=Math.floor(280*Math.random())+1,this.get_medal<50&&(this.get_medal=50),r.default.Instance.userData.game_medal+=this.get_medal,this.get_gold=Math.floor(560*Math.random())+1,this.get_gold<100&&(this.get_gold=100),r.default.Instance.userData.game_gold+=this.get_gold,r.default.Instance.saveUserData(),this.view["Content/info/Level"].getComponent(cc.Label).string="\u7b2c"+this.level+"\u5173",this.view["Content/info/get_medal"].getComponent(cc.Label).string=this.get_medal,this.view["Content/info/get_gold"].getComponent(cc.Label).string=this.get_gold,this.view["Content/info/game_score_lishi"].getComponent(cc.Label).string=this.game_score_lishi,this.view["Content/info/score"].getComponent(cc.Label).string=this.score,this.score>=this.game_score_lishi&&(r.default.Instance.userData.game_score_lishi=this.score,r.default.Instance.saveUserData()),this.view.Content.getComponent("PopDialogCtrl").showDialog(this.showJiangli,this)},t.prototype.rank_share=function(){cc.sys.platform===cc.sys.WECHAT_GAME&&u.default.Instance.shareAppMessage("keys_xuanyao")},t.prototype.showJiangli=function(){this.get_jiangli_node.active=!0,this.view["Content1/get_medal"].getComponent(cc.Label).string="+"+this.get_medal,this.view["Content1/get_gold"].getComponent(cc.Label).string="+"+this.get_gold},t.prototype.qinghau=function(){cc.director.resume(),console.log("\u6211\u7684ui\u5e94\u8be5\u88ab\u5220\u9664"+this.node.name),s.default.Instance.remove_ui(this.node.name),a.default.Instance.dispatch_event("qianghua",!1)},t.prototype.lingqu=function(){console.log("\u70b9\u51fb\u4e86\u83b7\u53d6\u53cc\u500d\u5956\u52b1\u6309\u94ae"),r.default.Instance.userData.game_medal+=this.get_medal,r.default.Instance.userData.game_gold+=this.get_gold,r.default.Instance.saveUserData(),this.get_medal=2*this.get_medal,this.get_gold=2*this.get_gold,this.view["Content/info/get_medal"].getComponent(cc.Label).string=this.get_medal,this.view["Content/info/get_gold"].getComponent(cc.Label).string=this.get_gold,this.get_jiangli_node.active=!1},t.prototype.lingqu2=function(){console.log("\u70b9\u51fb\u4e86\u83b7\u53d6\u53cc\u500d\u5956\u52b1\u6309\u94ae_\u5f55\u5c4f"),r.default.Instance.userData.game_medal+=this.get_medal,r.default.Instance.userData.game_gold+=this.get_gold,r.default.Instance.saveUserData(),this.get_medal=2*this.get_medal,this.get_gold=2*this.get_gold,this.view["Content/info/get_medal"].getComponent(cc.Label).string=this.get_medal,this.view["Content/info/get_gold"].getComponent(cc.Label).string=this.get_gold,this.view["Content/info/luping"].active=!1,tt.showModal({title:"\u5206\u4eab\u6210\u529f",content:"\u606d\u559c\uff01\u5df2\u83b7\u53d6\u53cc\u500d\u5956\u52b1\uff01\uff01\uff01"})},t.prototype.getShuangbei=function(){cc.sys.platform===cc.sys.WECHAT_GAME?u.default.Instance.showVideoAd("keys_shuangbei",this.lingqu,this):window.tt?c.default.Instance.showVideoAd("keys_shuangbei",this.lingqu,this):cc.sys.os==cc.sys.OS_ANDROID&&(console.log("\u6211\u662f\u5b89\u5353\u7cfb\u7edf"),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","creatorShowAD","(Ljava/lang/String;)V","shuangbei"))},t.prototype.getFangqi=function(){this.get_jiangli_node.active=!1},t.prototype.colse=function(){cc.director.resume(),s.default.Instance.remove_ui(this.node.name),a.default.Instance.dispatch_event("nextLevel",null)},t.lingqu_android=function(){a.default.Instance.dispatch_event("lingqu",0)},__decorate([o],t)}(s.UICtrl);i.default=h,cc._RF.pop()},{"../../Managers/EventMgr":"EventMgr","../../Managers/SoundMgr":"SoundMgr","../../Managers/TtMgr":"TtMgr","../../Managers/WxMgr":"WxMgr","../UserData":"UserData","./../../Managers/UIMgr":"UIMgr"}],WxMgr:[function(e,t,i){"use strict";cc._RF.push(t,"ad0dbcSH0NCNZYXxRmmtQrR","WxMgr"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("../Game/UserData"),o=cc._decorator,s=o.ccclass,a=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isShared=!1,t.isTimeline=!1,t.shareTag="",t.closeTime=0,t.text="\u8fd9\u6b3e\u7a7a\u6218\u6e38\u620f,\u6211\u6700\u591a\u6253\u5230\u7b2c6\u5173",t.picUrl="",t.videoAd=null,t.interstitialAd=null,t.keyTag=null,t.endFunc=null,t.caller=null,t}var i;return __extends(t,e),i=t,t.prototype.onLoad=function(){null===i.Instance?(i.Instance=this,cc.sys.platform===cc.sys.WECHAT_GAME&&(this.initGame(),this.initVideoAd(),this.initInterstitialAd())):this.destroy()},t.prototype.showVideoAd=function(e,t,i){var n=this;this.videoAd&&(this.keyTag=e,null!=t&&null!=i&&(this.caller=i,this.endFunc=t),this.videoAd.show().catch(function(){n.videoAd.load().then(function(){return n.videoAd.show()}).catch(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25")})}))},t.prototype.showInterstitialAd=function(){this.interstitialAd&&this.interstitialAd.show().catch(function(e){console.log("\u63d2\u5c4f \u5e7f\u544a\u62c9\u53d6\u5931\u8d25"),console.error(e)})},t.prototype.initInterstitialAd=function(){wx.createInterstitialAd&&(console.log("\u5e7f\u544a\u88ab\u521b\u5efa"),this.interstitialAd=wx.createInterstitialAd({adUnitId:"\u586b\u5199\u4f60\u81ea\u5df1\u7684id"})),this.interstitialAd.onClose(function(){console.log("\u63d2\u5c4f \u5e7f\u544a\u5173\u95ed")}),this.interstitialAd.onLoad(function(){console.log("\u63d2\u5c4f \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.interstitialAd.onError(function(e){console.log("\u63d2\u5c4f \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"),console.log(e)})},t.prototype.initVideoAd=function(){var e=this;this.videoAd=wx.createRewardedVideoAd({adUnitId:"\u586b\u5199\u4f60\u81ea\u5df1\u7684id"}),this.videoAd.onError(function(e){console.log("\u6fc0\u52b1\u89c6\u9891\u5c55\u793a\u5931\u8d25"),console.log(e)}),this.videoAd.onClose(function(t){if(t&&t.isEnded||void 0===t){switch(e.keyTag){case"fuhuo":e.endFunc.call(e.caller);break;case"game_medal":e.endFunc.call(e.caller,e.keyTag,80);break;case"game_gold":e.endFunc.call(e.caller,e.keyTag,300);break;case"keys_shuangbei":e.endFunc.call(e.caller)}console.log("\u5956\u52b1\u5df2\u7ecf\u53d1\u653e"),e.endFunc=null,e.caller=null,e.keyTag=null}else console.log("\u56e0\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u6240\u4ee5\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1");cc.audioEngine.pauseMusic(),cc.audioEngine.resumeMusic()})},t.prototype.initGame=function(){var e=this;wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),wx.onShareAppMessage(function(){return{title:e.text,imageUrl:e.picUrl}}),wx.onShareTimeline(function(){return e.closeTime=(new Date).getTime(),e.isTimeline=!0,{title:e.text,imageUrl:e.picUrl}});var t=wx.getLaunchOptionsSync();console.log("\u9996\u6b21\u5f00\u542f launchOption"),console.log(t),wx.onShow(function(){console.log("\u56de\u5230\u524d\u53f0onShow\u662f\u5426\u5206\u4eab\uff1a"+e.shareTag+"\u5206\u4eab\u7684key\uff1a"+e.isShared);var t=(new Date).getTime();if(t-e.closeTime<=3e3)return e.isTimeline=!1,e.isShared=!1,e.shareTag="",e.closeTime=t,console.log("\u5206\u4eab\u4e0d\u6210\u529f\u63d0\u793a<3000"),void wx.showToast({title:"\u5206\u4eab\u5931\u8d25",icon:"none",duration:1500});if(e.isTimeline&&(e.closeTime=t,e.isTimeline=!1,console.log("\u5206\u4eab\u670b\u53cb\u5708\u6210\u529f\u63d0\u793a"),wx.showToast({title:"\u83b7\u5f97\u53cc\u500d\u5956\u52b1",icon:"none",duration:1500})),e.isShared&&"keys_fuhuo"==e.shareTag){if(e.endFunc){var i=e.caller;e.endFunc.call(i)}console.log("\u5206\u4eab\u6210\u529f\u63d0\u793a"),e.isShared=!1,e.shareTag="",e.closeTime=t,e.endFunc=null,e.caller=null}else e.isShared&&"keys_shuangbei"==e.shareTag?(e.endFunc&&(i=e.caller,e.endFunc.call(i)),console.log("\u5206\u4eab\u6210\u529f\u63d0\u793a"),e.isShared=!1,e.shareTag="",e.closeTime=t,e.endFunc=null,e.caller=null,wx.showToast({title:"\u83b7\u5f97\u4e86\u53cc\u500d\u5956\u52b1\uff01",icon:"none",duration:1500})):e.isShared&&"game_medal"==e.shareTag?(e.endFunc&&(i=e.caller,e.endFunc.call(i,e.shareTag,80)),console.log("\u5206\u4eab\u6210\u529f\u63d0\u793a"),e.isShared=!1,e.shareTag="",e.closeTime=t,e.endFunc=null,e.caller=null,wx.showToast({title:"\u83b7\u5f97\u52cb\u7ae0",icon:"none",duration:1500})):e.isShared&&"game_gold"==e.shareTag&&(e.endFunc&&(i=e.caller,e.endFunc.call(i,e.shareTag,300)),console.log("\u5206\u4eab\u6210\u529f\u63d0\u793a"),e.isShared=!1,e.shareTag="",e.closeTime=t,e.endFunc=null,e.caller=null,wx.showToast({title:"\u83b7\u5f97\u91d1\u5e01",icon:"none",duration:1500}))})},t.prototype.shareAppMessage=function(e,t,i){switch(this.isShared=!0,this.closeTime=(new Date).getTime(),this.shareTag=e,null!=t&&null!=i&&(this.caller=i,this.endFunc=t),this.shareTag){case"keys_fuhuo":wx.shareAppMessage({title:this.text,imageUrl:this.picUrl,query:"openid=110"});break;case"keys_shuangbei":console.log("\u6211\u662f\u53cc\u500d\u5956\u52b1\u7684\u5206\u4eab\uff01"),wx.shareAppMessage({title:this.text,imageUrl:this.picUrl,query:"openid=110"});break;case"game_medal":case"game_gold":wx.shareAppMessage({title:this.text,imageUrl:this.picUrl,query:"openid=110"});break;case"keys_xuanyao":var o="\u8fd9\u6b3e\u6e38\u620f\u6211\u6253\u5230\u4e86\u7b2c"+n.default.Instance.userData.Level+"\u5173\uff0c\u6210\u7ee9\uff1a"+n.default.Instance.userData.game_score_lishi+"\u5206";wx.shareAppMessage({title:o,imageUrl:this.picUrl,query:"openid=110"})}},t.prototype.start=function(){},t.Instance=null,i=__decorate([s],t)}(cc.Component));i.default=a,cc._RF.pop()},{"../Game/UserData":"UserData"}],arms_Ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"cf674DI0fNIapRaxbdN/plm","arms_Ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("../../../../lq_bullet_system/lq_bullet_emitter"),o=cc._decorator,s=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.left_arms=null,t.left_arms_times_over=180,t.left_arms_fire_times_over=60,t.arms_degree=30,t.isFire=!1,t.isFire_y=!1,t.kaiPao=null,t.left_arms_times=0,t.left_arms_fire_times=0,t.target=null,t}return __extends(t,e),t.prototype.init=function(){null!=this.left_arms&&this.left_arms.pause_system(),null!=this.kaiPao&&(this.kaiPao.active=!1),this.target=this.node.parent.parent.parent.getChildByName("player_root")},t.prototype.start=function(){this.init()},t.prototype.pao1Fire=function(e){e?this.left_arms.start_system():this.left_arms.pause_system();var t=this.target.getPosition(),i=this.node.parent.parent.convertToNodeSpaceAR(this.node.convertToWorldSpaceAR(cc.v2(0,0)));if(i.y<t.y&&this.isFire_y)this.left_arms.pause_system();else{var n=t.sub(i),o=180*Math.atan2(n.y,n.x)/Math.PI;this.node.angle=o-90,null!=this.left_arms&&(this.left_arms.origin_angle_min=o-this.arms_degree,this.left_arms.origin_angle_max=o-this.arms_degree)}},t.prototype.update=function(){this.isFire&&(this.pao1Fire(!1),this.left_arms_times++,this.left_arms_times>=this.left_arms_times_over&&(this.pao1Fire(!0),this.left_arms_fire_times++,null!=this.kaiPao&&(this.kaiPao.active=!0),this.left_arms_fire_times>=this.left_arms_fire_times_over&&(this.left_arms_fire_times=0,this.left_arms_times=0,this.pao1Fire(!1),null!=this.kaiPao&&(this.kaiPao.active=!1))))},__decorate([a(n.LQBulletEmitter)],t.prototype,"left_arms",void 0),__decorate([a({tooltip:"\u70ae\u95f4\u9694\u65f6\u95f4"})],t.prototype,"left_arms_times_over",void 0),__decorate([a({tooltip:"\u70ae\u5f00\u706b\u65f6\u95f4"})],t.prototype,"left_arms_fire_times_over",void 0),__decorate([a({tooltip:"\u6b66\u5668\u7684\u89d2\u5ea6\u504f\u79fb"})],t.prototype,"arms_degree",void 0),__decorate([a({tooltip:"\u9ed8\u8ba4\u662f\u5426\u76f4\u63a5\u5f00\u706b"})],t.prototype,"isFire",void 0),__decorate([a({tooltip:"\u662f\u5426\u5224\u65ad\u76ee\u6807\u5927\u4e8e\u81ea\u8eab\u5750\u6807\u4e0d\u5f00\u706b"})],t.prototype,"isFire_y",void 0),__decorate([a(cc.Node)],t.prototype,"kaiPao",void 0),__decorate([s],t)}(cc.Component);i.default=r,cc._RF.pop()},{"../../../../lq_bullet_system/lq_bullet_emitter":"lq_bullet_emitter"}],award_AI:[function(e,t,i){"use strict";cc._RF.push(t,"a70a1uMVCZLrqrCsokL4VKy","award_AI"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.think_time=.03,t.attack_R=200,t.ispet=!1,t.now_time=null,t.agent=null,t.target=null,t}return __extends(t,e),t.prototype.start=function(){this.now_time=this.think_time,this.agent=this.getComponent("award_agent"),this.target=this.node.parent.parent.getChildByName("player_root")},t.prototype.do_AI=function(){if(null!==this.target){var e=this.node.getPosition(),t=this.target.getPosition(),i=t.sub(e).mag();this.ispet?i<=this.attack_R?this.agent.stop_walk(t):this.agent.walk_to(t):i<=this.attack_R&&this.agent.walk_to(t)}},t.prototype.update=function(e){this.now_time+=e,this.now_time>=this.think_time&&(this.do_AI(),this.now_time=0)},__decorate([s({tooltip:"\u53cd\u5e94\u65f6\u95f4"})],t.prototype,"think_time",void 0),__decorate([s({tooltip:"\u5438\u6536\u8303\u56f4"})],t.prototype,"attack_R",void 0),__decorate([s({tooltip:"\u662f\u4e0d\u662f\u5ba0\u7269"})],t.prototype,"ispet",void 0),__decorate([o],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],award_agent:[function(e,t,i){"use strict";cc._RF.push(t,"0f1d8K72K1Gm6QIjWchdKuX","award_agent"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=500,t.is_walking=!1,t.walk_time=0,t.vx=0,t.vy=0,t.passed_time=0,t.dir=cc.v2(0,0),t}return __extends(t,e),t.prototype.start=function(){this.is_walking=!1},t.prototype.stop_walk=function(){this.is_walking=!1},t.prototype.walk_to=function(e){var t=this.node.getPosition();this.dir=e.sub(t);var i=this.dir.mag();i<=0||(this.walk_time=i/this.speed,this.vx=this.speed*this.dir.x/i,this.vy=this.speed*this.dir.y/i,this.passed_time=0,this.is_walking=!0)},t.prototype.update=function(e){!1!==this.is_walking&&(this.passed_time+=e,this.passed_time>this.walk_time&&(e-=this.passed_time-this.walk_time),this.node.x+=this.vx*e,this.node.y+=this.vy*e,this.passed_time>=this.walk_time&&(this.is_walking=!1))},__decorate([s({tooltip:"\u901f\u5ea6"})],t.prototype,"speed",void 0),__decorate([o],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],award_ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"92becDP0JtCOL2ArIllnKRi","award_ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=90,t.node_speed=0,t}return __extends(t,e),t.prototype.start=function(){this.node_speed=this.speed+Math.random()*this.speed},t.prototype.onCollisionEnter=function(){this.node.destroy()},t.prototype.update=function(e){this.node.y=this.node.y-this.node_speed*e,this.node.y<=-654&&this.node.destroy()},__decorate([s({tooltip:"\u901f\u5ea6"})],t.prototype,"speed",void 0),__decorate([o],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],ball_ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"6ae2fQEqDZOu7SwXwYgLCwi","ball_ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("./joystick"),o=cc._decorator,s=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stick=null,t.speed=200,t.camera=null,t.offset=cc.v2(0,0),t.body=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.body=this.getComponent(cc.RigidBody)},t.prototype.start=function(){null!==this.camera&&(this.offset=this.camera.getPosition().sub(this.node.getPosition()))},t.prototype.update=function(){if(null!==this.camera&&(this.camera.x=this.node.x+this.offset.x,this.camera.y=this.node.y+this.offset.y),0!==this.stick.dir.x||0!==this.stick.dir.y){var e=this.speed*this.stick.dir.x,t=this.speed*this.stick.dir.y;this.body.linearVelocity=cc.v2(e,t)}else this.body.linearVelocity=cc.v2(0,0)},__decorate([a(n.default)],t.prototype,"stick",void 0),__decorate([a],t.prototype,"speed",void 0),__decorate([a(cc.Node)],t.prototype,"camera",void 0),__decorate([s],t)}(cc.Component);i.default=r,cc._RF.pop()},{"./joystick":"joystick"}],boss1_Ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"64832dFcFFAYJpRo7KNtRC9","boss1_Ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("../../../Managers/EventMgr"),o=e("../../../../lq_bullet_system/lq_bullet_emitter"),s=e("../../../Managers/SoundMgr"),a=e("../../UserData"),r=cc._decorator,l=r.ccclass,c=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=0,t.score=0,t.bullet_emitter_arr=null,t.hp=0,t.fire_num_hp=90,t.arms1=null,t.arms2=null,t.isFire=!1,t.isDie=!1,t.node_speed=0,t.hpR=null,t.start_hp=0,t.arms1_ts=null,t.arms2_ts=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(){this.hp+=100*a.default.Instance.userData.nowLevel,this.start_hp=this.hp,this.hpR=this.node.getChildByName("hp").getChildByName("hpR"),this.node_speed=this.speed+Math.random()*this.speed,null!=this.arms1&&(this.arms1_ts=this.arms1.getComponent("arms_Ctrl")),null!=this.arms2&&(this.arms2_ts=this.arms2.getComponent("arms_Ctrl")),null!=this.bullet_emitter_arr?this.isFire=!0:this.isFire=!1,this.isFire&&this.bullet_emitter_arr.pause_system()},t.prototype.start=function(){var e=this;this.init(),this.node.getComponent("lq_collide").on_collide=function(t){if("player"!=t.node.group&&"shield"!=t.node.group&&"player"!=t.node.group&&"shield"!=t.node.group){var i=t.getComponent("Collision_bullet").bulletPower;i?e.hit(i):e.hit(1)}}},t.prototype.hit=function(e){this.isDie||(this.hp-=e,this.hpR&&(this.hpR.scaleX=this.hp/this.start_hp),this.hp<=0&&(this.isDie=!0,this.die()))},t.prototype.endPlay=function(){n.default.Instance.dispatch_event("destroyBoss",this.node)},t.prototype.die=function(){this.node.removeComponent("lq_collide"),this.node.destroyAllChildren(),s.default.Instance.play_effect("enemy_blowup"),n.default.Instance.dispatch_event("getScore",this.score),cc.sys.platform===cc.sys.WECHAT_GAME?wx.vibrateShort({type:"light"}):window.tt&&tt.vibrateLong({success:function(){},fail:function(){}});var e=this.node.getComponent("FrameAnim");e?e.playOnce(this.endPlay,this):n.default.Instance.dispatch_event("destroyBoss",this.node)},t.prototype.update=function(e){this.isDie||(this.node.y=this.node.y-this.node_speed*e,this.node.y<=300&&(this.node.y=300),this.hp/this.start_hp*100<=this.fire_num_hp&&(null!=this.arms1_ts&&(this.arms1_ts.isFire=!0),null!=this.arms2_ts&&(this.arms2_ts.isFire=!0)),this.isFire&&this.node.y<=500&&this.isFire&&this.bullet_emitter_arr.start_system())},__decorate([c({tooltip:"\u901f\u5ea6"})],t.prototype,"speed",void 0),__decorate([c({tooltip:"\u6253\u7206\u540e\u5206\u6570"})],t.prototype,"score",void 0),__decorate([c(o.LQBulletEmitter)],t.prototype,"bullet_emitter_arr",void 0),__decorate([c({tooltip:"\u751f\u547d\u503c"})],t.prototype,"hp",void 0),__decorate([c({tooltip:"\u5269\u4e0b\u591a\u5c11\u8840\u5f00\u706b"})],t.prototype,"fire_num_hp",void 0),__decorate([c(cc.Node)],t.prototype,"arms1",void 0),__decorate([c(cc.Node)],t.prototype,"arms2",void 0),__decorate([l],t)}(cc.Component);i.default=u,cc._RF.pop()},{"../../../../lq_bullet_system/lq_bullet_emitter":"lq_bullet_emitter","../../../Managers/EventMgr":"EventMgr","../../../Managers/SoundMgr":"SoundMgr","../../UserData":"UserData"}],boss2_Ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"b2908V1eDFM9bil6jI3cKGT","boss2_Ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("../../../Managers/EventMgr"),o=e("../../../../lq_bullet_system/lq_bullet_emitter"),s=e("../../../Managers/SoundMgr"),a=e("../../UserData"),r=cc._decorator,l=r.ccclass,c=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=0,t.score=0,t.bullet_emitter_arr=null,t.hp=0,t.isFire=!1,t.isDie=!1,t.node_speed=0,t.hpR=null,t.start_hp=0,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(){this.hp+=100*a.default.Instance.userData.nowLevel,this.start_hp=this.hp,this.hpR=this.node.getChildByName("hp").getChildByName("hpR"),this.node_speed=this.speed+Math.random()*this.speed,null!=this.bullet_emitter_arr?this.isFire=!0:this.isFire=!1,this.isFire&&this.bullet_emitter_arr.pause_system()},t.prototype.start=function(){this.init()},t.prototype.hit=function(e){this.isDie||(this.hp-=e,this.hpR&&(this.hpR.scaleX=this.hp/this.start_hp),this.hp<=0&&(this.isDie=!0,this.die()))},t.prototype.endPlay=function(){n.default.Instance.dispatch_event("destroyBoss",this.node)},t.prototype.die=function(){this.node.getComponent(cc.PolygonCollider).enabled=!1,this.node.destroyAllChildren(),s.default.Instance.play_effect("enemy_blowup"),n.default.Instance.dispatch_event("getScore",this.score);var e=this.node.getComponent("FrameAnim");e?e.playOnce(this.endPlay,this):n.default.Instance.dispatch_event("destroyBoss",this.node)},t.prototype.onCollisionEnter=function(e){if("player"!=e.node.group&&"shield"!=e.node.group){var t=e.getComponent("Collision_bullet").bulletPower;console.log("\u8c01\u6253\u7684\u6211\uff1f\uff1a"+e.name+"\u5b50\u5f39\u5a01\u529b\uff1a"+t),t?this.hit(t):this.hit(1)}},t.prototype.update=function(e){this.isDie||(this.node.y=this.node.y-this.node_speed*e,this.node.y<=300&&(this.node.y=300),this.isFire&&this.node.y<=500&&this.isFire&&this.bullet_emitter_arr.start_system())},__decorate([c({tooltip:"\u901f\u5ea6"})],t.prototype,"speed",void 0),__decorate([c({tooltip:"\u6253\u7206\u540e\u5206\u6570"})],t.prototype,"score",void 0),__decorate([c(o.LQBulletEmitter)],t.prototype,"bullet_emitter_arr",void 0),__decorate([c({tooltip:"\u751f\u547d\u503c"})],t.prototype,"hp",void 0),__decorate([l],t)}(cc.Component);i.default=u,cc._RF.pop()},{"../../../../lq_bullet_system/lq_bullet_emitter":"lq_bullet_emitter","../../../Managers/EventMgr":"EventMgr","../../../Managers/SoundMgr":"SoundMgr","../../UserData":"UserData"}],box1_ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"d0ea0cNyMRGJ7UCQkucSGUZ","box1_ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("../../../Managers/EventMgr"),o=cc._decorator,s=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=90,t.node_speed=0,t}return __extends(t,e),t.prototype.start=function(){var e=this;this.node_speed=this.speed+Math.random()*this.speed,this.node.getComponent("lq_collide").on_collide=function(){n.default.Instance.dispatch_event("destroyBox",e.node)}},t.prototype.update=function(e){this.node.y=this.node.y-this.node_speed*e,this.node.y<=-654&&n.default.Instance.dispatch_event("destroyBox",this.node)},__decorate([a({tooltip:"\u901f\u5ea6"})],t.prototype,"speed",void 0),__decorate([s],t)}(cc.Component);i.default=r,cc._RF.pop()},{"../../../Managers/EventMgr":"EventMgr"}],enemy1_Ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"c4a5646vqlIvIgSAi9P+s87","enemy1_Ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("../../../Managers/EventMgr"),o=e("../../../../lq_bullet_system/lq_bullet_emitter"),s=e("../../../Managers/SoundMgr"),a=e("../../UserData"),r=cc._decorator,l=r.ccclass,c=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=0,t.score=0,t.bullet_emitter=null,t.hp=1,t.isShip=!1,t.amount=10,t.isOnlyONe=!1,t.type=1,t.pos_enemy=cc.v2(0,0),t.stop_por=0,t.isReward=!0,t.isAttack_speed=!0,t.isHp_v=!0,t.sound="enemy_blowup",t.drawBack=!0,t.isFire=!1,t.isDie=!1,t.node_speed=0,t.attack_speed=0,t.lqCollide=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.isAttack_speed&&(this.attack_speed=.05*a.default.Instance.userData.nowLevel),this.isHp_v&&(this.hp+=2*a.default.Instance.userData.nowLevel)},t.prototype.defaultPos=function(){this.pos_enemy.x=420*Math.random()-200,this.pos_enemy.y=600+200*Math.random(),this.node.setPosition(this.pos_enemy)},t.prototype.reward=function(){n.default.Instance.dispatch_event("createEnemyGold",this.node.getPosition())},t.prototype.init=function(){switch(this.type){case 1:this.isShip?0==this.pos_enemy.x&&0==this.pos_enemy.y?(this.pos_enemy.x=0,this.pos_enemy.y=600+200*Math.random(),this.node.setPosition(this.pos_enemy)):this.node.setPosition(this.pos_enemy):0==this.pos_enemy.x&&0==this.pos_enemy.y?this.defaultPos():this.node.setPosition(this.pos_enemy),this.node_speed=this.speed+Math.random()*this.speed;break;case 2:0==this.pos_enemy.x&&0==this.pos_enemy.y?this.defaultPos():(Math.random()>.5&&(this.pos_enemy.x=-this.pos_enemy.x),this.node.setPosition(this.pos_enemy))}if(null!=this.bullet_emitter?this.isFire=!0:this.isFire=!1,this.isFire&&(this.bullet_emitter.pause_system(),this.isAttack_speed)){var e=this.bullet_emitter.interval_min-=this.attack_speed;e<=1?(this.bullet_emitter.interval_min=1,this.bullet_emitter.interval_max=1):(this.bullet_emitter.interval_min=e,this.bullet_emitter.interval_max=e)}},t.prototype.start=function(){var e=this;this.init(),this.lqCollide=this.node.getComponent("lq_collide"),this.lqCollide.on_collide=function(t){if("player"!=t.node.group&&"shield"!=t.node.group){var i=t.getComponent("Collision_bullet").bulletPower;i?e.hit(i):e.hit(1)}}},t.prototype.hit=function(e){this.isDie||(this.drawBack&&(this.node.y+=5),this.hp-=e,this.hp<=0&&(this.isDie=!0,this.die()))},t.prototype.endPlay=function(){n.default.Instance.dispatch_event("destroyEmemy",this.node)},t.prototype.die=function(){this.lqCollide.disable_collide(),this.node.destroyAllChildren(),this.isOnlyONe&&n.default.Instance.dispatch_event("stopUpPlane",!1),s.default.Instance.play_effect(this.sound),n.default.Instance.dispatch_event("getScore",this.score);var e=this.node.getComponent("FrameAnim");e&&e.playOnce(this.endPlay,this),this.isReward&&this.reward()},t.prototype.update=function(e){this.isDie||(this.isFire&&this.node.y<=500&&this.bullet_emitter.start_system(),1==this.type&&(this.node.y=this.node.y-this.node_speed*e,0!=this.stop_por&&this.node.y<=this.stop_por&&(this.node.y=this.stop_por)),this.node.y<=-654&&this.destroy_node())},t.prototype.destroy_node=function(){this.node.destroyAllChildren(),n.default.Instance.dispatch_event("destroyEmemy",this.node)},__decorate([c({tooltip:"\u4e0b\u843d\u901f\u5ea6",displayName:"\u901f\u5ea6"})],t.prototype,"speed",void 0),__decorate([c({tooltip:"\u6253\u7206\u540e\u5206\u6570",displayName:"\u5206\u6570"})],t.prototype,"score",void 0),__decorate([c(o.LQBulletEmitter)],t.prototype,"bullet_emitter",void 0),__decorate([c({tooltip:"\u654c\u673a\u7684\u751f\u547d\u503c",displayName:"\u751f\u547d"})],t.prototype,"hp",void 0),__decorate([c({tooltip:"\u5982\u679c\u4e3atrue\u53ea\u8d70\u5730\u56fe\u4e2d\u95f4\u533a\u57df\u3002",displayName:"\u662f\u4e0d\u662f\u8239\u7c7b"})],t.prototype,"isShip",void 0),__decorate([c({tooltip:"\u5141\u8bb8\u51fa\u73b0\u7684\u4e2a\u6570,\u5982\u679c\u662f1\u5c31\u6c38\u8fdc\u53ea\u52371\u4e2a,\u5176\u4ed6\u6570\u91cf\u968f\u5173\u5361\u9012\u589e",displayName:"\u6700\u5927\u6570\u91cf"})],t.prototype,"amount",void 0),__decorate([c({tooltip:"\u5982\u679c\u4e3atrue\u5c06\u505c\u6b62\u5237\u654c\u673a",displayName:"\u662f\u5426\u552f\u4e00"})],t.prototype,"isOnlyONe",void 0),__decorate([c({tooltip:"\u586b\u5199\u6570\u5b57\uff0c1\u4e3a\u4ece\u4e0a\u5230\u4e0b\u975e\uff0c2\u4f4d\u671d\u73a9\u5bb6\u65b9\u5411\u98de\u3002",displayName:"\u654c\u673a\u7c7b\u578b"})],t.prototype,"type",void 0),__decorate([c({tooltip:"\u521b\u5efa\u540e\u8d77\u59cb\u4f4d\u7f6e",displayName:"\u8d77\u59cb\u4f4d\u7f6e"})],t.prototype,"pos_enemy",void 0),__decorate([c({tooltip:"\u8d70\u5230\u4e00\u5b9a\u4f4d\u7f6e\u662f\u5426\u505c\u4e0b\u6765",displayName:"\u505c\u6b62\u4f4d\u7f6e"})],t.prototype,"stop_por",void 0),__decorate([c({tooltip:"\u662f\u5426\u6389\u4e86\u7269\u54c1",displayName:"\u6389\u4e86\u7269\u54c1"})],t.prototype,"isReward",void 0),__decorate([c({tooltip:"\u53d1\u5c04\u5b50\u5f39\u901f\u5ea6\u662f\u5426\u53d7\u5230\u5173\u5361\u5f71\u54cd",displayName:"\u901f\u5ea6\u589e\u52a0"})],t.prototype,"isAttack_speed",void 0),__decorate([c({tooltip:"\u8840\u91cf\u662f\u5426\u53d7\u5230\u5173\u5361\u5f71\u54cd",displayName:"\u8840\u91cf\u589e\u52a0"})],t.prototype,"isHp_v",void 0),__decorate([c({tooltip:"\u654c\u673a\u7206\u70b8\u540e\u7684\u97f3\u6548",displayName:"\u97f3\u6548"})],t.prototype,"sound",void 0),__decorate([c({tooltip:"\u51fb\u4e2d\u662f\u5426\u6709\u56de\u5f39\u6548\u679c",displayName:"\u56de\u5f39"})],t.prototype,"drawBack",void 0),__decorate([l],t)}(cc.Component);i.default=u,cc._RF.pop()},{"../../../../lq_bullet_system/lq_bullet_emitter":"lq_bullet_emitter","../../../Managers/EventMgr":"EventMgr","../../../Managers/SoundMgr":"SoundMgr","../../UserData":"UserData"}],enemy4:[function(e,t,i){"use strict";cc._RF.push(t,"627f8Ow891J1JEsskVqXlh1","enemy4"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("../../../Managers/EventMgr"),o=e("../../../../lq_bullet_system/lq_bullet_emitter"),s=e("../../../Managers/SoundMgr"),a=cc._decorator,r=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.score=0,t.bullet_emitter_arr=null,t.hp=0,t.pos_enemy=cc.v2(0,0),t.amount=10,t.isFire=!1,t.isDie=!1,t.start_fire=!1,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(){0==this.pos_enemy.x&&0==this.pos_enemy.y?(this.pos_enemy.x=420*Math.random()-200,this.pos_enemy.y=600+200*Math.random(),this.node.setPosition(this.pos_enemy)):(Math.random()>.5?(this.pos_enemy.x=-this.pos_enemy.x,console.log("\u5de6\u8fb9\u5750\u6807")):console.log("\u53f3\u8fb9\u5750\u6807"),this.node.setPosition(this.pos_enemy)),null!=this.bullet_emitter_arr?this.isFire=!0:this.isFire=!1,this.isFire&&(console.log("\u6211\u662f\u643a\u5e26\u6b66\u5668\u7684\u98de\u673a"),this.bullet_emitter_arr.pause_system())},t.prototype.start=function(){this.init()},t.prototype.hit=function(e){this.isDie||(this.node.y+=5,this.hp-=e,this.hp<=0&&(this.isDie=!0,this.die()))},t.prototype.endPlay=function(){n.default.Instance.dispatch_event("destroyEmemy",this.node)},t.prototype.die=function(){this.node.getComponent(cc.PolygonCollider).enabled=!1,this.node.destroyAllChildren(),s.default.Instance.play_effect("enemy_blowup"),n.default.Instance.dispatch_event("getScore",this.score);var e=this.node.getComponent("FrameAnim");e&&e.playOnce(this.endPlay)},t.prototype.onCollisionEnter=function(e){if("player"!=e.node.group&&"shield"!=e.node.group){var t=e.getComponent("Collision_bullet").bulletPower;console.log("\u8c01\u6253\u7684\u6211\uff1f\uff1a"+e.name+"\u5b50\u5f39\u5a01\u529b\uff1a"+t),t?this.hit(t):this.hit(1)}},t.prototype.update=function(){this.isDie||(this.isFire&&this.start_fire&&this.bullet_emitter_arr.start_system(),this.node.y<=-654&&(this.node.destroyAllChildren(),n.default.Instance.dispatch_event("destroyEmemy",this.node)))},__decorate([l({tooltip:"\u6253\u7206\u540e\u5206\u6570"})],t.prototype,"score",void 0),__decorate([l(o.LQBulletEmitter)],t.prototype,"bullet_emitter_arr",void 0),__decorate([l({tooltip:"\u751f\u547d\u503c"})],t.prototype,"hp",void 0),__decorate([l({tooltip:"\u8d77\u59cb\u4f4d\u7f6e"})],t.prototype,"pos_enemy",void 0),__decorate([l({tooltip:"\u5141\u8bb8\u51fa\u73b0\u7684\u4e2a\u6570"})],t.prototype,"amount",void 0),__decorate([r],t)}(cc.Component);i.default=c,cc._RF.pop()},{"../../../../lq_bullet_system/lq_bullet_emitter":"lq_bullet_emitter","../../../Managers/EventMgr":"EventMgr","../../../Managers/SoundMgr":"SoundMgr"}],enemyCollision_Ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"5005eX2g+RPV7Ml/l5XdNv0","enemyCollision_Ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=e("../../UserData"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletPower=1,t.amin_ts=null,t.selfSprite=null,t.sprite=null,t.selfScale=1,t}return __extends(t,e),t.prototype.start=function(){var e=this;this.amin_ts=this.node.getComponent("FrameAnim"),this.bulletPower+=a.default.Instance.userData.nowLevel,this.selfScale=this.node.scale,this.sprite=this.node.getComponent(cc.Sprite),this.sprite&&(this.selfSprite=this.sprite.spriteFrame);var t=this.node.getComponent("lq_collide");t.on_collide=function(){if(t.disable_collide(),e.amin_ts)e.amin_ts.playOnce(e.endPlay,e);else{var i=e.node.getComponent("lq_bullet");i?i.destroy_bullet():e.node.destroy()}}},t.prototype.destroyBullet=function(){var e=this.node.getComponent("lq_bullet");e?e.destroy_bullet():this.node.destroy()},t.prototype.endPlay=function(){this.sprite.spriteFrame=this.selfSprite,this.node.scale=this.selfScale,this.destroyBullet()},t.prototype.update=function(){this.node.x>420||this.node.x<-420?this.node.destroy():(this.node.y>700||this.node.y<-700)&&this.node.destroy()},__decorate([s({tooltip:"\u5b50\u5f39\u4f24\u5bb3"})],t.prototype,"bulletPower",void 0),__decorate([o],t)}(cc.Component);i.default=r,cc._RF.pop()},{"../../UserData":"UserData"}],enemy_AI:[function(e,t,i){"use strict";cc._RF.push(t,"59eee2uGBVOPpiIsCt3Rnzq","enemy_AI"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.think_time=.03,t.attack_R=500,t.now_time=null,t.agent=null,t.target=null,t}return __extends(t,e),t.prototype.start=function(){this.now_time=this.think_time,this.agent=this.getComponent("nav_agent"),this.target=this.node.parent.parent.getChildByName("player_root")},t.prototype.do_AI=function(){if(null!==this.target){var e=this.node.getPosition(),t=this.target.getPosition();t.sub(e).mag()<=this.attack_R?this.agent.stop_walk(t):this.agent.walk_to(t)}},t.prototype.update=function(e){this.now_time+=e,this.now_time>=this.think_time&&(this.do_AI(),this.now_time=0)},__decorate([s({tooltip:"\u53cd\u5e94\u65f6\u95f4"})],t.prototype,"think_time",void 0),__decorate([s({tooltip:"\u653b\u51fb\u8303\u56f4"})],t.prototype,"attack_R",void 0),__decorate([o],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],hedan_Ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"c144fk8ZM9I5awvZrsPMxv5","hedan_Ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.nodeDestroy=function(){this.node.destroy()},t.prototype.start=function(){var e=this.node.getComponent("FrameAnim");e&&e.playOnce(this.nodeDestroy,this)},__decorate([o],t)}(cc.Component));i.default=s,cc._RF.pop()},{}],itemLevel:[function(e,t,i){"use strict";cc._RF.push(t,"384e6R2TGVIEYvJ63WCWnP8","itemLevel"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("./GameApp"),o=e("./UserData"),s=cc._decorator,a=s.ccclass,r=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.level_label=null,t.node_btn=null,t.node_sp=null,t.num_level=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(e){this.num_level=e,this.level_label.getComponent(cc.Label).string=this.num_level},t.prototype.canPlay=function(e){e?(this.node_btn.active=!0,this.node_sp.active=!1):(this.node_btn.active=!1,this.node_sp.active=!0)},t.prototype.btn_callBack=function(){o.default.Instance.userData.nowLevel=this.num_level,o.default.Instance.saveUserData(),n.default.Instance.enterGameScene()},t.prototype.start=function(){},__decorate([r(cc.Label)],t.prototype,"level_label",void 0),__decorate([r(cc.Node)],t.prototype,"node_btn",void 0),__decorate([r(cc.Node)],t.prototype,"node_sp",void 0),__decorate([a],t)}(cc.Component);i.default=l,cc._RF.pop()},{"./GameApp":"GameApp","./UserData":"UserData"}],joystick:[function(e,t,i){"use strict";cc._RF.push(t,"61c8cyG3yhEx5/ZWSeOhErY","joystick"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stick=null,t.max_R=80,t.min_R=20,t.dir=cc.v2(0,0),t}return __extends(t,e),t.prototype.onLoad=function(){this.stick.setPosition(cc.v2(0,0)),this.stick.on(cc.Node.EventType.TOUCH_MOVE,this.on_stick_move,this),this.stick.on(cc.Node.EventType.TOUCH_END,function(){this.on_stick_end()},this),this.stick.on(cc.Node.EventType.TOUCH_CANCEL,function(){this.on_stick_end()},this)},t.prototype.on_stick_move=function(e){var t=e.getLocation(),i=this.node.convertToNodeSpaceAR(t),n=i.mag();n<=this.min_R?this.stick.setPosition(i):(this.dir.x=i.x/n,this.dir.y=i.y/n,n>this.max_R&&(i.x=i.x*this.max_R/n,i.y=i.y*this.max_R/n),this.stick.setPosition(i))},t.prototype.on_stick_end=function(){this.dir=cc.v2(0,0),this.stick.setPosition(cc.v2(0,0))},t.prototype.start=function(){},__decorate([s(cc.Node)],t.prototype,"stick",void 0),__decorate([s],t.prototype,"max_R",void 0),__decorate([s],t.prototype,"min_R",void 0),__decorate([o],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],lq_base_util:[function(e,t,i){"use strict";cc._RF.push(t,"11819O2ykRNT4R5Si/9WRW4","lq_base_util"),Object.defineProperty(i,"__esModule",{value:!0}),i.LQBaseUtil=void 0;var n=e("./lq_platform_util"),o=e("../data/lq_const"),s=cc.view,a=function(){function e(){}return e.has_value=function(e,t){for(var i=!1,n=0;n<e.length;n++)if(e[n]===t){i=!0;break}return i},e.get_value_by_duration=function(e,t){if(0===t.length)return 1;for(var i=-1,n=1;n<t.length;n++)if(t[n].x>e){i=n;break}if(-1===i)return t[t.length-1].y;var o=i-1;return t[o].y+(t[i].y-t[o].y)*((e-t[o].x)/(t[i].x-t[o].x))},e.number_to_counting=function(e){return e<1e3?e+"":e<1e6?Math.floor(e/1e3)+"K":e<1e9?Math.floor(e/1e6)+"M":e<1e12?Math.floor(e/1e9)+"B":Math.floor(e/1e12)+"T"},e.number_to_time=function(e){var t=Math.floor(e/3600);e-=3600*t;var i=t.toString(),n=Math.floor(e/60).toString(),o=(e%60).toString();return 1===i.length&&(i="0"+i),1===n.length&&(n="0"+n),1===o.length&&(o="0"+o),[i,n,o]},e.set_normal_angle=function(e){for(;e>360;)e-=360;for(;e<0;)e+=360;return e},e.compare_version=function(e,t){for(var i=e.split("."),n=t.split("."),o=Math.max(i.length,n.length);i.length<o;)i.push("0");for(;n.length<o;)n.push("0");for(var s=0;s<o;s++){var a=parseInt(i[s]),r=parseInt(n[s]);if(a>r)return 1;if(a<r)return-1}return 0},e.is_today=function(e){var t,i=new Date;return e&&""!==e?t=new Date(e):(t=new Date).setDate(t.getDate()-1),i.getFullYear()===t.getFullYear()&&i.getMonth()===t.getMonth()&&i.getDate()===t.getDate()},e.is_safe_area=function(){var e=function(e,t){return 2280===e&&1080===t||1792===e&&828===t||2436===e&&1125===t||2688===e&&1242===t};switch(n.LQPlatformUtil.get_platform()){case o.LQPlatformType.baidu:var t=swan.getSystemInfoSync();return e(t.pixelRatio*t.screenWidth,t.pixelRatio*t.screenHeight);case o.LQPlatformType.qq:var i=qq.getSystemInfoSync();return e(i.pixelRatio*i.screenWidth,i.pixelRatio*i.screenHeight);case o.LQPlatformType.tt:var a=tt.getSystemInfoSync();return e(a.pixelRatio*a.screenWidth,a.pixelRatio*a.screenHeight);case o.LQPlatformType.oppo:case o.LQPlatformType.vivo:var r=qg.getSystemInfoSync();return e(r.pixelRatio*r.screenWidth,r.pixelRatio*r.screenHeight);case o.LQPlatformType.wx:var l=wx.getSystemInfoSync();return e(l.pixelRatio*l.screenWidth,l.pixelRatio*l.screenHeight);case o.LQPlatformType.android:break;case o.LQPlatformType.ios:var c=s.getFrameSize();return e(c.width,c.height)}return!1},e.deep_clone=function(e){if("object"!=typeof e)return e;var t=e instanceof Array?[]:{};for(var i in e)"object"==typeof e[i]?t[i]=this.deep_clone(e[i]):t[i]=e[i];return t},e}();i.LQBaseUtil=a,cc._RF.pop()},{"../data/lq_const":"lq_const","./lq_platform_util":"lq_platform_util"}],lq_bullet_config:[function(e,t,i){"use strict";cc._RF.push(t,"e1f80Ge6lhGJITl9RWEfsIN","lq_bullet_config"),Object.defineProperty(i,"__esModule",{value:!0}),i.LQBulletConfig=void 0;var n=function(){function e(){}return e.bullet_parent_path="Canvas/GameUI/buttle_root",e.switch_auto_run=!0,e.move_speed_ratio=1,e.emitter_speed_ratio=1,e}();i.LQBulletConfig=n,cc._RF.pop()},{}],lq_bullet_emitter:[function(e,t,i){"use strict";cc._RF.push(t,"f01d9aOQEtPtI2DlpSDcr8I","lq_bullet_emitter"),Object.defineProperty(i,"__esModule",{value:!0}),i.LQBulletEmitter=void 0;var n=cc._decorator.ccclass,o=cc._decorator.property,s=cc._decorator.playOnFocus,a=cc._decorator.executeInEditMode,r=cc._decorator.menu,l=e("../lq_base/data/lq_const"),c=e("../lq_base/util/lq_math_util"),u=e("./lq_bullet_system"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._edit_in_system=!0,t._loop=!0,t._prefab=void 0,t._delay_min=0,t._delay_max=0,t._duration_min=3,t._duration_max=3,t._interval_min=1,t._interval_max=1,t._count_min=1,t._count_max=1,t.origin_angle_min=0,t.origin_angle_max=0,t.switch_reset_angle=!1,t._change_angle_min=30,t._change_angle_max=30,t.off_x_min=0,t.off_x_max=0,t.off_y_min=0,t.off_y_max=0,t.related_owner_position=!0,t.switch_gravity=!1,t.gravity=cc.v2(0,-10),t.prefab_bullet_arr=[],t.prefab_emitter=void 0,t.is_enable=!0,t.edit_update=!1,t.emitter_speed_ratio=1,t.status=l.LQBulletEmitterStatus.Idle,t.auto_create=!0,t}return __extends(t,e),Object.defineProperty(t.prototype,"edit_in_system",{get:function(){return this._edit_in_system},set:function(e){this._edit_in_system=e,e?(this.status=l.LQBulletEmitterStatus.Idle,this.prefab):this.status=l.LQBulletEmitterStatus.End},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},set:function(e){this._loop=e,e&&this.status===l.LQBulletEmitterStatus.End&&(this.status=l.LQBulletEmitterStatus.Idle)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prefab",{get:function(){return this._prefab},set:function(e){this._prefab=e,e&&(this.is_new_prefab=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"delay_min",{get:function(){return this._delay_min},set:function(e){this._delay_min=e,this.delay=c.LQMathUtil.random(this._delay_min,this._delay_max)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"delay_max",{get:function(){return this._delay_max},set:function(e){this._delay_max=e,this.delay=c.LQMathUtil.random(this._delay_min,this._delay_max)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration_min",{get:function(){return this._duration_min},set:function(e){this._duration_min=e,this.duration=c.LQMathUtil.random(this._duration_min,this._delay_max),-1===this.duration&&(this.duration=Number.MAX_SAFE_INTEGER)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration_max",{get:function(){return this._duration_max},set:function(e){this._duration_max=e,this.duration=c.LQMathUtil.random(this._duration_min,this._delay_max),-1===this.duration&&(this.duration=Number.MAX_SAFE_INTEGER)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interval_min",{get:function(){return this._interval_min},set:function(e){this._interval_min=e,this.interval=c.LQMathUtil.random(this._interval_min,this._interval_max)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interval_max",{get:function(){return this._interval_max},set:function(e){this._interval_max=e,this.interval=c.LQMathUtil.random(this._interval_min,this._interval_max)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count_min",{get:function(){return this._count_min},set:function(e){this._count_min=e,this.count=c.LQMathUtil.random_int(this._count_min,this._count_max)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count_max",{get:function(){return this._count_max},set:function(e){this._count_max=e,this.count=c.LQMathUtil.random_int(this._count_min,this._count_max)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"change_angle_min",{get:function(){return this._change_angle_min},set:function(e){this._change_angle_min=e,this.angle_total=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"change_angle_max",{get:function(){return this._change_angle_max},set:function(e){this._change_angle_max=e,this.angle_total=0},enumerable:!1,configurable:!0}),t.prototype.clone=function(e){e.loop=this._loop,e.prefab=this._prefab,e.delay_min=this._delay_min,e.delay_max=this._delay_max,e.duration_min=this._duration_min,e.duration_max=this._duration_max,e.interval_min=this._interval_min,e.interval_max=this._interval_max,e.count_min=this._count_min,e.count_max=this._count_max,e.origin_angle_min=this.origin_angle_min,e.origin_angle_max=this.origin_angle_max,e.switch_reset_angle=this.switch_reset_angle,e.change_angle_min=this._change_angle_min,e.change_angle_max=this._change_angle_max,e.off_x_min=this.off_x_min,e.off_x_max=this.off_x_max,e.off_y_min=this.off_y_min,e.off_y_max=this.off_y_max,e.switch_gravity=this.switch_gravity,e.gravity.x=this.gravity.x,e.gravity.y=this.gravity.y,e.auto_create=this.auto_create,e.auto_destroy=this.auto_destroy},t.prototype.start=function(){u.LQBulletSystem.init_emitter(this),this.auto_create&&u.LQBulletSystem.create_emitter(this)},t.prototype.update=function(){},t.prototype.resetInEditor=function(){this.edit_update=!0},t.prototype.onFocusInEditor=function(){this.edit_update=!0},t.prototype.onLostFocusInEditor=function(){this.edit_update=!1;for(var e=this.node.children.length-1;e>=0;e--){var t=this.node.children[e];"_bullet_"===t.name&&t.destroy()}},t.prototype.pause_system=function(){this.is_enable=!1},t.prototype.start_system=function(){this.is_enable=!0},t.prototype.reset_system=function(){this.is_enable=!0,this.status=l.LQBulletEmitterStatus.Idle},t.prototype.on_bullet_create=function(){},__decorate([o({displayName:"\u9884\u89c8"})],t.prototype,"edit_in_system",null),__decorate([o],t.prototype,"_edit_in_system",void 0),__decorate([o({displayName:"\u5faa\u73af\u53d1\u5c04"})],t.prototype,"loop",null),__decorate([o],t.prototype,"_loop",void 0),__decorate([o({type:cc.Prefab,displayName:"\u5b50\u5f39\u8f7d\u4f53"})],t.prototype,"prefab",null),__decorate([o],t.prototype,"_prefab",void 0),__decorate([o({displayName:"\u5ef6\u8fdf\u65f6\u95f4\u6700\u5c0f\u503c",min:0})],t.prototype,"delay_min",null),__decorate([o({displayName:"\u5ef6\u8fdf\u65f6\u95f4\u6700\u5927\u503c",min:0})],t.prototype,"delay_max",null),__decorate([o],t.prototype,"_delay_min",void 0),__decorate([o],t.prototype,"_delay_max",void 0),__decorate([o({displayName:"\u6301\u7eed\u65f6\u95f4\u6700\u5c0f\u503c",min:-1})],t.prototype,"duration_min",null),__decorate([o({displayName:"\u6301\u7eed\u65f6\u95f4\u6700\u5927\u503c",min:-1})],t.prototype,"duration_max",null),__decorate([o],t.prototype,"_duration_min",void 0),__decorate([o],t.prototype,"_duration_max",void 0),__decorate([o({displayName:"\u95f4\u9694\u65f6\u95f4\u6700\u5c0f\u503c",min:0})],t.prototype,"interval_min",null),__decorate([o({displayName:"\u95f4\u9694\u65f6\u95f4\u6700\u5927\u503c",min:0})],t.prototype,"interval_max",null),__decorate([o],t.prototype,"_interval_min",void 0),__decorate([o],t.prototype,"_interval_max",void 0),__decorate([o({displayName:"\u6bcf\u6b21\u53d1\u5c04\u6570\u91cf\u6700\u5c0f\u503c",min:1})],t.prototype,"count_min",null),__decorate([o({displayName:"\u6bcf\u6b21\u53d1\u5c04\u6570\u91cf\u6700\u5927\u503c",min:1})],t.prototype,"count_max",null),__decorate([o],t.prototype,"_count_min",void 0),__decorate([o],t.prototype,"_count_max",void 0),__decorate([o({displayName:"\u521d\u59cb\u89d2\u5ea6\u6700\u5c0f\u503c"})],t.prototype,"origin_angle_min",void 0),__decorate([o({displayName:"\u521d\u59cb\u89d2\u5ea6\u6700\u5927\u503c"})],t.prototype,"origin_angle_max",void 0),__decorate([o({displayName:"\u662f\u5426\u91cd\u7f6e\u89d2\u5ea6"})],t.prototype,"switch_reset_angle",void 0),__decorate([o({displayName:"\u53d8\u5316\u89d2\u5ea6\u6700\u5c0f\u503c"})],t.prototype,"change_angle_min",null),__decorate([o({displayName:"\u53d8\u5316\u89d2\u5ea6\u6700\u5927\u503c"})],t.prototype,"change_angle_max",null),__decorate([o],t.prototype,"_change_angle_min",void 0),__decorate([o],t.prototype,"_change_angle_max",void 0),__decorate([o({displayName:"x\u4f4d\u7f6e\u504f\u79fb\u6700\u5c0f\u503c"})],t.prototype,"off_x_min",void 0),__decorate([o({displayName:"x\u4f4d\u7f6e\u504f\u79fb\u6700\u5927\u503c"})],t.prototype,"off_x_max",void 0),__decorate([o({displayName:"y\u4f4d\u7f6e\u504f\u79fb\u6700\u5c0f\u503c"})],t.prototype,"off_y_min",void 0),__decorate([o({displayName:"y\u4f4d\u7f6e\u504f\u79fb\u6700\u5927\u503c"})],t.prototype,"off_y_max",void 0),__decorate([o({displayName:"\u662f\u5426\u5173\u8054\u81ea\u8eab\u7684\u5750\u6807"})],t.prototype,"related_owner_position",void 0),__decorate([o({displayName:"\u662f\u5426\u5f00\u542f\u91cd\u529b\u573a"})],t.prototype,"switch_gravity",void 0),__decorate([o({displayName:"\u91cd\u529b\u573a",visible:function(){return this.switch_gravity}})],t.prototype,"gravity",void 0),__decorate([n,a,s,r("lq/emitter")],t)}(cc.Component);i.LQBulletEmitter=h,cc._RF.pop()},{"../lq_base/data/lq_const":"lq_const","../lq_base/util/lq_math_util":"lq_math_util","./lq_bullet_system":"lq_bullet_system"}],lq_bullet_system:[function(e,t,i){"use strict";cc._RF.push(t,"95fd9rWAONEK7Y7viq3vs7+","lq_bullet_system"),i.__esModule=!0,i.LQBulletSystem=i.Curves=void 0;var n=e("./lq_bullet"),o=e("../lq_collide_system/lq_collide_system"),s=e("./lq_bullet_emitter"),a=e("./lq_bullet_config"),r=e("../lq_base/data/lq_const"),l=e("../lq_base/util/lq_math_util"),c=e("../lq_base/util/lq_pool_util"),u=e("../lq_base/util/lq_base_util"),h=e("../lq_base/util/lq_game_util"),_=cc.Vec2,d=function(){var e={bFzHq:"5|6|0|4|3|1|2",IHTHA:"6|7|4|1|11|2|8|3|0|12|5|9|10|13",EYemw:function(e,t){return e===t},MTpgQ:function(e,t){return e<t},CytWR:function(e,t){return e>t},cfLqz:function(e,t){return e<t},wRRpz:function(e,t){return e-t},caCdm:function(e,t){return e>t},zuGpc:function(e,t){return e<=t},lJhKv:function(e,t){return e>=t},dqDcS:function(e,t){return e-t},lQSEz:"2|5|0|3|6|1|4",aLZYX:function(e,t){return e-t},Rmhmz:function(e,t){return e-t},zrPPo:function(e,t){return e/t}};function t(){for(var t=e.bFzHq.split("|"),i=0;;){switch(t[i++]){case"0":case"1":this.types=[];continue;case"2":this._cachedIndex=0;continue;case"3":this.values=[];continue;case"4":case"5":this.ratios=[];continue;case"6":this.values=[];continue}break}}return t.prototype.sample=function(t,i){for(var n=e.IHTHA.split("|"),o=0;;){switch(n[o++]){case"0":i.last_pos.x=i.pos.x;continue;case"1":if(e.EYemw(a,0))return;continue;case"2":var s=this._cachedIndex;continue;case"3":b&&(this._cachedIndex=this._findFrameIndex(c,t));continue;case"4":var a=c.length;continue;case"5":var r;continue;case"6":var l=this.values;continue;case"7":var c=this.ratios;continue;case"8":if(e.MTpgQ(s,0)&&(s=~s,e.CytWR(s,0)&&e.cfLqz(s,c.length))){var u=c[e.wRRpz(s,1)],h=c[s];e.caCdm(t,u)&&e.cfLqz(t,h)&&(b=!1)}continue;case"9":var _=this._cachedIndex;continue;case"10":if(e.cfLqz(_,0))if(_=~_,e.zuGpc(_,0))r=l[0];else if(e.lJhKv(_,a))r=l[e.wRRpz(a,1)];else{var d=l[e.dqDcS(_,1)];if(this._lerp)for(var p=e.lQSEz.split("|"),f=0;;){switch(p[f++]){case"0":var m=this.types[e.aLZYX(_,1)];continue;case"1":var y=l[_];continue;case"2":u=c[e.Rmhmz(_,1)];continue;case"3":var v=e.zrPPo(e.Rmhmz(t,u),e.Rmhmz(h,u));continue;case"4":r=this._lerp(d,y,v);continue;case"5":h=c[_];continue;case"6":m&&(v=g.computeRatioByType(v,m));continue}break}else r=d}else r=l[_];continue;case"11":var b=!0;continue;case"12":i.last_pos.y=i.pos.y;continue;case"13":i.pos=r;continue}break}},t.Linear=void 0,t}(),p=function(){var e={UzfZp:function(e,t){return e-t},krsIT:"2|7|1|3|4|8|5|0|6",HjBco:function(e,t){return e<=t},KVXqV:"4|1|3|5|0|2",IooGO:function(e,t){return e-t},AypHa:function(e,t){return e/t},ZDpiY:function(e,t){return e===t},bCeZm:function(e,t){return e+t},OpQki:function(e,t){return e-t},EUcRW:function(e,t){return e+t},jnGLd:function(e,t){return e*t},RAkMC:function(e,t){return e*t},VXrzb:function(e,t){return e*t},TDxTg:function(e,t){return e*t},PWyIO:function(e,t){return e*t},MhwRw:function(e,t,i,n,o,s){return e(t,i,n,o,s)},ZyIBy:"7|6|10|13|3|4|9|0|2|8|12|1|5|11",qOedj:function(e,t){return e===t},gZrMs:function(e,t){return e/t},edUtz:function(e,t){return e-t},bovVc:function(e,t){return e<=t},yZqOh:function(e,t){return e/t},GuVUt:function(e,t){return e-t},fQtYg:function(e,t){return e<t},mxktr:function(e,t){return e+t},sxBkN:function(e,t){return e>t},VRIdJ:function(e,t){return e-t},mPJri:function(e,t){return e-t},GjCce:function(e,t){return e-t}};function t(){}return t.prototype.getLength=function(){var t=this.getLengths(void 0);return t[e.UzfZp(t.length,1)]},t.prototype.getLengths=function(t){for(var i=e.krsIT.split("|"),n=0;;){switch(i[n++]){case"0":this.cacheArcLengths=o;continue;case"1":var o=[];continue;case"2":t||(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200);continue;case"3":var s,a=this.getPoint(0),r=cc.v2();continue;case"4":var l,c=0;continue;case"5":for(l=1;e.HjBco(l,t);l++)for(var u=e.KVXqV.split("|"),h=0;;){switch(u[h++]){case"0":o.push(c);continue;case"1":r.x=e.UzfZp(a.x,s.x);continue;case"2":a=s;continue;case"3":r.y=e.IooGO(a.y,s.y);continue;case"4":s=this.getPoint(e.AypHa(l,t));continue;case"5":c+=r.mag();continue}break}continue;case"6":return o;case"7":if(this.cacheArcLengths&&e.ZDpiY(this.cacheArcLengths.length,e.bCeZm(t,1)))return this.cacheArcLengths;continue;case"8":o.push(0);continue}break}},t.prototype.getPoint=function(t){var i=function(t,i,n,o,s){var a=e.OpQki(1,s);return e.EUcRW(e.jnGLd(a,e.EUcRW(e.jnGLd(a,e.EUcRW(t,e.RAkMC(e.OpQki(e.RAkMC(i,3),t),s))),e.VXrzb(e.VXrzb(e.TDxTg(n,3),s),s))),e.TDxTg(e.TDxTg(e.PWyIO(o,s),s),s))},n=e.MhwRw(i,this.start.x,this.startCtrlPoint.x,this.endCtrlPoint.x,this.end.x,t),o=e.MhwRw(i,this.start.y,this.startCtrlPoint.y,this.endCtrlPoint.y,this.end.y,t);return cc.v2(n,o)},t.prototype.getPointAt=function(e){var t=this.getUtoTmapping(e,void 0);return this.getPoint(t)},t.prototype.getUtoTmapping=function(t,i){for(var n=e.ZyIBy.split("|"),o=0;;){switch(n[o++]){case"0":if(e.qOedj(d[h],f))return e.gZrMs(h,e.OpQki(_,1));continue;case"1":var s=e.gZrMs(e.edUtz(f,a),g);continue;case"2":var a=d[h];continue;case"3":var r,l=0,c=e.edUtz(_,1);continue;case"4":for(;e.bovVc(l,c);)if(h=Math.floor(e.EUcRW(l,e.yZqOh(e.edUtz(c,l),2))),r=e.GuVUt(d[h],f),e.fQtYg(r,0))l=e.mxktr(h,1);else{if(!e.sxBkN(r,0)){c=h;break}c=e.GuVUt(h,1)}continue;case"5":var u=e.yZqOh(e.mxktr(h,s),e.VRIdJ(_,1));continue;case"6":var h=0,_=d.length;continue;case"7":var d=this.getLengths(void 0);continue;case"8":var p=d[e.mxktr(h,1)];continue;case"9":h=c;continue;case"10":var f;continue;case"11":return u;case"12":var g=e.mPJri(p,a);continue;case"13":f=i||e.PWyIO(t,d[e.GjCce(_,1)]);continue}break}},t}(),f=function(){var e={MgKWp:"4|3|2|0|1|5",PoWKJ:"5|6|3|0|8|1|7|2|4",kTger:function(e,t){return e<t},NOdBY:"7|5|4|2|3|0|8|1|6",XIIhj:function(e,t){return e-t},prdyi:function(e,t){return e<t},bXTSc:function(e,t){return e/t},aPUTb:function(e,t){return e+t}};function t(t){for(var i=e.MgKWp.split("|"),n=0;;){switch(i[n++]){case"0":this.progresses=[];continue;case"1":this.length=0;continue;case"2":this.ratios=[];continue;case"3":this.beziers=[];continue;case"4":this.points=t||[];continue;case"5":this.computeBeziers();continue}break}}return t.prototype.computeBeziers=function(){for(var t=e.PoWKJ.split("|"),i=0;;){switch(t[i++]){case"0":this.length=0;continue;case"1":for(var n=1;e.kTger(n,this.points.length);n++)for(var o=e.NOdBY.split("|"),s=0;;){switch(o[s++]){case"0":c.end=a.pos;continue;case"1":this.beziers.push(c);continue;case"2":c.start=r.pos;continue;case"3":c.startCtrlPoint=r.out;continue;case"4":c=new p;continue;case"5":var a=this.points[n];continue;case"6":this.length+=c.getLength();continue;case"7":var r=this.points[e.XIIhj(n,1)];continue;case"8":c.endCtrlPoint=a.in;continue}break}continue;case"2":for(n=0;e.prdyi(n,this.beziers.length);n++)c=this.beziers[n],this.ratios[n]=e.bXTSc(c.getLength(),this.length),this.progresses[n]=l=e.aPUTb(l,this.ratios[n]);continue;case"3":this.progresses.length=0;continue;case"4":return this.beziers;case"5":this.beziers.length=0;continue;case"6":this.ratios.length=0;continue;case"7":var l=0;continue;case"8":var c;continue}break}},t}(),g=function(){var e={bqmyt:"2|5|7|6|9|10|4|0|1|3|8",rpeOG:"\u53ea\u652f\u6301\u4f4d\u79fb",CaHBq:function(e,t){return e===t},PllGw:function(e,t){return e-t},yHjIE:function(e,t){return e>>>t},yTXsd:function(e,t){return e<=t},SNZrz:function(e,t){return e>>>t},whaLh:function(e,t){return e+t},cNiXi:function(e,t){return e>t},aRyvg:function(e,t){return e+t},ylUYh:function(e,t){return e<t},osQcz:function(e,t){return e-t},kWgfJ:function(e,t){return e+t},juhfq:"6|0|1|2|8|9|11|7|10|5|3|4",bwKvt:function(e,t){return e===t},LhFfE:function(e,t){return e<t},AOuih:function(e,t){return e+t},Jonml:function(e,t){return e+t},NyyUx:function(e,t){return e|t},Kpuhp:function(e,t){return e-t},fRJCu:function(e,t){return e/t},lCSXO:function(e,t){return e>t},OdUli:function(e,t){return e/t},CGzUK:function(e,t){return e/t},HyWqv:function(e,t){return e-t},cREcV:function(e,t){return e/t},BeUlR:"5|0|6|7|1|2|4|8|3",ZqISN:function(e,t){return e*t},cxgTO:function(e,t){return e*t},HbsEs:"1|4|3|0|2",bmHEA:function(e,t){return e*t},bENtK:function(e,t){return e*t},wLCfm:function(e,t){return e*t},AaJPo:function(e,t){return e*t},vJjDD:function(e,t){return e*t},DvWVn:function(e,t){return e*t},pZXyr:function(e,t){return e*t},nasfQ:function(e,t){return e*t},AmFwT:function(e,t){return e<=t},zssmf:function(e,t){return e<=t},IvagU:function(e,t){return e<=t},ZdUbt:function(e,t){return e<=t},GzHhY:function(e,t){return e<=t},TXOeu:function(e,t){return e<=t},tmfwm:function(e,t){return e-t},bUkbw:function(e,t){return e*t},JtJKJ:function(e,t){return e*t},oDQCx:function(e,t){return e*t},kRdzl:function(e,t){return e<t},qIALr:function(e,t){return e-t},RIxAl:function(e,t){return e*t},HoksQ:function(e,t){return e<=t},STlaU:function(e,t){return e<=t},hcSHg:"4|3|2|0|1",KftIU:function(e,t){return e-t},nEAig:function(e,t){return e+t},XGLwN:function(e,t){return e-t},zBneD:function(e,t){return e-t},VXNvC:function(e,t){return e+t},GChOk:function(e,t){return e*t},EttXh:function(e,t){return e-t},luYsB:function(e,t){return e*t},kObGL:function(e,t){return e*t},rvfnu:function(e,t){return e*t},HSjxk:function(e,t){return e*t},qCxWE:function(e,t){return e*t},GPJyp:function(e,t){return e/t},ISSMw:function(e,t){return e+t},hzcmT:function(e,t){return e-t},BFvIl:function(e,t){return e*t},IurgP:function(e,t){return e/t},yGJhq:function(e,t){return e+t},OTsqy:function(e,t){return e*t},EtCFA:function(e,t){return e+t},MhrfX:function(e,t){return e+t},mcAee:function(e,t){return e-t},jDtoY:"string",JVBQP:function(e,t){return e(t)},YWljy:function(e,t){return e+t},GWSCu:function(e,t){return e-t},FlREo:function(e,t){return e<t},UmcUS:function(e,t){return e/t},XhgVt:function(e,t){return e===t},YjAxU:function(e,t){return e===t},cWyfy:function(e,t){return e===t},jmCzY:function(e,t){return e<t},eIUPD:function(e,t){return e-t},KcsVO:function(e,t){return e===t},DMkDK:function(e,t){return e>t},GZKjt:function(e,t){return e-t},YDPHu:function(e,t){return e!==t},rpuLD:function(e,t){return e!==t},NcBMc:"number",nGZKm:function(e,t){return e instanceof t},PaFRx:function(e,t){return e instanceof t},gRSGr:function(e,t){return e instanceof t},wRsZi:function(e,t){return e instanceof t},ROgXU:function(e,t){return e===t},WQlqj:function(e,t){return e===t},SmOCm:function(e,t){return e===t},IKUYs:function(e,t){return e-t},AgQtp:"8|9|5|11|7|2|10|3|1|0|4|14|6|12|13",kdOEn:function(e,t){return e/t},ygpeE:function(e,t){return e*t},kZiuv:function(e,t){return e*t},jtaDq:function(e,t){return e/t},qxHKJ:function(e,t){return e+t},BSlza:function(e,t){return e===t},rXQKn:"constant",huHIa:function(e,t){return e<t},McBxO:function(e,t){return e+t},DbdDQ:function(e,t,i,n){return e(t,i,n)},tdCku:function(e,t){return e>t},utaub:function(e,t){return e*t},sNzWD:function(e,t){return e-t},CmXBo:"3|1|0|5|2|4|7|6",OSjOp:function(e,t){return e<t},Qwwxc:function(e,t){return e(t)},hiKWC:function(e,t){return e(t)},ZSThH:function(e,t){return e-t},prGhV:"1|4|0|2|5|3",jCKhc:function(e,t){return e*t},hGUfl:function(e,t){return e>t},voHuG:function(e,t){return e-t},rpHtP:"3|0|4|2|1",FPdTJ:function(e,t){return e<t},JxzQG:function(e,t){return e/t},DxKBs:function(e,t){return e>t},xQGWs:function(e,t){return e-t},lcEfJ:function(e,t){return e>t},dlFnd:function(e,t){return e-t},jJSyO:function(e,t){return e!==t},oajKg:function(e,t){return e-t},dhtmw:function(e,t,i,n){return e(t,i,n)}};function t(t){for(var i=e.bqmyt.split("|"),n=0;;){switch(i[n++]){case"0":this.curve=this.createPropCurve(t.curveData.props.position);continue;case"1":this.original_pos=this.curve.values[0];continue;case"2":if(!t.curveData.props||!t.curveData.props.position)return void console.warn(e.rpeOG);continue;case"3":this.pos=this.original_pos;continue;case"4":this.time=0;continue;case"5":this.is_end=!1;continue;case"6":this.speed=t.speed;continue;case"7":this.duration=t.duration;continue;case"8":this.last_pos=new _;continue;case"9":this.sample=t.sample;continue;case"10":e.CaHBq(t.wrapMode,2)?this.repeatCount=Number.MAX_SAFE_INTEGER:this.repeatCount=1;continue}break}}return t.binarySearch=function(i,n){for(var o=0,s=e.PllGw(i.length,1),a=e.yHjIE(s,1);e.yTXsd(o,s);a=e.SNZrz(e.whaLh(o,s),1)){var r=i[a];if(e.cNiXi(r,e.aRyvg(n,t.EPSILON)))s=e.PllGw(a,1);else{if(!e.ylUYh(r,e.osQcz(n,t.EPSILON)))return a;o=e.kWgfJ(a,1)}}return~o},t.quickFindIndex=function(i,n){for(var o=e.juhfq.split("|"),s=0;;){switch(o[s++]){case"0":if(e.bwKvt(l,0))return 0;continue;case"1":var a=i[0];continue;case"2":if(e.ylUYh(n,a))return 0;continue;case"3":if(e.LhFfE(e.osQcz(h,r),t.EPSILON))return r;if(e.LhFfE(e.osQcz(e.kWgfJ(r,1),h),t.EPSILON))return e.AOuih(r,1);continue;case"4":return~e.Jonml(r,1);case"5":var r=e.NyyUx(h,0);continue;case"6":var l=e.Kpuhp(i.length,1);continue;case"7":var c=e.fRJCu(1,l);continue;case"8":var u=i[l];continue;case"9":if(e.lCSXO(n,u))return~i.length;continue;case"10":var h=e.OdUli(n,c);continue;case"11":n=e.CGzUK(e.Kpuhp(n,a),e.HyWqv(u,a));continue}break}},t.crt=function(t){return e.LhFfE(t,0)?-Math.pow(-t,e.CGzUK(1,3)):Math.pow(t,e.cREcV(1,3))},t.cardano=function(t,i){for(var n=e.BeUlR.split("|"),o=0;;){switch(n[o++]){case"0":var s=e.HyWqv(i,t[0]);continue;case"1":var a=e.ZqISN(C,3);continue;case"2":var r=e.cxgTO(s,3);continue;case"3":if(e.LhFfE(Q,0))for(var l=e.HbsEs.split("|"),c=0;;){switch(l[c++]){case"0":P=e.HyWqv(e.cxgTO(m,Math.cos(e.bmHEA(e.Jonml(f,e.bENtK(e.wLCfm(2,Math.PI),2)),q))),B);continue;case"1":var u=e.AaJPo(-N,q),h=e.vJjDD(e.DvWVn(u,u),u),_=Math.sqrt(h),d=e.cREcV(-E,e.pZXyr(2,_)),p=e.LhFfE(d,-1)?-1:e.lCSXO(d,1)?1:d,f=Math.acos(p),g=this.crt(_),m=e.nasfQ(2,g);continue;case"2":return e.yTXsd(0,M)&&e.AmFwT(M,1)?e.zssmf(0,S)&&e.zssmf(S,1)?e.IvagU(0,P)&&e.ZdUbt(P,1)?Math.max(M,S,P):Math.max(M,S):e.GzHhY(0,P)&&e.GzHhY(P,1)?Math.max(M,P):M:e.TXOeu(0,S)&&e.TXOeu(S,1)?e.TXOeu(0,P)&&e.TXOeu(P,1)?Math.max(S,P):S:P;case"3":S=e.tmfwm(e.nasfQ(m,Math.cos(e.nasfQ(e.Jonml(f,e.bUkbw(Math.PI,2)),q))),B);continue;case"4":M=e.tmfwm(e.JtJKJ(m,Math.cos(e.oDQCx(f,q))),B);continue}break}else{if(e.bwKvt(Q,0))return L=e.kRdzl(O,0)?this.crt(-O):-this.crt(O),M=e.qIALr(e.RIxAl(2,L),B),S=e.qIALr(-L,B),e.HoksQ(0,M)&&e.STlaU(M,1)?e.STlaU(0,S)&&e.STlaU(S,1)?Math.max(M,S):M:S;for(var y=e.hcSHg.split("|"),v=0;;){switch(y[v++]){case"0":M=e.qIALr(e.KftIU(L,x),B);continue;case"1":return M;case"2":x=this.crt(e.nEAig(O,b));continue;case"3":L=this.crt(e.nEAig(-O,b));continue;case"4":var b=Math.sqrt(Q);continue}break}}continue;case"4":var w=e.RIxAl(I,3);continue;case"5":var C=e.XGLwN(i,0);continue;case"6":var I=e.XGLwN(i,t[2]);continue;case"7":var k=e.zBneD(i,1);continue;case"8":var L,x,M,S,P,R=e.VXNvC(e.zBneD(e.VXNvC(-C,r),w),k),D=e.cREcV(1,R),q=e.cREcV(1,3),A=e.GChOk(e.VXNvC(e.EttXh(a,e.luYsB(6,s)),w),D),B=e.kObGL(A,q),T=e.kObGL(e.VXNvC(-a,r),D),F=e.kObGL(C,D),N=e.rvfnu(e.EttXh(e.rvfnu(3,T),e.HSjxk(A,A)),q),U=e.qCxWE(N,q),E=e.GPJyp(e.ISSMw(e.hzcmT(e.BFvIl(e.BFvIl(e.BFvIl(2,A),A),A),e.BFvIl(e.BFvIl(9,A),T)),e.BFvIl(27,F)),27),O=e.IurgP(E,2),Q=e.yGJhq(e.BFvIl(O,O),e.BFvIl(e.OTsqy(U,U),U));continue}break}},t.bezierByTime=function(t,i){var n=this.cardano(t,i),o=t[1],s=t[3];return e.OTsqy(e.EtCFA(e.OTsqy(e.OTsqy(e.hzcmT(1,n),e.MhrfX(o,e.OTsqy(e.mcAee(s,o),n))),3),e.OTsqy(n,n)),n)},t.computeRatioByType=function(t,i){if(e.bwKvt(typeof i,e.jDtoY)){var n=cc.easing[i];n?t=e.JVBQP(n,t):console.error(i)}else Array.isArray(i)&&(t=this.bezierByTime(i,t));return t},t.prototype.update=function(t){this.is_end||(this.time+=e.OTsqy(t,this.speed),e.lCSXO(this.time,this.duration)&&(this.time-=this.duration,this.repeatCount--),e.STlaU(this.repeatCount,0)?this.is_end=!0:this.curve.sample(e.IurgP(this.time,this.duration),this))},t.prototype.createPropCurve=function(i){for(var n=[],o=new d,s=0,a=i.length;e.FlREo(s,a);s++){var r=i[s],l=e.UmcUS(r.frame,this.duration);o.ratios.push(l),n.push(r.motionPath);var c=r.value;o.values.push(c);var u=r.curve;if(u){if(e.XhgVt(typeof u,e.jDtoY)){o.types.push(u);continue}if(Array.isArray(u)){e.YjAxU(u[0],u[1])&&e.cWyfy(u[2],u[3])?o.types.push(d.Linear):o.types.push(u);continue}}o.types.push(d.Linear)}this.sampleMotionPaths(n,o,this.duration,this.sample);var h,_,p=o.ratios,f=!0;for(s=1,a=p.length;e.jmCzY(s,a);s++)if(h=e.eIUPD(p[s],p[e.eIUPD(s,1)]),e.KcsVO(s,1))_=h;else if(e.DMkDK(Math.abs(e.GZKjt(h,_)),t.EPSILON)){f=!1;break}o._findFrameIndex=f?t.quickFindIndex:t.binarySearch;var g=o.values[0];if(e.YDPHu(g,void 0)&&e.rpuLD(g,null)&&!o._lerp)if(e.KcsVO(typeof g,e.NcBMc))o._lerp=function(t,i,n){return e.YWljy(t,e.OTsqy(e.GWSCu(i,t),n))};else if(e.nGZKm(g,cc.Quat)){var m=cc.quat();o._lerp=function(e,t,i){return e.lerp(t,i,m)}}else if(e.PaFRx(g,cc.Vec2)){var y=cc.v2();o._lerp=function(e,t,i){return e.lerp(t,i,y)}}else if(e.gRSGr(g,cc.Vec3)){var v=cc.v3();o._lerp=function(e,t,i){return e.lerp(t,i,v)}}else g.lerp&&(o._lerp=function(e,t,i){return e.lerp(t,i)});return o},t.prototype.sampleMotionPaths=function(i,n,o,s){function a(t){return e.wRsZi(t,cc.Vec2)?{in:t,pos:t,out:t}:Array.isArray(t)&&e.ROgXU(t.length,6)?{in:cc.v2(t[2],t[3]),pos:cc.v2(t[0],t[1]),out:cc.v2(t[4],t[5])}:{in:cc.Vec2.ZERO,pos:cc.Vec2.ZERO,out:cc.Vec2.ZERO}}var r=n.values=n.values.map(function(t){return Array.isArray(t)&&(t=e.WQlqj(t.length,2)?cc.v2(t[0],t[1]):cc.v3(t[0],t[1],t[2])),t});if(!e.WQlqj(i.length,0)&&!e.SmOCm(r.length,0)){for(var l=!1,c=0;e.jmCzY(c,i.length);c++)if((P=i[c])&&!this.checkMotionPath(P)&&(P=void 0),P&&e.DMkDK(P.length,0)){l=!0;break}if(l&&!e.SmOCm(r.length,1)){for(var u=n.types,h=n.ratios,_=n.values=[],p=n.types=[],g=n.ratios=[],m=0,y=d.Linear,v=(c=0,i.length);e.jmCzY(c,e.IKUYs(v,1));c++)for(var b=e.AgQtp.split("|"),w=0;;){switch(b[w++]){case"0":var C=e.kdOEn(1,e.ygpeE(e.kZiuv(q,o),s));continue;case"1":var I=e.jtaDq(m,q);continue;case"2":var k=r[e.qxHKJ(c,1)];continue;case"3":var L=[];continue;case"4":var x=void 0;continue;case"5":var M=h[e.qxHKJ(c,1)];continue;case"6":y=e.BSlza(D,e.rXQKn)?D:d.Linear;continue;case"7":var S=r[c];continue;case"8":var P=i[c];continue;case"9":var R=h[c];continue;case"10":var D=u[c];continue;case"11":var q=e.IKUYs(M,R);continue;case"12":for(var A=0,B=L.length;e.huHIa(A,B);A++){var T=e.qxHKJ(e.McBxO(R,m),e.kZiuv(e.kZiuv(C,A),q));e.DbdDQ(Z,L[A],y,T)}continue;case"13":m=e.tdCku(Math.abs(e.IKUYs(I,1)),t.EPSILON)?e.utaub(e.sNzWD(I,1),q):0;continue;case"14":if(P&&e.tdCku(P.length,0))for(var F=e.CmXBo.split("|"),N=0;;){switch(F[N++]){case"0":for(A=0,B=P.length;e.OSjOp(A,B);A++){var U=e.Qwwxc(a,P[A]);O.push(U)}continue;case"1":O.push(e.hiKWC(a,S));continue;case"2":var E=new f(O);continue;case"3":var O=[];continue;case"4":E.computeBeziers();continue;case"5":O.push(e.hiKWC(a,k));continue;case"6":for(;e.tdCku(e.ZSThH(1,I),t.EPSILON);)for(var Q=e.prGhV.split("|"),G=0;;){switch(Q[G++]){case"0":var j=void 0,V=void 0,z=void 0,H=void 0;continue;case"1":x=I;continue;case"2":if(e.OSjOp(x,0))V=E.beziers[0],H=e.jCKhc(e.ZSThH(0,x),V.getLength()),z=V.start.sub(V.endCtrlPoint).normalize(),j=V.start.add(z.mul(H));else if(e.hGUfl(x,1))V=E.beziers[e.ZSThH(E.beziers.length,1)],H=e.jCKhc(e.voHuG(x,1),V.getLength()),z=V.end.sub(V.startCtrlPoint).normalize(),j=V.end.add(z.mul(H));else for(var J=e.rpHtP.split("|"),W=0;;){switch(J[W++]){case"0":e.FPdTJ(K,0)&&(K=~K);continue;case"1":j=E.beziers[K].getPointAt(x);continue;case"2":x=e.JxzQG(x,E.ratios[K]);continue;case"3":var K=t.binarySearch(X,x);continue;case"4":x-=e.DxKBs(K,0)?X[e.xQGWs(K,1)]:0;continue}break}continue;case"3":I+=C;continue;case"4":x=t.computeRatioByType(x,D);continue;case"5":L.push(j);continue}break}continue;case"7":var X=E.progresses;continue}break}else for(;e.lcEfJ(e.dlFnd(1,I),t.EPSILON);)x=I,x=t.computeRatioByType(x,D),L.push(S.lerp(k,x)),I+=C;continue}break}e.jJSyO(h[e.oajKg(h.length,1)],g[e.oajKg(g.length,1)])&&e.dhtmw(Z,r[e.oajKg(r.length,1)],y,h[e.oajKg(h.length,1)])}}function Z(e,t,i){_.push(e),p.push(t),g.push(i)}},t.prototype.checkMotionPath=function(t){if(!Array.isArray(t))return!1;for(var i=0,n=t.length;e.FPdTJ(i,n);i++){var o=t[i];if(!Array.isArray(o)||e.jJSyO(o.length,6))return!1}return!0},t.EPSILON=1e-6,t}();i.Curves=g;var m=function(){var e={ceDRK:function(e,t){return e-t},GDSoY:function(e,t){return e>=t},yOzXh:function(e,t){return e===t},UAGAH:function(e,t){return e*t},rEXYB:function(e,t){return e>t},OQgAf:function(e,t){return e<=t},RnjMJ:function(e,t){return e*t},fdFSu:function(e,t){return e*t},nTtKz:function(e,t){return e>t},OoKyW:function(e,t){return e<t},XvZMl:"6|5|3|4|1|0|2",LflAk:function(e,t){return e===t},ICIPt:function(e,t){return e>=t},SICoc:function(e,t){return e>t},EDTmc:function(e,t){return e+t},wQgAf:function(e,t){return e-t},UEshQ:function(e,t){return e!==t},oxLZc:function(e,t){return e*t},HpfwA:function(e,t){return e*t},dKvVp:function(e,t){return e/t},KtCIr:function(e,t){return e*t},bFLXY:function(e,t){return e-t},AtYvw:function(e,t){return e-t},EPoSz:function(e,t){return e<t},JauyH:function(e,t){return e>t},VJsnP:function(e,t){return e+t},HJrrg:"\u6ca1\u6709\u627e\u5230\u5b50\u5f39\u7236\u8282\u70b9\u8bf7\u68c0\u67e5\u8def\u5f84:",xzuCt:"LQBulletConfig.bullet_parent_path\uff1a\u6ca1\u6709\u8bbe\u7f6e\u5b50\u5f39\u7236\u8282\u70b9\uff0c\u9ed8\u8ba4\u4e3a\u53d1\u5c04\u5668\u7684\u7236\u8282\u70b9",GmXfI:function(e,t){return e>t},XnKRY:function(e,t){return e>=t},xJsSc:"1|0|4|2|3|5",zwbFT:"3|2|1|4|0|5",kJRMv:function(e,t){return e<t},jTVUA:"9|5|6|0|7|2|3|4|8|1",chCXi:"4|5|0|1|2|3",ktRPa:"1|12|5|10|2|0|6|7|4|11|9|8|3",iwcIk:"2.4.0",FWOaD:"_bullet_",mQaPN:"1|7|0|6|2|4|8|3|5",odOSI:function(e,t){return e<t},JBkhw:"15|13|1|4|8|5|0|6|11|14|12|9|3|2|10|7",jHFFZ:"0|1|3|4|2",wPYSr:function(e,t){return e*t},ETrbp:function(e,t){return e===t},oJUNS:"2|4|0|1|3",StFDw:function(e,t){return e<t},fpwtJ:function(e,t){return e<t},ouqJw:"\u4e0d\u80fd\u91cd\u590d\u6dfb\u52a0\u5b50\u5f39",IZFZZ:function(e,t){return e-t},KThiO:function(e,t){return e+t},ERekZ:function(e,t){return e+t},kOZsx:"\u672a\u627e\u5230\u5220\u9664\u7684\u5b50\u5f39",sNlXD:function(e,t){return e===t}};function t(){}return t.update_logic=function(e){this.update_emitter(e),this.update_bullet(e)},t.update_emitter=function(t){if(this.is_emitter_enable)for(var i=e.ceDRK(this.bullet_emitter_arr.length,1);e.GDSoY(i,0);i--){var n=this.bullet_emitter_arr[i];n.isValid?n.is_enable&&(e.yOzXh(n.status,r.LQBulletEmitterStatus.End)?n.auto_destroy&&(n.node.destroy(),this.bullet_emitter_arr.splice(i,1)):(e.yOzXh(n.status,r.LQBulletEmitterStatus.Idle)&&this.reset_data(n),n.cur_duration+=e.UAGAH(e.UAGAH(t,a.LQBulletConfig.emitter_speed_ratio),n.emitter_speed_ratio),e.rEXYB(n.cur_duration,n.duration)?n.loop?n.status=r.LQBulletEmitterStatus.Idle:n.status=r.LQBulletEmitterStatus.End:e.OQgAf(n.delay,n.cur_duration)&&(n.cur_interval+=e.RnjMJ(e.fdFSu(t,a.LQBulletConfig.emitter_speed_ratio),n.emitter_speed_ratio),e.rEXYB(n.cur_interval,n.interval)&&(this.create_bullet_arr(n),n.cur_interval-=n.interval)))):this.bullet_emitter_arr.splice(i,1)}},t.update_bullet=function(t){if(this.is_bullet_enable)for(var i=e.ceDRK(this.bullet_arr.length,1);e.GDSoY(i,0);i--){var n=this.bullet_arr[i];if(n.isValid)if(e.nTtKz(n.cur_life,n.life))n.destroy_bullet(!0);else{if(n.follow_dt-=t,n.switch_follow_target&&e.OoKyW(n.follow_dt,0))switch(n.follow_dt=.1,n.follow_target_mode){case r.LQFollowTargetMode.Once:if(!n.set_follow_target_angle){var s=o.LQCollideSystem.find_nearest_collide(n);s&&(n.set_follow_target_angle=!0,n.radians=l.LQMathUtil.get_radians(n.world_rect,s.world_rect),n.angle=cc.misc.radiansToDegrees(n.radians),n.related_self_angle&&(n.node.angle=n.angle))}break;case r.LQFollowTargetMode.Always:case r.LQFollowTargetMode.Pass:if(n.target_collide&&n.target_collide.isValid||(n.target_collide=o.LQCollideSystem.find_nearest_collide(n)),n.target_collide)for(var c=e.XvZMl.split("|"),h=0;;){switch(c[h++]){case"0":n.related_self_angle&&(n.node.angle=n.angle);continue;case"1":n.radians=cc.misc.degreesToRadians(n.angle);continue;case"2":e.LflAk(n.follow_target_mode,r.LQFollowTargetMode.Pass)&&e.ICIPt(n.world_rect.sub(n.start_pos).magSqr(),n.target_collide.world_rect.sub(n.start_pos).magSqr())&&(n.switch_follow_target=!1);continue;case"3":e.SICoc(_,180)&&(_*=-1);continue;case"4":n.angle=e.EDTmc(e.fdFSu(e.fdFSu(_,n.follow_target_range),.001),n.angle);continue;case"5":var _=u.LQBaseUtil.set_normal_angle(e.wQgAf(cc.misc.radiansToDegrees(d),n.angle));continue;case"6":var d=l.LQMathUtil.get_radians(n.world_rect,n.target_collide.world_rect);continue}break}}var p=void 0;if(n.related_self_angle&&(n.gravity||n.is_custom_pos&&!n.curves.is_end)&&(p=n.node.position),n.gravity&&(n.cur_gravity.x+=n.gravity.x,n.cur_gravity.y+=n.gravity.y,n.node.x+=n.cur_gravity.x,n.node.y+=n.cur_gravity.y),e.UEshQ(n.speed,0)){var f=e.oxLZc(e.HpfwA(n.speed,a.LQBulletConfig.move_speed_ratio),n.move_speed_ratio);n.switch_speed_curve&&(f*=u.LQBaseUtil.get_value_by_duration(e.dKvVp(n.cur_life,n.life),n.speed_timeline)),n.node.x+=e.KtCIr(Math.cos(n.radians),f),n.node.y+=e.KtCIr(Math.sin(n.radians),f)}if(n.is_custom_pos&&!n.curves.is_end&&(n.curves.update(t),n.node.x+=e.bFLXY(n.curves.pos.x,n.curves.last_pos.x),n.node.y+=e.AtYvw(n.curves.pos.y,n.curves.last_pos.y)),p){var g=l.LQMathUtil.get_radians(p,n.node.position);n.node.angle=cc.misc.radiansToDegrees(g)}n.cur_life+=t}else this.bullet_arr.splice(i,1)}},t.create_emitter=function(t){for(var i=0;e.EPoSz(i,this.bullet_emitter_arr.length);i++)if(e.LflAk(this.bullet_emitter_arr[i],t))return;this.bullet_emitter_arr.push(t),this.bullet_parent&&this.bullet_parent.isValid||(e.JauyH(a.LQBulletConfig.bullet_parent_path.length,0)?(this.bullet_parent=cc.find(a.LQBulletConfig.bullet_parent_path),this.bullet_parent||console.warn(e.VJsnP(e.HJrrg,a.LQBulletConfig.bullet_parent_path))):console.info(e.xzuCt))},t.init_emitter=function(t){if(t.prefab&&(!t.prefab_emitter||e.GmXfI(t.prefab_bullet_arr.length,0))){var i=t.prefab.data.getComponent(s.LQBulletEmitter);i?(t.prefab_emitter=i,this.destroy_other(t.prefab_emitter.node)):(t.prefab_bullet_arr=[],this.get_prefab_info(t.prefab.data,t.prefab_bullet_arr,{angle:0,x:0,y:0}))}},t.remove_emitter=function(t){for(var i=e.AtYvw(this.bullet_emitter_arr.length,1);e.XnKRY(i,0);i--){var n=this.bullet_emitter_arr[i];if(e.LflAk(n,t))return void this.bullet_emitter_arr.splice(i,1)}},t.get_prefab_info=function(t,i,o){for(var s=e.xJsSc.split("|"),a=0;;){switch(s[a++]){case"0":o.x+=t.x;continue;case"1":o.angle+=t.angle;continue;case"2":var r=t.getComponent(n.LQBullet);continue;case"3":if(r)for(var l=e.zwbFT.split("|"),c=0;;){switch(l[c++]){case"0":i.push(u.getComponent(n.LQBullet));continue;case"1":u.x=o.x;continue;case"2":u.angle=o.angle;continue;case"3":var u=cc.instantiate(t);continue;case"4":u.y=o.y;continue;case"5":this.destroy_other(u);continue}break}continue;case"4":o.y+=t.y;continue;case"5":for(var h=0;e.kJRMv(h,t.childrenCount);h++)this.get_prefab_info(t.children[h],i,{angle:o.angle,x:o.x,y:o.y});continue}break}},t.destroy_other=function(t){for(var i=e.AtYvw(t.childrenCount,1);e.XnKRY(i,0);i--){var o=t.children[i];o.getComponent(n.LQBullet)?o.destroy():o.getComponent(s.LQBulletEmitter)&&o.destroy()}},t.reset_data=function(t){for(var i=e.jTVUA.split("|"),n=0;;){switch(i[n++]){case"0":t.duration=l.LQMathUtil.random(t.duration_min,t.duration_max);continue;case"1":e.LflAk(t.duration,-1)&&(t.duration=Number.MAX_SAFE_INTEGER);continue;case"2":t.interval=l.LQMathUtil.random(t.interval_min,t.interval_max);continue;case"3":t.delay=l.LQMathUtil.random(t.delay_min,t.delay_max);continue;case"4":t.angle_total=0;continue;case"5":t.round_index=0;continue;case"6":t.cur_duration=0;continue;case"7":t.count=l.LQMathUtil.random_int(t.count_min,t.count_max);continue;case"8":t.cur_interval=t.interval;continue;case"9":t.status=r.LQBulletEmitterStatus.Start;continue}break}},t.create_node=function(t){for(var i=e.chCXi.split("|"),o=0;;){switch(i[o++]){case"0":var a=[];continue;case"1":for(var r=0;e.kJRMv(r,t.prefab_bullet_arr.length);r++){var l=t.prefab_bullet_arr[r],u=void 0;if(l.auto_recovery)for(var h=e.ktRPa.split("|"),_=0;;){switch(h[_++]){case"0":d.speed=l.speed;continue;case"1":u=c.LQPoolUtil.get_node_from_pool(m,l.node);continue;case"2":d.life=l.life;continue;case"3":d.follow_target_range=l.follow_target_range;continue;case"4":d.speed_timeline=l.speed_timeline;continue;case"5":u.y=l.node.y;continue;case"6":d.angle=l.angle;continue;case"7":d.switch_speed_curve=l.switch_speed_curve;continue;case"8":d.follow_target_mode=l.follow_target_mode;continue;case"9":d.switch_follow_target=l.switch_follow_target;continue;case"10":var d=u.getComponent(n.LQBullet);continue;case"11":d.related_self_angle=l.related_self_angle;continue;case"12":u.x=l.node.x;continue}break}else u=cc.instantiate(l.node),m.addChild(u);a.push(u)}continue;case"2":if(t.prefab_emitter)for(var p=e.mQaPN.split("|"),f=0;;){switch(p[f++]){case"0":m.addChild(u);continue;case"1":u=cc.instantiate(t.prefab_emitter.node);continue;case"2":var g=u.getComponent(s.LQBulletEmitter);continue;case"3":g.user_data=t.user_data;continue;case"4":g.auto_destroy=!0;continue;case"5":a.push(u);continue;case"6":u._objFlags=1096;continue;case"7":continue;case"8":g.auto_create=!0;continue}break}continue;case"3":return a;case"4":var m;continue;case"5":m=this.bullet_parent||t.node.parent;continue}break}},t.set_emitter_data=function(e,t){if(t.related_owner_position){var i=e.node.parent.convertToNodeSpaceAR(t.node.convertToWorldSpaceAR(r.LQConst.VEC_ZERO));e.node.x+=i.x,e.node.y+=i.y}},t.set_bullet_data=function(t,i){for(var n=e.JBkhw.split("|"),s=0;;){switch(n[s++]){case"0":t.radians=cc.misc.degreesToRadians(t.angle);continue;case"1":t.node.y+=l.LQMathUtil.random(i.off_y_min,i.off_y_max);continue;case"2":t.switch_follow_target&&e.LflAk(t.follow_target_mode,r.LQFollowTargetMode.Pass)&&(t.start_pos=t.world_rect.pos());continue;case"3":t.related_self_angle&&(t.node.angle=t.angle,t.related_self_angle=!0);continue;case"4":t.user_data=i.user_data;continue;case"5":t.angle=u.LQBaseUtil.set_normal_angle(t.angle);continue;case"6":i.angle_total+=l.LQMathUtil.random(i.change_angle_min,i.change_angle_max);continue;case"7":t.bullet_emitter=i;continue;case"8":t.angle+=e.VJsnP(i.angle_total,l.LQMathUtil.random(i.origin_angle_min,i.origin_angle_max));continue;case"9":o.LQCollideSystem.update_world_rect(t);continue;case"10":if(t.is_custom_pos)for(var a=e.jHFFZ.split("|"),c=0;;){switch(a[c++]){case"0":var _=void 0;continue;case"1":t.flip_x||t.flip_y?(_=u.LQBaseUtil.deep_clone(t.ani_clip),h.LQGameUtil.set_clip(_,cc.v2(0,0),t.flip_x,t.flip_y)):_=t.ani_clip;continue;case"2":t.node.y+=t.curves.original_pos.y;continue;case"3":t.curves=new g(_);continue;case"4":t.node.x+=t.curves.original_pos.x;continue}break}continue;case"11":if(i.related_owner_position){var d=t.node.parent.convertToNodeSpaceAR(i.node.convertToWorldSpaceAR(r.LQConst.VEC_ZERO));t.node.x+=d.x,t.node.y+=d.y}continue;case"12":i.switch_gravity&&(t.gravity=cc.v2(e.wPYSr(i.gravity.x,.05),e.wPYSr(i.gravity.y,.05)));continue;case"13":t.node.x+=l.LQMathUtil.random(i.off_x_min,i.off_x_max);continue;case"14":e.ETrbp(t.life,-1)&&(t.life=Number.MAX_SAFE_INTEGER);continue;case"15":t.reset_data();continue}break}},t.create_bullet_arr=function(t){for(var i=e.oJUNS.split("|"),o=0;;){switch(i[o++]){case"0":var a=[];continue;case"1":for(var r=0;e.StFDw(r,t.count);r++)for(var l=this.create_node(t),c=0;e.fpwtJ(c,l.length);c++){var u=l[c],h=u.getComponent(n.LQBullet);if(h)this.set_bullet_data(h,t),this.add_bullet(h)&&(h.on_bullet_create(),a.push(h));else{var _=u.getComponent(s.LQBulletEmitter);this.set_emitter_data(_,t)}}continue;case"2":if(!t.prefab)return;continue;case"3":t.on_bullet_create(a,t.round_index++);continue;case"4":t.switch_reset_angle&&(t.angle_total=0);continue}break}},t.add_bullet=function(t){for(var i=0;e.fpwtJ(i,this.bullet_arr.length);i++)if(e.ETrbp(this.bullet_arr[i].collide_id,t.collide_id))return console.warn(e.VJsnP(e.VJsnP(t.node.name,e.ouqJw),t.collide_id)),!1;return this.bullet_arr.push(t),!0},t.remove_bullet=function(t){for(var i=!1,n=e.IZFZZ(this.bullet_arr.length,1);e.XnKRY(n,0);n--)if(e.ETrbp(this.bullet_arr[n].collide_id,t.collide_id)){i=!0,this.bullet_arr.splice(n,1);break}i||console.warn(e.KThiO(e.ERekZ(t.node.name,e.kOZsx),t.collide_id))},t.clear=function(t){if(e.sNlXD(t,void 0)&&(t=!1),t)for(var i=0;e.fpwtJ(i,this.bullet_arr.length);i++){var n=this.bullet_arr[i];n.isValid&&n.node.destroy()}this.bullet_arr=[],this.bullet_emitter_arr=[]},t.bullet_arr=[],t.bullet_emitter_arr=[],t.is_emitter_enable=!1,t.is_bullet_enable=!1,t}();i.LQBulletSystem=m;var y=function(){function e(){}return e.prototype.update=function(e){m.update_logic(e)},e}();cc.game.on(cc.game.EVENT_GAME_INITED,function(){if(a.LQBulletConfig.switch_auto_run){var e=new y;cc.director.getScheduler().enableForTarget(e),cc.director.getScheduler().scheduleUpdate(e,cc.Scheduler.PRIORITY_SYSTEM,!1)}}),cc._RF.pop()},{"../lq_base/data/lq_const":"lq_const","../lq_base/util/lq_base_util":"lq_base_util","../lq_base/util/lq_game_util":"lq_game_util","../lq_base/util/lq_math_util":"lq_math_util","../lq_base/util/lq_pool_util":"lq_pool_util","../lq_collide_system/lq_collide_system":"lq_collide_system","./lq_bullet":"lq_bullet","./lq_bullet_config":"lq_bullet_config","./lq_bullet_emitter":"lq_bullet_emitter"}],lq_bullet:[function(e,t,i){"use strict";cc._RF.push(t,"696cfyjGn9D/ZWvdoUClUj+","lq_bullet"),Object.defineProperty(i,"__esModule",{value:!0}),i.LQBullet=void 0;var n=cc._decorator.ccclass,o=cc._decorator.property,s=cc._decorator.menu,a=e("../lq_collide_system/lq_collide"),r=e("../lq_base/data/lq_const"),l=e("../lq_base/util/lq_pool_util"),c=e("./lq_bullet_system"),u=e("../lq_collide_system/lq_collide_config"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.life=3,t.speed=10,t.switch_speed_curve=!1,t._speed_timeline=[cc.v2(0,0),cc.v2(1,1)],t.angle=0,t.related_self_angle=!0,t.is_custom_pos=!1,t.ani_clip=void 0,t.flip_x=!1,t.flip_y=!1,t.switch_follow_target=!1,t.follow_target_mode=r.LQFollowTargetMode.Always,t.follow_target_range=80,t.auto_recovery=!0,t}return __extends(t,e),Object.defineProperty(t.prototype,"speed_timeline",{get:function(){return this._speed_timeline},set:function(e){for(var t=0;t<e.length;t++){var i=e[t];i.x<0&&(i.x=0),i.x>1&&(i.x=1),i.y<0&&(i.y=0),i.y>1&&(i.y=1)}e.sort(function(e,t){return e.x-t.x}),e[0].x=0,e[e.length-1].x=1,this._speed_timeline=e},enumerable:!1,configurable:!0}),t.prototype.reset_data=function(){this.is_running=!0,this.set_follow_target_angle=!1,this.target_collide=void 0,this.move_speed_ratio=1,this.cur_life=0,this.cur_gravity=cc.Vec2.ZERO,this.gravity=void 0,this.start_pos=void 0,this.curves=void 0,this.follow_dt=0,this.user_data=void 0},t.prototype.destroy_bullet=function(e,t){var i=this;if(void 0===e&&(e=!1),void 0===t&&(t=0),this.is_running){this.is_running=!1;var n=function(){i.auto_recovery?l.LQPoolUtil.push_node_to_pool(i.node):i.node.destroy()};t>0?this.scheduleOnce(function(){n()},t):n(),this.disable_collide(),c.LQBulletSystem.remove_bullet(this),this.on_bullet_destroy(e)}},t.prototype.on_bullet_create=function(){},t.prototype.on_bullet_destroy=function(e){u.LQCollideConfig.switch_print_log&&console.log(this.node.name+" on_bullet_destroy, is_life_over:"+e)},__decorate([o({displayName:"\u751f\u547d"})],t.prototype,"life",void 0),__decorate([o({displayName:"\u901f\u5ea6"})],t.prototype,"speed",void 0),__decorate([o({displayName:"\u5f00\u542f\u901f\u5ea6\u66f2\u7ebf"})],t.prototype,"switch_speed_curve",void 0),__decorate([o({displayName:"\u901f\u5ea6\u66f2\u7ebf",type:cc.Vec2,visible:function(){return this.switch_speed_curve}})],t.prototype,"speed_timeline",null),__decorate([o],t.prototype,"_speed_timeline",void 0),__decorate([o({displayName:"\u89d2\u5ea6"})],t.prototype,"angle",void 0),__decorate([o({displayName:"\u662f\u5426\u5173\u8054\u81ea\u8eab\u89d2\u5ea6"})],t.prototype,"related_self_angle",void 0),__decorate([o({displayName:"\u81ea\u5b9a\u4e49\u8def\u5f84"})],t.prototype,"is_custom_pos",void 0),__decorate([o({displayName:"\u8def\u5f84\u6587\u4ef6",visible:function(){return this.is_custom_pos},type:cc.AnimationClip})],t.prototype,"ani_clip",void 0),__decorate([o({displayName:"\u7ffb\u8f6cx",visible:function(){return this.is_custom_pos}})],t.prototype,"flip_x",void 0),__decorate([o({displayName:"\u7ffb\u8f6cy",visible:function(){return this.is_custom_pos}})],t.prototype,"flip_y",void 0),__decorate([o({displayName:"\u662f\u5426\u8ddf\u8e2a\u76ee\u6807"})],t.prototype,"switch_follow_target",void 0),__decorate([o({type:cc.Enum(r.LQFollowTargetMode),displayName:"\u8ddf\u8e2a\u6a21\u5f0f",visible:function(){return this.switch_follow_target}})],t.prototype,"follow_target_mode",void 0),__decorate([o({displayName:"\u8ddf\u8e2a\u8f6c\u5411\u5e45\u5ea6",visible:function(){return this.switch_follow_target&&this.follow_target_mode!==r.LQFollowTargetMode.Once}})],t.prototype,"follow_target_range",void 0),__decorate([n,s("lq/bullet")],t)}(a.LQCollide);i.LQBullet=h,cc._RF.pop()},{"../lq_base/data/lq_const":"lq_const","../lq_base/util/lq_pool_util":"lq_pool_util","../lq_collide_system/lq_collide":"lq_collide","../lq_collide_system/lq_collide_config":"lq_collide_config","./lq_bullet_system":"lq_bullet_system"}],lq_collide_base:[function(e,t,i){"use strict";cc._RF.push(t,"ecae3yDq7VA2KSyjFe8ZRcm","lq_collide_base"),Object.defineProperty(i,"__esModule",{value:!0}),i.LQCollideBase=void 0;var n=cc._decorator.ccclass,o=cc._decorator.executeInEditMode,s=e("./lq_collide"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.find_collide=function(){var e=this.node.getComponent(s.LQCollide);if(e)return e;console.error(this.node.name+":\u6ca1\u6709\u627e\u5230LQCollide\u7ec4\u4ef6")},t.prototype.onLoad=function(){var e=this.find_collide();e&&e.init()},t.prototype.onEnable=function(){var e=this.find_collide();e&&e.enable_collide()},t.prototype.onDisable=function(){var e=this.find_collide();e&&e.disable_collide()},t.prototype.onDestroy=function(){this.find_collide()},t.prototype.onFocusInEditor=function(){this.find_collide()},t.prototype.onLostFocusInEditor=function(){this.find_collide()},t.prototype.resetInEditor=function(){this.find_collide()},__decorate([n,o],t)}(cc.Component);i.LQCollideBase=a,cc._RF.pop()},{"./lq_collide":"lq_collide"}],lq_collide_config:[function(e,t,i){"use strict";cc._RF.push(t,"e7bfc+TP3JHYKYAJPv5pxHA","lq_collide_config"),Object.defineProperty(i,"__esModule",{value:!0}),i.LQCollideConfig=i.LQCollideInfoList=void 0,function(e){e[e.default=0]="default",e[e.role=1]="role",e[e.role_bullet=2]="role_bullet",e[e.enemy=3]="enemy",e[e.enemy_bullet=4]="enemy_bullet",e[e.prop=5]="prop",e[e.shield=6]="shield"}(i.LQCollideInfoList||(i.LQCollideInfoList={}));var n=function(){function e(){}return e.switch_auto_run=!0,e.switch_print_log=!1,e.switch_quad_tree=!0,e.max_node_len=10,e.max_node_level=4,e.active_area_x=0,e.active_area_y=0,e.active_area_width=1e3,e.active_area_height=1e3,e.collide_group_map={default:{id:1,category:1,index:0,mask:1},role:{id:2,category:2,index:1,mask:56},role_bullet:{id:3,category:4,index:2,mask:8},enemy:{id:4,category:8,index:3,mask:70},enemy_bullet:{id:5,category:16,index:4,mask:66},prop:{id:6,category:32,index:5,mask:2},shield:{id:7,category:64,index:6,mask:24}},e}();i.LQCollideConfig=n,cc._RF.pop()},{}],lq_collide_system:[function(e,t,i){"use strict";cc._RF.push(t,"f32d77TmctNUbRaspOJXGwc","lq_collide_system"),i.__esModule=!0,i.LQCollideSystem=void 0;var n=e("../lq_base/data/lq_const"),o=e("../lq_base/util/lq_math_util"),s=e("./lq_collide_config"),a=e("../lq_base/data/lq_data"),r=cc.Vec2,l=cc.game,c=cc.director,u=cc.Scheduler,h=cc.misc,_=function(){function e(e,t,i,n){this.collide_arr=[],this.node_arr=[],this.max_object=t||10,this.max_level=i||4,this.level=n||0,this.rect=e,this.collide_arr=[],this.node_arr=[]}return e.prototype.split=function(){var t=this.level+1,i=.5*this.rect.width,n=.5*this.rect.height,o=this.rect.x,s=this.rect.y;this.node_arr[0]=new e(new a.LQRect(o+i,s,i,n),this.max_object,this.max_level,t),this.node_arr[1]=new e(new a.LQRect(o,s,i,n),this.max_object,this.max_level,t),this.node_arr[2]=new e(new a.LQRect(o,s+n,i,n),this.max_object,this.max_level,t),this.node_arr[3]=new e(new a.LQRect(o+i,s+n,i,n),this.max_object,this.max_level,t)},e.prototype.get_index=function(e){var t=[],i=this.rect.x+this.rect.half_width,n=this.rect.y+this.rect.half_height,o=e.world_rect.y+e.world_rect.half_height>n,s=e.world_rect.x-e.world_rect.half_width<i,a=e.world_rect.x+e.world_rect.half_width>i,r=e.world_rect.y-e.world_rect.half_height<n;return a&&o&&t.push(0),s&&o&&t.push(1),s&&r&&t.push(2),r&&a&&t.push(3),t},e.prototype.insert=function(e){var t;if(this.node_arr.length){t=this.get_index(e);for(var i=0;i<t.length;i++)this.node_arr[t[i]].insert(e)}else if(this.collide_arr.push(e),this.collide_arr.length>this.max_object&&this.level<this.max_level){for(this.node_arr.length||this.split(),i=0;i<this.collide_arr.length;i++){var n=this.collide_arr[i];t=this.get_index(n);for(var o=0;o<t.length;o++)this.node_arr[t[o]].insert(n)}this.collide_arr=[]}},e.prototype.retrieve=function(t){var i,n=this.get_index(t);if(this.collide_arr.length&&(i=e.temp_collide_arr).push.apply(i,this.collide_arr),this.node_arr.length)for(var o=0;o<n.length;o++)this.node_arr[n[o]].retrieve(t)},e.prototype.get_all_area=function(){if(this.collide_arr.length&&e.all_collide_arr.push(this.collide_arr),this.node_arr.length)for(var t=0;t<4;t++)this.node_arr[t].get_all_area()},e.prototype.clear=function(){this.collide_arr=[];for(var e=0;e<this.node_arr.length;e++)this.node_arr.length&&this.node_arr[e].clear();this.node_arr=[]},e.temp_collide_arr=[],e.all_collide_arr=[],e}(),d=function(){function e(){}return e.get_axe=function(e,t){var i=e.sub(t);return new r(i.y,-i.x).normalize()},e.get_axes=function(e,t){return e.cache_polygon_points||(this.cache_polygon(e),this.cache_axes(e,t)),e.cache_axes},e.cache_axes=function(e,t){if(e.cache_axes=[],e._collide_shape===n.LQCollideShape.Circle){t.cache_polygon_points||(this.cache_polygon(t),this.cache_axes(t,e));for(var i=n.LQConst.VEC_ZERO,o=Number.MAX_SAFE_INTEGER,s=t.cache_polygon_points,a=0;a<s.length;a++){var r=s[a],l=e.world_rect.sub(r).magSqr();l<o&&(o=l,i=r)}e.cache_axes.push(this.get_axe(e.world_rect,i))}else{a=0;for(var c=(s=e.cache_polygon_points).length-1;a<c;a++)e.cache_axes.push(this.get_axe(s[a],s[a+1]));e.cache_axes.push(this.get_axe(s[0],s[s.length-1]))}},e.cache_polygon=function(e){if(e._collide_shape===n.LQCollideShape.Rect)e.cache_polygon_points=[],e.cache_polygon_points.push(e.world_rect.bottom_left()),e.cache_polygon_points.push(e.world_rect.bottom_right()),e.cache_polygon_points.push(e.world_rect.top_left()),e.cache_polygon_points.push(e.world_rect.top_right());else if(e._collide_shape===n.LQCollideShape.Polygon){e.cache_polygon_points=[];for(var t=e.world_rect.pos(),i=h.degreesToRadians(e.node.angle),o=Math.sin(i),s=Math.cos(i),a=0;a<e._polygon_points.length;a++)e.cache_polygon_points.push((l=e._polygon_points[a],new r(l.x*s-l.y*o,l.x*o+l.y*s)).add(t))}var l},e.get_projection=function(e,t){if(e._collide_shape===n.LQCollideShape.Circle){var i=(c=t.dot(e.world_rect))-e.radius,o=c+e.radius;return{min:Math.min(i,o),max:Math.max(i,o)}}for(var s=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,r=0,l=e.cache_polygon_points;r<l.length;r++){var c=l[r].dot(t);s=Math.min(s,c),a=Math.max(a,c)}return{min:s,max:a}},e.intersects_polygon=function(e,t){for(var i=this.get_axes(e,t),n=this.get_axes(t,e),o=0,s=i;o<s.length;o++){var a=s[o],r=this.get_projection(e,a),l=this.get_projection(t,a);if(r.max<=l.min||l.max<=r.min)return!1}for(var c=0,u=n;c<u.length;c++)if(a=u[c],r=this.get_projection(e,a),l=this.get_projection(t,a),r.max<=l.min||l.max<=r.min)return!1;return!0},e.update_world_rect=function(e){e.world_rect&&(e.node._updateWorldMatrix(),r.transformMat4(e.world_rect,e._offset,e.node._worldMatrix))},e.update_collide_logic=function(e){if(e.is_open_func)for(var t in e.collide_map){var i=e.collide_map[t];1===i.status?i.status=2:(delete e.collide_map[t],e.on_exit(i.collide))}},e.collide_other=function(e,t){if(e.is_open_func){var i=e.collide_map[t.collide_id];i?i.status=1:(e.collide_map[t.collide_id]={collide:t,status:1},e.on_enter(t))}if(t.is_open_func){var n=t.collide_map[e.collide_id];n?n.status=1:(t.collide_map[e.collide_id]={collide:e,status:1},t.on_enter(e))}e.on_collide(t),t.on_collide(e)},e.add_collide=function(e){this.update_world_rect(e),this.collide_arr.push(e)},e.remove_collide=function(e){for(var t=this.collide_arr.length-1;t>=0;t--)if(this.collide_arr[t].collide_id===e.collide_id){this.collide_arr.splice(t,1);break}},e.update_logic=function(){if(this.is_enable)if(s.LQCollideConfig.switch_quad_tree){this.quad_tree.clear();for(var e=this.collide_arr.length-1;e>=0;e--){if(!(l=this.collide_arr[e]))return;l.isValid?(this.update_collide_logic(l),l.is_enable&&(this.update_world_rect(l),this.quad_tree.insert(l))):this.collide_arr.splice(e,1)}_.all_collide_arr=[],this.quad_tree.get_all_area();for(var t=0;t<_.all_collide_arr.length;t++){var i=_.all_collide_arr[t];for(e=0;e<i.length;e++)for(var n=i[e],a=e+1;a<i.length;a++){var r=i[a];n.collide_category&r.collide_mask&&n!==r&&(1===n._collide_shape&&1===r._collide_shape?o.LQMathUtil.intersects_rect(n.world_rect,r.world_rect)&&this.collide_other(n,r):1===n._collide_shape&&2===r._collide_shape?o.LQMathUtil.intersects_circle_rect(r.world_rect,r.radius,n.world_rect)&&this.collide_other(n,r):2===n._collide_shape&&1===r._collide_shape?o.LQMathUtil.intersects_circle_rect(n.world_rect,n.radius,r.world_rect)&&this.collide_other(n,r):2===n._collide_shape&&2===r._collide_shape?o.LQMathUtil.intersects_circle(n.world_rect,n.radius,r.world_rect,r.radius)&&this.collide_other(n,r):this.intersects_polygon(n,r)&&this.collide_other(n,r))}}}else{for(i=[],e=this.collide_arr.length-1;e>=0;e--){var l;if(!(l=this.collide_arr[e]))return;l.isValid?(this.update_collide_logic(l),l.is_enable&&(this.update_world_rect(l),i.push(l))):this.collide_arr.splice(e,1)}var c=i.length;for(e=0;e<c;e++)for(n=i[e],a=e+1;a<c;a++)r=i[a],n.collide_category&r.collide_mask&&(1===n._collide_shape&&1===r._collide_shape?o.LQMathUtil.intersects_rect(n.world_rect,r.world_rect)&&this.collide_other(n,r):1===n._collide_shape&&2===r._collide_shape?o.LQMathUtil.intersects_circle_rect(r.world_rect,r.radius,n.world_rect)&&this.collide_other(n,r):2===n._collide_shape&&1===r._collide_shape?o.LQMathUtil.intersects_circle_rect(n.world_rect,n.radius,r.world_rect)&&this.collide_other(n,r):2===n._collide_shape&&2===r._collide_shape?o.LQMathUtil.intersects_circle(n.world_rect,n.radius,r.world_rect,r.radius)&&this.collide_other(n,r):this.intersects_polygon(n,r)&&this.collide_other(n,r))}},e.get_group_by_index=function(e){for(var t in s.LQCollideConfig.collide_group_map){var i=s.LQCollideConfig.collide_group_map[t];if(i.index===e)return i}},e.get_info_by_id=function(e){var t;for(var i in s.LQCollideConfig.collide_group_map){var n=s.LQCollideConfig.collide_group_map[i];if(n.id===e)return n;t||(t=n)}return t},e.find_nearest_collide=function(t){for(var i=[],n=e.collide_arr.length-1;n>=0;n--){var o=e.collide_arr[n];t!==o&&o.is_enable&&(t.follow_target_category?o.collide_category===t.follow_target_category&&i.push(o):0!=(o.collide_category&t.collide_mask)&&i.push(o))}return i.sort(function(e,i){return t.world_rect.sub(e.world_rect).magSqr()-t.world_rect.sub(i.world_rect).magSqr()}),i[0]},e.clear=function(e){if(void 0===e&&(e=!1),e)for(var t=this.collide_arr.length-1;t>=0;t--){var i=this.collide_arr[t];i.isValid&&i.node.destroy()}this.collide_arr=[]},e.check_collide=function(e){var t,i=[];s.LQCollideConfig.switch_quad_tree?(_.temp_collide_arr=[],this.quad_tree.retrieve(e),t=_.temp_collide_arr):t=this.collide_arr;for(var n=0;n<t.length;n++){var a=t[n];e!==a&&e.collide_category&a.collide_mask&&(1===e._collide_shape&&1===a._collide_shape?o.LQMathUtil.intersects_rect(e.world_rect,a.world_rect)&&i.push(a):1===e._collide_shape&&2===a._collide_shape?o.LQMathUtil.intersects_circle_rect(a.world_rect,a.radius,e.world_rect)&&i.push(a):2===e._collide_shape&&1===a._collide_shape?o.LQMathUtil.intersects_circle_rect(e.world_rect,e.radius,a.world_rect)&&i.push(a):2===e._collide_shape&&2===a._collide_shape?o.LQMathUtil.intersects_circle(e.world_rect,e.radius,a.world_rect,a.radius)&&i.push(a):this.intersects_polygon(e,a)&&i.push(a))}return i},e.is_enable=!1,e.collide_arr=[],e.quad_tree=new _(new a.LQRect(s.LQCollideConfig.active_area_x,s.LQCollideConfig.active_area_y,s.LQCollideConfig.active_area_width,s.LQCollideConfig.active_area_height),s.LQCollideConfig.max_node_len,s.LQCollideConfig.max_node_level),e}();i.LQCollideSystem=d;var p=function(){function e(){}return e.prototype.update=function(e){d.update_logic(e)},e}();l.on(l.EVENT_GAME_INITED,function(){if(s.LQCollideConfig.switch_auto_run){var e=new p;c.getScheduler().enableForTarget(e),c.getScheduler().scheduleUpdate(e,u.PRIORITY_SYSTEM,!1)}}),cc._RF.pop()},{"../lq_base/data/lq_const":"lq_const","../lq_base/data/lq_data":"lq_data","../lq_base/util/lq_math_util":"lq_math_util","./lq_collide_config":"lq_collide_config"}],lq_collide:[function(e,t,i){"use strict";cc._RF.push(t,"eebe12+b/JL64foUWRsM+wp","lq_collide"),Object.defineProperty(i,"__esModule",{value:!0}),i.LQCollide=void 0;var n=cc._decorator.ccclass,o=cc._decorator.property,s=cc._decorator.requireComponent,a=cc._decorator.menu,r=cc.Component,l=cc.Enum,c=cc.Size,u=cc.Vec2,h=cc.Graphics,_=cc.Node,d=cc.macro,p=cc.Color,f=e("../lq_base/data/lq_const"),g=e("./lq_collide_config"),m=e("./lq_collide_system"),y=e("../lq_base/data/lq_data"),v=e("./lq_collide_base"),b=e("../lq_base/util/lq_game_util"),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._draw_collide=!1,t._collide_shape=f.LQCollideShape.Rect,t._collide_group_index=-1,t.collide_group_id=0,t._radius=50,t._size=new c(100,100),t._polygon_points=[new u(-100,-50),new u(0,100),new u(100,-50)],t._offset=new u(0,0),t.data_string="",t.collide_id=0,t.collide_status=f.LQCollideStatus.Idle,t.is_enable=!0,t.is_open_func=!1,t.collide_category=0,t.collide_mask=0,t.collide_map={},t}var i;return __extends(t,e),i=t,Object.defineProperty(t.prototype,"draw_collide",{get:function(){return this._draw_collide},set:function(e){this._draw_collide=e,this.draw_shape()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collide_shape",{get:function(){return this._collide_shape},set:function(e){this._collide_shape=e,this.draw_shape()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collide_group_index",{get:function(){return-1===this._collide_group_index&&(this._collide_group_index=m.LQCollideSystem.get_info_by_id(this.collide_group_id).index),this._collide_group_index},set:function(e){this._collide_group_index!==e&&(this._collide_group_index=e,this.collide_group_id=m.LQCollideSystem.get_group_by_index(e).id)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius=e,this.draw_shape()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size=e,this.world_rect&&(this.world_rect.width=e.width,this.world_rect.height=e.height,this.world_rect.half_width=.5*e.width,this.world_rect.half_height=.5*e.height),this.draw_shape()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},set:function(e){this._offset=e,this.draw_shape()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygon_points",{get:function(){return this._polygon_points},set:function(e){this._polygon_points=e,this.draw_shape()},enumerable:!1,configurable:!0}),t.prototype.checkDebugDrawValid=function(){if(!this._debugDrawer||!this._debugDrawer.isValid){var e=this.node.getChildByName("Collide");e?this._debugDrawer=e.getComponent(h):((e=new _("Collide")).zIndex=d.MAX_ZINDEX,this.node.addChild(e),e._objFlags=1096,this._debugDrawer=e.addComponent(h),this._debugDrawer.lineWidth=3,this._debugDrawer.strokeColor=new p(255,0,0),this._debugDrawer.fillColor=new p(255,0,0))}},t.prototype.draw_shape=function(){if(this._draw_collide){this.checkDebugDrawValid(),this._debugDrawer.clear();var e={key:"scaleX",value:this.node.scaleX},t={key:"scaleY",value:this.node.scaleY};if(b.LQGameUtil.recursion_node_property(this.node,e),b.LQGameUtil.recursion_node_property(this.node,t),0!==e.value&&0!==t.value)switch(this._debugDrawer.node.scaleX=1/e.value,this._debugDrawer.node.scaleY=1/t.value,this._collide_shape){case f.LQCollideShape.Circle:this._debugDrawer.circle(+this._offset.x,+this._offset.y,this._radius),this._debugDrawer.stroke();break;case f.LQCollideShape.Rect:this._debugDrawer.moveTo(.5*-this._size.width+this._offset.x,.5*-this._size.height+this._offset.y),this._debugDrawer.lineTo(.5*-this._size.width+this._offset.x,.5*+this._size.height+this._offset.y),this._debugDrawer.lineTo(.5*this._size.width+this._offset.x,.5*+this._size.height+this._offset.y),this._debugDrawer.lineTo(.5*this._size.width+this._offset.x,.5*-this._size.height+this._offset.y),this._debugDrawer.lineTo(.5*-this._size.width+this._offset.x,.5*-this._size.height+this._offset.y),this._debugDrawer.stroke();break;case f.LQCollideShape.Polygon:this._debugDrawer.moveTo(this._polygon_points[0].x+this._offset.x,this._polygon_points[0].y+this._offset.y);for(var i=1;i<this._polygon_points.length;i++)this._debugDrawer.lineTo(this._polygon_points[i].x+this._offset.x,this._polygon_points[i].y+this._offset.y);this._debugDrawer.lineTo(this._polygon_points[0].x+this._offset.x,this._polygon_points[0].y+this._offset.y),this._debugDrawer.stroke()}}else this._debugDrawer&&this._debugDrawer.clear()},t.prototype.update_size=function(e,t){this._size.width=e,this.world_rect.width=e,this.world_rect.half_width=.5*e,this._size.height=t,this.world_rect.height=t,this.world_rect.half_height=.5*t,this.draw_shape()},t.prototype.init=function(){var e=this;this.world_rect=new y.LQRect(0,0,this._size.width,this._size.height),this.draw_shape(),this.node.on(_.EventType.ROTATION_CHANGED,function(){e.cache_polygon_points=void 0},this),this.node.on(_.EventType.POSITION_CHANGED,function(){e.cache_polygon_points=void 0});var t=m.LQCollideSystem.get_info_by_id(this.collide_group_id);this.collide_mask=t.mask,this.collide_category=t.category,this.collide_id=i.id_maker++},t.prototype.enable_collide=function(){this.collide_status!==f.LQCollideStatus.Live?(this.is_enable=!0,this.collide_status=f.LQCollideStatus.Live,m.LQCollideSystem.add_collide(this)):console.warn(this.node.name+"\u91cd\u590d\u6dfb\u52a0")},t.prototype.disable_collide=function(){this.collide_status===f.LQCollideStatus.Live&&(this.is_enable=!1,this.collide_status=f.LQCollideStatus.Idle,m.LQCollideSystem.remove_collide(this))},t.prototype.on_collide=function(){g.LQCollideConfig.switch_print_log&&console.log(this.node.name+" collide")},t.prototype.on_enter=function(){g.LQCollideConfig.switch_print_log&&console.log(this.node.name+" on_enter")},t.prototype.on_exit=function(){g.LQCollideConfig.switch_print_log&&console.log(this.node.name+" on_exit")},t.id_maker=1,__decorate([o({displayName:"\u7ed8\u5236\u5f62\u72b6"})],t.prototype,"draw_collide",null),__decorate([o],t.prototype,"_draw_collide",void 0),__decorate([o({tooltip:"\u78b0\u649e\u5f62\u72b6\uff0cNone\u5c31\u662f\u65e0\u654c\uff0c\u4e0d\u53c2\u4e0e\u78b0\u649e",type:l(f.LQCollideShape),displayName:"\u78b0\u649e\u5f62\u72b6"})],t.prototype,"collide_shape",null),__decorate([o()],t.prototype,"_collide_shape",void 0),__decorate([o({type:l(g.LQCollideInfoList),tooltip:"\u78b0\u649e\u7c7b\u522b",displayName:"\u78b0\u649e\u7c7b\u522b"})],t.prototype,"collide_group_index",null),__decorate([o({serializable:!1})],t.prototype,"_collide_group_index",void 0),__decorate([o({visible:!1})],t.prototype,"collide_group_id",void 0),__decorate([o({tooltip:"collide\u534a\u5f84",visible:function(){return this._collide_shape===f.LQCollideShape.Circle},displayName:"\u534a\u5f84"})],t.prototype,"radius",null),__decorate([o()],t.prototype,"_radius",void 0),__decorate([o({tooltip:"collide\u957f\u5bbd",visible:function(){return this._collide_shape===f.LQCollideShape.Rect},displayName:"\u957f\u5bbd"})],t.prototype,"size",null),__decorate([o()],t.prototype,"_size",void 0),__decorate([o({displayName:"\u4f4d\u7f6e\u504f\u79fb"})],t.prototype,"offset",null),__decorate([o({type:u,visible:function(){return this._collide_shape===f.LQCollideShape.Polygon},displayName:"\u591a\u8fb9\u5f62\u78b0\u649e\u70b9"})],t.prototype,"polygon_points",null),__decorate([o()],t.prototype,"_polygon_points",void 0),__decorate([o()],t.prototype,"_offset",void 0),__decorate([o({displayName:"\u81ea\u5b9a\u4e49\u5b57\u7b26\u4e32"})],t.prototype,"data_string",void 0),i=__decorate([n,s(v.LQCollideBase),a("lq/collide")],t)}(r);i.LQCollide=w,cc._RF.pop()},{"../lq_base/data/lq_const":"lq_const","../lq_base/data/lq_data":"lq_data","../lq_base/util/lq_game_util":"lq_game_util","./lq_collide_base":"lq_collide_base","./lq_collide_config":"lq_collide_config","./lq_collide_system":"lq_collide_system"}],lq_const:[function(e,t,i){"use strict";cc._RF.push(t,"64435Goef1B6qZcjiNoeEEQ","lq_const"),Object.defineProperty(i,"__esModule",{value:!0}),i.LQConst=i.LQOperateType=i.LQLevelStatus=i.LQCallAd=i.LQCallBase=i.LQAnalysisTag=i.LQByteDanceType=i.LQPlatformType=i.LQHttpDataType=i.LQHttpRequestType=i.LQEasing=i.LQCollideStatus=i.LQFollowTargetMode=i.LQCollideShape=i.LQBulletEmitterStatus=void 0;var n=cc.Vec2;(function(e){e[e.Idle=0]="Idle",e[e.Start=1]="Start",e[e.End=2]="End"})(i.LQBulletEmitterStatus||(i.LQBulletEmitterStatus={})),function(e){e[e.Rect=1]="Rect",e[e.Circle=2]="Circle",e[e.Polygon=3]="Polygon"}(i.LQCollideShape||(i.LQCollideShape={})),function(e){e[e.Always=0]="Always",e[e.Once=1]="Once",e[e.Pass=2]="Pass"}(i.LQFollowTargetMode||(i.LQFollowTargetMode={})),function(e){e[e.Idle=0]="Idle",e[e.Live=1]="Live"}(i.LQCollideStatus||(i.LQCollideStatus={})),function(e){e.BackIn="backIn",e.BackOut="backOut",e.quadIn="quadIn",e.quadOut="quadOut",e.quadInOut="quadInOut",e.cubicIn="cubicIn",e.expoOut="expoOut"}(i.LQEasing||(i.LQEasing={})),function(e){e.Get="get",e.Post="post"}(i.LQHttpRequestType||(i.LQHttpRequestType={})),function(e){e[e.Text=0]="Text",e[e.Binary=1]="Binary"}(i.LQHttpDataType||(i.LQHttpDataType={})),function(e){e.unknown="\u672a\u77e5\u5e73\u53f0",e.all="\u5168\u5e73\u53f0",e.wx="\u5fae\u4fe1",e.tt="\u5b57\u8282\u8df3\u52a8",e.oppo="oppo",e.vivo="vivo",e.qq="qq",e.baidu="\u767e\u5ea6",e.kwaigame="\u5feb\u624b",e.android="\u5b89\u5353",e.ios="\u82f9\u679c",e.browser="\u6d4f\u89c8\u5668"}(i.LQPlatformType||(i.LQPlatformType={})),function(e){e.tt="\u5934\u6761",e.tt_lite="\u5934\u6761\u6781\u901f\u7248",e.douyin="\u6296\u97f3",e.douyin_lite="\u6296\u97f3\u6781\u901f\u7248",e.ppx="\u76ae\u76ae\u867e",e.devtools="\u5b57\u8282\u5f00\u53d1\u5de5\u5177"}(i.LQByteDanceType||(i.LQByteDanceType={})),function(e){e.VideoComplete="video_complete",e.VideoBegin="video_begin",e.VideoInterrupt="video_interrupt",e.InterstitialShow="interstitial_show",e.BannerShow="banner_show",e.ExportShow="export_show",e.NativeShow="native_show",e.NativeClick="native_show"}(i.LQAnalysisTag||(i.LQAnalysisTag={})),function(e){e[e.InitSdk=0]="InitSdk",e[e.KeepScreenOn=1]="KeepScreenOn",e[e.Vibrate=2]="Vibrate",e[e.GetVersionCode=3]="GetVersionCode",e[e.GetVersionName=4]="GetVersionName",e[e.OpenUrl=5]="OpenUrl",e[e.DeleteDir=6]="DeleteDir",e[e.DeleteFile=7]="DeleteFile"}(i.LQCallBase||(i.LQCallBase={})),function(e){e[e.ShowBanner=0]="ShowBanner",e[e.HideBanner=1]="HideBanner",e[e.ShowVideo=2]="ShowVideo",e[e.ShowInterstitial=3]="ShowInterstitial",e[e.ShowNative=4]="ShowNative",e[e.CacheAd=5]="CacheAd"}(i.LQCallAd||(i.LQCallAd={})),function(e){e[e.Begin=0]="Begin",e[e.Failed=1]="Failed",e[e.Complete=2]="Complete"}(i.LQLevelStatus||(i.LQLevelStatus={})),function(e){e[e.ClickNode=0]="ClickNode",e[e.ClickScreen=1]="ClickScreen",e[e.Move=2]="Move",e[e.Null=3]="Null"}(i.LQOperateType||(i.LQOperateType={}));var o=function(){function e(){}return e.VEC_ZERO=n.ZERO,e}();i.LQConst=o,cc._RF.pop()},{}],lq_data:[function(e,t,i){"use strict";cc._RF.push(t,"ce91bvE67NI3oROrpiMvJyn","lq_data"),Object.defineProperty(i,"__esModule",{value:!0}),i.LQPlatformData=i.LQShareData=i.LQNativeComponent=i.LQRect=void 0;var n=cc.Vec2,o=cc.Rect,s=function(){function e(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n,this.half_width=.5*i,this.half_height=.5*n}return e.prototype.top_left=function(){return new n(this.x-this.half_width,this.y+this.half_height)},e.prototype.top_right=function(){return new n(this.x+this.half_width,this.y+this.half_height)},e.prototype.bottom_left=function(){return new n(this.x-this.half_width,this.y-this.half_height)},e.prototype.bottom_right=function(){return new n(this.x+this.half_width,this.y-this.half_height)},e.prototype.pos=function(){return new n(this.x,this.y)},e.prototype.sub=function(e){return new n(e.x-this.x,e.y-this.y)},e.prototype.add=function(e){return new n(e.x+this.x,e.y+this.y)},e.prototype.to_cocos_rect=function(){return new o(this.x-this.half_width,this.y-this.half_height,this.width,this.height)},e}();i.LQRect=s;i.LQNativeComponent=function(){this.node_btn_arr=[]};i.LQShareData=function(){};i.LQPlatformData=function(){},cc._RF.pop()},{}],lq_game_util:[function(e,t,i){"use strict";cc._RF.push(t,"1745bN8mQRBJpHyfjOQhXNL","lq_game_util"),Object.defineProperty(i,"__esModule",{value:!0}),i.LQGameUtil=void 0;var n=cc.SpriteFrame,o=cc.director,s=cc.tween,a=cc.visibleRect,r=cc.find,l=function(){function e(){}return e.get_image=function(e,t,i){var o=this;void 0===i&&(i=!0),e&&""!==e?this.image_cache[e]?t(!0,this.image_cache[e]):cc.loader.load({url:e,type:"png"},function(s,a){if(s)return console.error("err:"+s),void t(!1,void 0);var r=new n(a);t(!0,r),i&&(o.image_cache[e]=r)}):t(!1,void 0)},e.canvas_policy=function(e,t,i){return a.height/a.width>i/t?(e.fitHeight=!1,e.fitWidth=!0):(e.fitHeight=!0,e.fitWidth=!1),e.fitHeight},e.recursion_node_property=function(e,t){e.parent&&(t.value*=e.parent[t.key],this.recursion_node_property(e.parent,t))},e.find_node=function(e){if(!e||e.length<=0)console.warn("\u8def\u5f84\u4e0d\u6b63\u786e");else{var t=e.split("/"),i=r(t[0]);if(i){for(var n=i,o=1;o<t.length;o++){var s=n.getChildByName(t[o]);if(!s)return void console.warn("\u6ca1\u627e\u5230\u8282\u70b9:"+t[o]);n=s}return n}console.warn("\u6ca1\u627e\u5230\u8282\u70b9:"+t[0])}},e.wait=function(e){return new Promise(function(t){s(o.getScene()).delay(e).call(function(){t()}).start()})},e.set_clip=function(e,t,i,n){for(var o=function(e){for(var o=0;o<e.length;o++)o%2==0?(i&&(e[o]=-e[o]),e[o]+=t.x):(n&&(e[o]=-e[o]),e[o]+=t.y)},s=e.curveData.props.position,a=0;a<s.length;a++){var r=s[a].motionPath,l=s[a].value;if(r)for(var c=0;c<r.length;c++)o(r[c]);o(l)}},e.image_cache={},e}();i.LQGameUtil=l,cc._RF.pop()},{}],lq_interface:[function(e,t,i){"use strict";cc._RF.push(t,"5f5b1mnCJND8arGiiPSEhP2","lq_interface"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],lq_math_util:[function(e,t,i){"use strict";cc._RF.push(t,"934d0xNgvhJ+rPxN2ZU2+pi","lq_math_util"),Object.defineProperty(i,"__esModule",{value:!0}),i.LQMathUtil=void 0;var n=function(){function e(){}return e.random=function(e,t){return e===t?e:e<t?Math.random()*(t-e)+e:Math.random()*(e-t)+t},e.random_int=function(e,t){return Math.floor(this.random(e,t))},e.get_radians=function(e,t){var i=Math.atan2(t.y-e.y,t.x-e.x);return i>0?i:i+6.28},e.intersects_rect=function(e,t){return Math.abs(e.x-t.x)<e.half_width+t.half_width&&Math.abs(e.y-t.y)<e.half_height+t.half_height},e.intersects_point_rect=function(e,t){return e.x>t.x-.5*t.width&&e.x<t.x+.5*t.width&&e.y>t.y-.5*t.height&&e.y<t.y+.5*t.height},e.intersects_point_circle=function(e,t,i){return e.sub(t).magSqr()<i*i},e.intersects_circle=function(e,t,i,n){return e.sub(i).mag()<t+n},e.intersects_circle_rect=function(e,t,i){var n=e.x-i.x,o=e.y-i.y,s=Math.min(n,i.half_width),a=Math.max(s,-i.half_width),r=Math.min(o,i.half_height),l=Math.max(r,-i.half_height);return(a-n)*(a-n)+(l-o)*(l-o)<=t*t},e}();i.LQMathUtil=n,cc._RF.pop()},{}],lq_platform_util:[function(e,t,i){"use strict";cc._RF.push(t,"e3c74E/eLNED7r7X3lZw7rC","lq_platform_util"),Object.defineProperty(i,"__esModule",{value:!0}),i.LQPlatformUtil=void 0;var n=e("../data/lq_const"),o=function(){function e(){}return e.init=function(){if("undefined"!=typeof qq)this.platform_type=n.LQPlatformType.qq;else if("undefined"!=typeof swan)this.platform_type=n.LQPlatformType.baidu;else if("undefined"!=typeof tt)switch(this.platform_type=n.LQPlatformType.tt,tt.getSystemInfoSync().appName){case"Toutiao":this.byte_dance_type=n.LQByteDanceType.tt;break;case"news_article_lite":this.byte_dance_type=n.LQByteDanceType.tt_lite;break;case"Douyin":this.byte_dance_type=n.LQByteDanceType.douyin;break;case"douyin_lite":this.byte_dance_type=n.LQByteDanceType.douyin_lite;break;case"PPX":this.byte_dance_type=n.LQByteDanceType.ppx;break;case"devtools":this.byte_dance_type=n.LQByteDanceType.devtools}else"undefined"!=typeof qg?qg.getBattle?this.platform_type=n.LQPlatformType.oppo:this.platform_type=n.LQPlatformType.vivo:"undefined"!=typeof wx?this.platform_type=n.LQPlatformType.wx:"undefined"!=typeof jsb?cc.sys.os===cc.sys.OS_ANDROID?this.platform_type=n.LQPlatformType.android:cc.sys.os===cc.sys.OS_IOS?this.platform_type=n.LQPlatformType.ios:this.platform_type=n.LQPlatformType.unknown:cc.sys.isBrowser&&(this.platform_type=n.LQPlatformType.browser)},e.get_platform=function(){return this.platform_type},e.get_byte_dance=function(){return this.byte_dance_type},e.is_wx=function(){return this.platform_type===n.LQPlatformType.wx},e.is_tt=function(){return this.platform_type===n.LQPlatformType.tt},e.is_oppo=function(){return this.platform_type===n.LQPlatformType.oppo},e.is_vivo=function(){return this.platform_type===n.LQPlatformType.vivo},e.is_browser=function(){return this.platform_type===n.LQPlatformType.browser},e.is_android=function(){return this.platform_type===n.LQPlatformType.android},e.is_ios=function(){return this.platform_type===n.LQPlatformType.ios},e.is_native=function(){return this.platform_type===n.LQPlatformType.android||this.platform_type===n.LQPlatformType.ios},e.is_qq=function(){return this.platform_type===n.LQPlatformType.qq},e.is_baidu=function(){return this.platform_type===n.LQPlatformType.baidu},e.is_kwaigame=function(){return this.platform_type===n.LQPlatformType.kwaigame},e}();i.LQPlatformUtil=o,o.init(),o.is_tt()?console.log("---------\u5f53\u524d\u5e73\u53f0:"+o.get_byte_dance()):console.log("---------\u5f53\u524d\u5e73\u53f0:"+o.get_platform()),cc._RF.pop()},{"../data/lq_const":"lq_const"}],lq_pool_util:[function(e,t,i){"use strict";cc._RF.push(t,"676a7Iwc/1GI5E66Ld6L0f9","lq_pool_util"),Object.defineProperty(i,"__esModule",{value:!0}),i.LQPoolUtil=void 0;var n=cc.Animation,o=cc.ParticleSystem,s=cc.instantiate,a=function(){function e(){}return e.reset_ani=function(e){var t=e.getComponent(n);if(t){var i=t.currentClip?t.currentClip:t.defaultClip;if(!i)return;t.playOnLoad&&i&&i.wrapMode===cc.WrapMode.Normal&&t.play(i.name)}else{var o=e.getComponent(sp.Skeleton);o&&!o.loop&&o.setAnimation(0,o.animation,!1)}for(var s=0;s<e.childrenCount;s++){var a=e.children[s];this.reset_ani(a)}},e.recursion_stop_particle=function(e,t){var i=e.getComponent(o);i&&(i.stopSystem(),t.has=!0,i.node.opacity=0);for(var n=0;n<e.childrenCount;n++){var s=e.children[n];this.recursion_stop_particle(s,t)}},e.recursion_reset_particle=function(e){if(e.isValid){var t=e.getComponent(o);t&&(t.resetSystem(),t.node.opacity=255);for(var i=0;i<e.childrenCount;i++){var n=e.children[i];this.recursion_reset_particle(n)}}},e.get_node_from_pool=function(e,t){var i=this.any_pool[t.uuid];i||(this.any_pool[t.uuid]=[],i=[]);var n=i.pop();return n&&n.isValid?(n.active=!0,n.is_from_pool=!0,this.reset_ani(n)):((n=s(t)).recovery_uuid=t.uuid,n.is_from_pool=!1,e.addChild(n)),n},e.check_pool_push=function(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return void console.warn("\u6c60\u5b50\u4e0d\u80fd\u91cd\u590d\u6dfb\u52a0\u8282\u70b9",t.name,t.recovery_uuid);t.active=!1,e.push(t)},e.push_node_to_pool=function(e){var t=this;if(e.recovery_uuid&&this.any_pool[e.recovery_uuid]){var i={has:!1};if(this.recursion_stop_particle(e,i),i.has){var n=e.opacity;e.opacity=0,setTimeout(function(){t.recursion_reset_particle(e),e.opacity=n,t.check_pool_push(t.any_pool[e.recovery_uuid],e)},500)}else this.check_pool_push(this.any_pool[e.recovery_uuid],e)}else e.isValid&&e.destroy()},e.any_pool={},e}();i.LQPoolUtil=a,cc._RF.pop()},{}],nav_agent:[function(e,t,i){"use strict";cc._RF.push(t,"b7093Zi7odPh4rhzTnbqBvD","nav_agent"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("../../../../lq_bullet_system/lq_bullet_emitter"),o=cc._decorator,s=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fire_wq=[],t.speed=500,t.is_walking=!1,t.walk_time=0,t.vx=0,t.vy=0,t.passed_time=0,t.degree=0,t.dir=cc.v2(0,0),t.enemy4=null,t}return __extends(t,e),t.prototype.start=function(){this.is_walking=!1,this.enemy4=this.getComponent("enemy1_Ctrl")},t.prototype.stop_walk=function(e){this.is_walking=!1;var t=this.node.getPosition();this.dir=e.sub(t);var i=Math.atan2(this.dir.y,this.dir.x);if(this.degree=180*i/Math.PI,this.node.angle=this.degree+90,this.fire_wq!=[])for(var n=this.fire_wq.length,o=0;o<n;o++)this.fire_wq[o].origin_angle_min=this.degree,this.fire_wq[o].origin_angle_max=this.degree;else console.log("fire_wq==null");null!=this.enemy4&&(this.enemy4.start_fire=!0)},t.prototype.walk_to=function(e){var t=this.node.getPosition();this.dir=e.sub(t);var i=this.dir.mag();i<=0||(this.walk_time=i/this.speed,this.vx=this.speed*this.dir.x/i,this.vy=this.speed*this.dir.y/i,this.passed_time=0,this.is_walking=!0)},t.prototype.update=function(e){if(!1!==this.is_walking){this.passed_time+=e,this.passed_time>this.walk_time&&(e-=this.passed_time-this.walk_time);var t=Math.atan2(this.dir.y,this.dir.x);if(this.degree=180*t/Math.PI,this.node.angle=this.degree+90,null!=this.fire_wq)for(var i=this.fire_wq.length,n=0;n<i;n++)this.fire_wq[n].origin_angle_min=this.degree,this.fire_wq[n].origin_angle_max=this.degree;this.node.x+=this.vx*e,this.node.y+=this.vy*e,this.passed_time>=this.walk_time&&(this.is_walking=!1)}},__decorate([a(n.LQBulletEmitter)],t.prototype,"fire_wq",void 0),__decorate([a({tooltip:"\u901f\u5ea6"})],t.prototype,"speed",void 0),__decorate([s],t)}(cc.Component);i.default=r,cc._RF.pop()},{"../../../../lq_bullet_system/lq_bullet_emitter":"lq_bullet_emitter"}],pet_AI:[function(e,t,i){"use strict";cc._RF.push(t,"f246dSp7eNBlqvpIllyUkmr","pet_AI"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.think_time=.03,t.len=100,t.isTow=!0,t.fire_RorL=!1,t.bullet_angle=!1,t.isRight=!1,t.now_time=null,t.agent=null,t.target=null,t.emitter=null,t}return __extends(t,e),t.prototype.init=function(){this.now_time=this.think_time,this.agent=this.getComponent("pet_agent"),this.target=this.node.parent.parent.getChildByName("player_root"),this.bullet_angle&&(this.emitter=this.node.getChildByName("emitter").getComponent("lq_bullet_emitter"),console.log("\u6211\u5c31\u4fee\u6539\u4e86\u5b50\u5f39\u89d2\u5ea6"),this.emitter.origin_angle_min-=180,console.log("\u6700\u5c0f\u53d8\u5316\u89d2\u5ea6"+this.emitter.origin_angle_min),this.emitter.origin_angle_max-=180,console.log("\u6700\u5927\u53d8\u5316\u89d2\u5ea6"+this.emitter.origin_angle_max))},t.prototype.start=function(){this.init()},t.prototype.do_AI=function(){if(null!==this.target){var e=this.target.getPosition();this.isRight?this.agent.walk_to(cc.v2(e.x+this.len,e.y)):this.agent.walk_to(cc.v2(e.x-this.len,e.y))}},t.prototype.update=function(e){this.now_time+=e,this.now_time>=this.think_time&&(this.do_AI(),this.now_time=0)},__decorate([s({tooltip:"\u53cd\u5e94\u65f6\u95f4"})],t.prototype,"think_time",void 0),__decorate([s({tooltip:"\u8ddd\u79bb"})],t.prototype,"len",void 0),__decorate([s({tooltip:"\u662f\u4e0d\u662f\u6210\u5bf9\u51fa\u73b0"})],t.prototype,"isTow",void 0),__decorate([s({tooltip:"\u662f\u4e0d\u662f\u5411\u5de6\u53f3\u5f00\u706b\u7684\u90a3\u79cd"})],t.prototype,"fire_RorL",void 0),__decorate([o],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],pet_agent:[function(e,t,i){"use strict";cc._RF.push(t,"74be0Ty/lFMJoSuKOLEELGo","pet_agent"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=500,t.is_walking=!1,t.walk_time=0,t.vx=0,t.vy=0,t.passed_time=0,t.dir=cc.v2(0,0),t}return __extends(t,e),t.prototype.walk_to=function(e){var t=this.node.getPosition();this.dir=e.sub(t);var i=this.dir.mag();i<=0||(this.walk_time=i/this.speed,this.vx=this.speed*this.dir.x/i,this.vy=this.speed*this.dir.y/i,this.passed_time=0,this.is_walking=!0)},t.prototype.start=function(){},t.prototype.update=function(e){!1!==this.is_walking&&(this.passed_time+=e,this.passed_time>this.walk_time&&(e-=this.passed_time-this.walk_time),this.node.x+=this.vx*e,this.node.y+=this.vy*e,this.passed_time>=this.walk_time&&(this.is_walking=!1))},__decorate([s({tooltip:"\u901f\u5ea6"})],t.prototype,"speed",void 0),__decorate([o],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],pet_arms_Ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"8f36fQmnvxLGJM3h6Ji+eWV","pet_arms_Ctrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("../../../../lq_bullet_system/lq_bullet_emitter"),o=cc._decorator,s=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.left_arms=null,t.arms_degree=0,t.tagatIsPlayer=!1,t.fireTime=1,t.fireTime_jishi=0,t.enemy=null,t}return __extends(t,e),t.prototype.init=function(){this.left_arms.pause_system()},t.prototype.start=function(){this.init()},t.prototype.pao1Fire=function(e){if(null!=this.get_tagat())try{var t=this.get_tagat().getPosition(),i=this.node.parent.parent.convertToNodeSpaceAR(this.node.convertToWorldSpaceAR(cc.v2(0,0))),n=t.sub(i),s=180*Math.atan2(n.y,n.x)/Math.PI;this.node.angle=s-90,null!=this.left_arms&&(this.left_arms.origin_angle_min=s-this.arms_degree,this.left_arms.origin_angle_max=s-this.arms_degree),e?this.left_arms.start_system():this.left_arms.pause_system()}catch(o){}},t.prototype.get_tagat=function(){var e=null;if(this.tagatIsPlayer)e=this.node.parent.parent.parent.getChildByName("player_root")?this.node.parent.parent.parent.getChildByName("player_root"):null;else if(this.enemy=this.node.parent.parent.parent.getChildByName("enemy_root").children,this.enemy.length>0){var t=Math.floor(Math.random()*this.enemy.length)+1;e=this.enemy[t]?this.enemy[t]:null}else this.enemy=this.node.parent.parent.parent.getChildByName("boss_root").children,this.enemy.length>0&&(e=this.enemy[0]?this.enemy[0]:null);return e},t.prototype.update=function(e){this.fireTime_jishi+=e,this.fireTime_jishi>=this.fireTime&&this.pao1Fire(!0)},__decorate([a(n.LQBulletEmitter)],t.prototype,"left_arms",void 0),__decorate([a({tooltip:"\u6b66\u5668\u7684\u89d2\u5ea6\u504f\u79fb"})],t.prototype,"arms_degree",void 0),__decorate([a({tooltip:"\u76ee\u6807\u7c7b\u578b\u662f\u4e0d\u662f\u73a9\u5bb6"})],t.prototype,"tagatIsPlayer",void 0),__decorate([s],t)}(cc.Component);i.default=r,cc._RF.pop()},{"../../../../lq_bullet_system/lq_bullet_emitter":"lq_bullet_emitter"}],shipei:[function(e,t,i){"use strict";cc._RF.push(t,"2f585qgoqtG9oX+jsJRzCF3","shipei"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.resetSize(this.node)},t.prototype.start=function(){},t.prototype.adjust_screen=function(){var e=cc.view.getFrameSize().width/cc.view.getFrameSize().height>=cc.Canvas.instance.designResolution.width/cc.Canvas.instance.designResolution.height;cc.Canvas.instance.fitHeight=e,cc.Canvas.instance.fitWidth=!e},t.prototype.resetSize=function(e){var t=cc.view.getFrameSize(),i=cc.view.getDesignResolutionSize();t.width/t.height>i.width/i.height?(e.width=i.height*t.width/t.height,e.height=i.height,e.getComponent(cc.Canvas).designResolution=cc.size(e.width,e.height)):(e.width=i.width,e.height=i.width*t.height/t.width,e.getComponent(cc.Canvas).designResolution=cc.size(e.width,e.height))},t.prototype.fitScreen=function(e,t){var i=e.width/t.width,n=e.height/t.height,o=e.getChildByName("background"),s=e.height/o.height;o.width*=s,o.height*=s,i>n&&(s=e.width/o.width,o.width*=s,o.height*=s)},__decorate([o],t)}(cc.Component));i.default=s,cc._RF.pop()},{}],skill_cd:[function(e,t,i){"use strict";cc._RF.push(t,"ff72eGzjWVHIqquiHSAIkQ+","skill_cd"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skill=null,t.time_label=null,t.isshow_label=!0,t.endFunc=null,t.time=3,t}return __extends(t,e),t.prototype.onLoad=function(){this.skill.fillRange=1,this.time_label.node.active=!1},t.prototype.start=function(){console.log("start\u6280\u80fd\u51b7\u5374")},t.prototype.update=function(e){1!=this.skill.fillRange&&(1!=this.skill.fillRange&&(this.skill.fillRange+=e/this.time,this.time_label.string=Math.floor((1-this.skill.fillRange)*this.time+1).toString(),1==this.isshow_label&&(this.time_label.node.active=!0)),1==this.skill.fillRange&&(this.skill.getComponent(cc.Button).interactable=!0,this.time_label.node.active=!1,this.endFunc&&this.endFunc()))},t.prototype.onbtn=function(e,t){e&&(this.time=e),this.endFunc=t,this.skill.fillRange=0,this.skill.getComponent(cc.Button).interactable=!1},__decorate([s(cc.Sprite)],t.prototype,"skill",void 0),__decorate([s(cc.Label)],t.prototype,"time_label",void 0),__decorate([s],t.prototype,"isshow_label",void 0),__decorate([o],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],testPageView:[function(e,t){"use strict";cc._RF.push(t,"7d7b6FaaSxE/omRNcrLL6s9","testPageView"),cc.Class({extends:cc.PageView,properties:{},onLoad:function(){},start:function(){},_hasNestedViewGroup:function(e,t){if(console.log("new_hasNestedViewGroup"),e.eventPhase===cc.Event.CAPTURING_PHASE&&e.touch){var i=e.touch.getDelta();if(t)for(var n=0;n<t.length;++n){var o=t[n];if(o){if(this.node===o&&0===i.x)return!1;if(o.getComponent(cc.ViewGroup))return!1}}return!0}}}),cc._RF.pop()},{}],use_reversed_rotateTo:[function(e,t){"use strict";cc._RF.push(t,"010b9dDGoJKBaMLvHy23P5V","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}]},{},["GameLanch","ClockCtrl","EnableCollision","EquippedData","EquippedPkg","BulletConfig","ChooseFishData","FishGenData","LevelConfig","MultiFishGen","GameApp","GameResPkg","LevelData","LevelsPkg","LoginResPkg","PopDialogCtrl","ResLoadingPkg","Equipped_UI_Ctrl","GameUI_Ctrl","Levels_UI_Ctrl","LoginUI_Ctrl","Over_UI_Ctrl","ResLoading_Ctrl","Victory_UI_Ctrl","arms_Ctrl","boss1_Ctrl","boss2_Ctrl","award_AI","award_agent","award_ctrl","box1_ctrl","Collision_bullet","enemyCollision_Ctrl","enemy1_Ctrl","enemy4","enemy_AI","nav_agent","hedan_Ctrl","ball_ctrl","joystick","pet_AI","pet_agent","pet_arms_Ctrl","Collision_Ctrl","UserData","itemLevel","skill_cd","EventMgr","FrameAnim","NetMgr","PoolManager","PrefabPool","ResMgr","SoundMgr","TtMgr","UIMgr","WxMgr","RankPanel","shipei","testPageView","lq_const","lq_data","lq_interface","lq_base_util","lq_game_util","lq_math_util","lq_platform_util","lq_pool_util","lq_bullet","lq_bullet_config","lq_bullet_emitter","lq_bullet_system","lq_collide","lq_collide_base","lq_collide_config","lq_collide_system","use_reversed_rotateTo"]);